<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>tea9çš„åšå®¢</title>
  <icon>https://www.gravatar.com/avatar/305be6556a20f80752b20924fba24bd9</icon>
  <subtitle>åŠªåŠ›æ´»ç€</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://tea9.xyz/"/>
  <updated>2019-03-22T01:42:11.184Z</updated>
  <id>http://tea9.xyz/</id>
  
  <author>
    <name>tea9</name>
    <email>shaomiaojava@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>accident</title>
    <link href="http://tea9.xyz/post/2402409327.html"/>
    <id>http://tea9.xyz/post/2402409327.html</id>
    <published>2020-07-09T16:00:00.000Z</published>
    <updated>2019-03-22T01:42:11.184Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™é‡Œæ˜¯è®°å½•äº†ä¸€äº›å¥‡å¥‡æ€ªæ€ªä¸œè¥¿çš„åœ°æ–¹  </p><p><a href="https://baike.baidu.com/item/%E5%85%8B%E8%8E%B1%E5%9B%A0%E7%93%B6/1187845?fr=aladdin" target="_blank" rel="noopener">å…‹è±å› ç“¶</a> </p><p><a href="https://baike.baidu.com/item/%E5%BD%AD%E7%BD%97%E6%96%AF%E9%98%B6%E6%A2%AF/10124603?fr=aladdin&amp;fromtitle=%E6%BD%98%E6%B4%9B%E6%96%AF%E9%98%B6%E6%A2%AF&amp;fromid=935543" target="_blank" rel="noopener">å½­ç½—æ–¯é˜¶æ¢¯</a>  </p><p><a href="https://baike.baidu.com/item/%E8%8E%AB%E6%AF%94%E4%B9%8C%E6%96%AF%E5%B8%A6/4457881?fr=aladdin" target="_blank" rel="noopener">è«æ¯”ä¹Œæ–¯å¸¦</a>   </p><p><a href="https://baike.baidu.com/item/%E5%A4%96%E7%A5%96%E6%AF%8D%E6%82%96%E8%AE%BA/8027613?fr=aladdin&amp;fromid=1816917&amp;fromtitle=%E7%A5%96%E6%AF%8D%E6%82%96%E8%AE%BA" target="_blank" rel="noopener">ç¥–æ¯æ‚–è®º</a>  </p><p><a href="https://baike.baidu.com/item/%E6%8B%9F%E5%90%88%E6%9B%B2%E7%BA%BF/15093587?fr=aladdin" target="_blank" rel="noopener">æ‹Ÿåˆæ›²çº¿</a></p><p><a href="https://baike.baidu.com/item/%E5%BC%A6%E7%90%86%E8%AE%BA?fromtitle=%E8%B6%85%E5%BC%A6%E7%90%86%E8%AE%BA&amp;fromid=340146" target="_blank" rel="noopener">å¼¦ç†è®º</a>  </p><p><a href="https://wenku.baidu.com/view/823657f405087632311212be.html" target="_blank" rel="noopener">å…³äºä¸¤ä¸ªç³»ç»Ÿçš„å¯¹è¯</a></p><p><a href="https://baike.baidu.com/item/%E8%B4%B9%E7%B1%B3%E6%82%96%E8%AE%BA/10937023?fr=aladdin" target="_blank" rel="noopener">è´¹ç±³æ‚–è®º</a>  </p><p><a href="https://baike.baidu.com/item/%E5%81%9C%E6%9C%BA%E9%97%AE%E9%A2%98/4131067?fr=aladdin" target="_blank" rel="noopener">åœæœºé—®é¢˜</a>  </p><p><a href="https://baike.baidu.com/item/%E7%A6%BB%E6%95%A3%E5%82%85%E9%87%8C%E5%8F%B6%E5%8F%98%E6%8D%A2/6379901" target="_blank" rel="noopener">ç¦»æ•£å‚…é‡Œå¶å˜æ¢</a>  </p><p>å¯†ç æœ‹å…‹  </p><p>çŸ³å¢¨çƒ¯æŠ€æœ¯  </p><p>å¹‚å®šå¾‹  </p><p>[æ¬¢å–œä½›]</p><p><a href="">å¦‚æ˜¯è§‚</a><br>å¦‚æ˜¯è§‚ï¼Œè§ã€Šé‡‘åˆšç»ã€‹ç»“å°¾â€œä¸€åˆ‡æœ‰ä¸ºæ³•ï¼Œå¦‚æ¢¦å¹»æ³¡å½±ã€‚å¦‚éœ²äº¦å¦‚ç”µï¼Œåº”ä½œå¦‚æ˜¯è§‚ã€‚â€æ„æ€æ˜¯è¯´ï¼Œä½›æ•™å¾’åº”æŒè¿™æ ·çš„è§‚ç‚¹ï¼šæ‰€æœ‰äº‹ç‰©ç°è±¡ï¼Œéƒ½æ˜¯ç©ºå¹»çš„ï¼Œç”Ÿç­æ— å¸¸çš„ã€‚â€œå¦‚æ˜¯â€æ˜¯æŒ‡ç¤ºä»£è¯ï¼ŒçŠ¹è¨€å¦‚æ­¤ï¼Œæ˜¯è¿™æ ·ã€‚åœ¨ä½›ç»ä¸­ï¼Œâ€œå¦‚æ˜¯â€å¾€å¾€ç‰¹æŒ‡ä½›è¯´çš„æ•™ä¹‰ã€‚è¿‡å»æ³¨ç»è€…æˆ–è°“å½“ç†ä¸ºâ€œå¦‚â€ï¼Œæ— éä¸ºâ€œæ˜¯â€ï¼›æˆ–è°“â€œçœŸç©ºâ€ä¸ºâ€œå¦‚â€ï¼Œâ€œå¦™æœ‰â€ä¸ºâ€œæ˜¯â€ã€‚æ–‡ç« ä¸­å¼•ç”¨å¦‚é²è¿…ã€Šè€Œå·²é›†Â·å¤§è¡å‘å¾®ã€‹ï¼šâ€œå°†å† å†•å ‚çš‡çš„â€˜æ•´é¡¿å­¦é£â€™çš„ç››ä¸¾ï¼Œåªä½œå¦‚æ˜¯è§‚ï¼Œè™½ç„¶å¤§ç…é£æ™¯ï¼Œå¯¹ä¸ä½â€˜æ­£äººå›å­â€™ä»¬ï¼Œç„¶è€Œæˆ‘çš„çœ¼å…‰è¿™æ ·ï¼Œä¹Ÿå°±æ— æ³•å¯æƒ³ã€‚â€</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¿™é‡Œæ˜¯è®°å½•äº†ä¸€äº›å¥‡å¥‡æ€ªæ€ªä¸œè¥¿çš„åœ°æ–¹  &lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://baike.baidu.com/item/%E5%85%8B%E8%8E%B1%E5%9B%A0%E7%93%B6/1187845?fr=aladdin&quot; target=&quot;_blank&quot;
      
    
    </summary>
    
      <category term="biu" scheme="http://tea9.xyz/categories/biu/"/>
    
    
      <category term="accident" scheme="http://tea9.xyz/tags/accident/"/>
    
  </entry>
  
  <entry>
    <title>androidé€†å‘å·¥å…·</title>
    <link href="http://tea9.xyz/post/1200045731.html"/>
    <id>http://tea9.xyz/post/1200045731.html</id>
    <published>2019-03-19T16:00:00.000Z</published>
    <updated>2019-03-22T02:29:40.363Z</updated>
    
    <content type="html"><![CDATA[<h4 id="sdkmanager"><a href="#sdkmanager" class="headerlink" title="sdkmanager"></a>sdkmanager</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> sdkmanager --list <span class="comment"># æŸ¥çœ‹å·²ç»å®‰è£…çš„åŠå¯å®‰è£…çš„SDKåŒ…</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> sdkmanager emulator <span class="comment"># ä¸‹è½½å®‰è£…æ¨¡æ‹Ÿå™¨</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> sdkmanager platform-tools <span class="comment"># ä¸‹è½½å®‰è£…å·¥å…· adb fastboot</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> sdkmanager --update <span class="comment"># æ›´æ–°æ‰€æœ‰å¯æ›´æ–°çš„åŒ…</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä»¥android7.1å¼€å‘ä¸ºä¾‹ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> sdkmanager build-tools;25.0.3</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> sdkmanager docs</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> sdkmanager platforms;android-25</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> sdkmanager sources;android-25</span></span><br></pre></td></tr></table></figure><h4 id="emulator"><a href="#emulator" class="headerlink" title="emulator"></a>emulator</h4><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="meta-keyword">$emulator</span> -version</span></span><br></pre></td></tr></table></figure><h4 id="adb"><a href="#adb" class="headerlink" title="adb"></a>adb</h4><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="meta-keyword">$adb</span> version</span></span><br></pre></td></tr></table></figure><h4 id="ndk"><a href="#ndk" class="headerlink" title="ndk"></a>ndk</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> sdkmanager ndk-bundle <span class="comment"># ä¸‹è½½å®‰è£…ndk</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä½¿ç”¨CMakeæ„å»º ä½¿ç”¨LLDBè¿›è¡Œè°ƒè¯•</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> sdkmanager cmake;3.6.3155560</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> sdkmanager lldb;2.3</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ndk-build -v</span></span><br></pre></td></tr></table></figure><h4 id="javac"><a href="#javac" class="headerlink" title="javac"></a>javac</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> javac -<span class="built_in">source</span> 1.7 -target 1.7 Hello.java <span class="comment"># ç¼–è¯‘javaæºæ–‡ä»¶</span></span></span><br></pre></td></tr></table></figure><h4 id="dx"><a href="#dx" class="headerlink" title="dx"></a>dx</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; dx --dex --output=Hello<span class="selector-class">.dex</span> Hello<span class="selector-class">.class</span> #ç”Ÿæˆdexæ–‡ä»¶</span><br></pre></td></tr></table></figure><h4 id="javap"><a href="#javap" class="headerlink" title="javap"></a>javap</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> javap -c -classpath . Heool <span class="comment">#ä½¿ç”¨javapåç¼–è¯‘Hello.class æŸ¥çœ‹ javaå­—èŠ‚ç </span></span></span><br></pre></td></tr></table></figure><h4 id="dexdump"><a href="#dexdump" class="headerlink" title="dexdump"></a>dexdump</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> dexdump -d Hello.dex <span class="comment">#æŸ¥çœ‹Dalvikå­—èŠ‚ç </span></span></span><br></pre></td></tr></table></figure><h4 id="baksmali"><a href="#baksmali" class="headerlink" title="baksmali"></a>baksmali</h4><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">baksmali </span>-o <span class="keyword">baksmaliout </span>Hello.dex <span class="comment"># ä½¿ç”¨baksmaliç”Ÿæˆsmaliåæ±‡ç¼–æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><h4 id="smali"><a href="#smali" class="headerlink" title="smali"></a>smali</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; smali -o HelloWorld<span class="selector-class">.dex</span> HelloWorld<span class="selector-class">.smali</span> #ç¼–è¯‘smaliæ–‡ä»¶</span><br><span class="line"></span><br><span class="line">#è¿è¡Œdex</span><br><span class="line"><span class="variable">$adb</span> push Helloworld<span class="selector-class">.dex</span> /sdcard/</span><br><span class="line"><span class="variable">$adb</span> shell dalvikvm -cp /sdcard/Helloworld<span class="selector-class">.dex</span> Helloworld</span><br><span class="line">Helloworld</span><br></pre></td></tr></table></figure><h4 id="å¸¸ç”¨linux-shellå‘½ä»¤"><a href="#å¸¸ç”¨linux-shellå‘½ä»¤" class="headerlink" title="å¸¸ç”¨linux shellå‘½ä»¤"></a>å¸¸ç”¨linux shellå‘½ä»¤</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash">ls /xx <span class="comment">#åˆ—å‡ºæ–‡ä»¶ç›®å½•</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash">cat ./build.gradle <span class="comment">#åœ¨ç»ˆç«¯è¾“å…¥æ–‡ä»¶å†…å®¹</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash">grep -r <span class="string">"hello"</span> ./ <span class="comment">#grepå‘½ä»¤ç”¨äºæœç´¢åŒ¹é…æ–‡æœ¬å†…å®¹</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash">grep -r <span class="string">"hello"</span> ./ -A 10 <span class="comment"># æŸ¥çœ‹å‰10æ¡</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash">grep -r <span class="string">"hello"</span> ./ | grep <span class="string">"world"</span> <span class="comment"># åŒæ—¶åŒ…å« hello worldå­—ç¬¦ä¸²çš„æ–‡ä»¶å¹¶åˆ—å‡º</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash">mkdir -p foo/bar <span class="comment">#åˆ›å»ºæ–‡ä»¶å¤¹ -på¤šçº§ç›®å½•</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash">unzip -d /temp xx.zip <span class="comment">#è§£å‹æ–‡ä»¶</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">unzip -l xx.zip <span class="comment"># æŸ¥çœ‹åŒ…å«æ–‡ä»¶</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash">file android.jar <span class="comment">#æŸ¥çœ‹æ–‡ä»¶æ ¼å¼åŠå†…å®¹</span></span></span><br></pre></td></tr></table></figure><h4 id="å·¥å…·è®¾ç½®ç¯å¢ƒå˜é‡-by-macos"><a href="#å·¥å…·è®¾ç½®ç¯å¢ƒå˜é‡-by-macos" class="headerlink" title="å·¥å…·è®¾ç½®ç¯å¢ƒå˜é‡ by macos"></a>å·¥å…·è®¾ç½®ç¯å¢ƒå˜é‡ by macos</h4><h4 id="å¸¸ç”¨é€†å‘åˆ†æå·¥å…·"><a href="#å¸¸ç”¨é€†å‘åˆ†æå·¥å…·" class="headerlink" title="å¸¸ç”¨é€†å‘åˆ†æå·¥å…·"></a>å¸¸ç”¨é€†å‘åˆ†æå·¥å…·</h4><p>[apktool]<br>(<a href="https://bitbucket.org/iBotPeaches/apktool/downloads/" target="_blank" rel="noopener">https://bitbucket.org/iBotPeaches/apktool/downloads/</a>)  </p><p>apkåç¼–è¯‘ä¸å›ç¼–è¯‘å·¥å…·<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$ apktool d ./app-debug<span class="selector-class">.apk</span> -o outdir</span><br><span class="line"></span><br><span class="line">java -jar apktool<span class="selector-class">.jar</span> d -f &lt;xx.apk&gt; -o &lt;XX&gt;</span><br><span class="line"></span><br><span class="line">java -jar apktool_2.<span class="number">3.3</span><span class="selector-class">.jar</span> d -f xx<span class="selector-class">.apk</span> -o XX</span><br><span class="line"></span><br><span class="line">è¿™ä¸ªåŒ…æ˜¯å› ä¸ºé‡æ–°æ‰“åŒ…èµ„æºæ–‡ä»¶æœ‰é—®é¢˜ æ‰€ä»¥ç”¨-rä¸åç¼–è¯‘èµ„æºæ–‡ä»¶ -få¼ºåˆ¶åˆ é™¤ç°æœ‰æ–‡ä»¶å¤¹</span><br><span class="line">java -jar apktool<span class="selector-class">.jar</span> -r -f d xx<span class="selector-class">.apk</span> -o xx </span><br><span class="line">java -jar apktool<span class="selector-class">.jar</span> <span class="selector-tag">b</span> xx </span><br><span class="line"></span><br><span class="line">apktool å‚æ•°</span><br><span class="line">-f å¦‚æœç›®æ ‡æ–‡ä»¶å¤¹å·²å­˜åœ¨ï¼Œåˆ™å¼ºåˆ¶åˆ é™¤ç°æœ‰æ–‡ä»¶å¤¹ï¼ˆé»˜è®¤å¦‚æœç›®æ ‡æ–‡ä»¶å¤¹å·²å­˜åœ¨ï¼Œåˆ™è§£ç å¤±è´¥ï¼‰ã€‚</span><br><span class="line">-o æŒ‡å®šè§£ç ç›®æ ‡æ–‡ä»¶å¤¹çš„åç§°ï¼ˆé»˜è®¤ä½¿ç”¨APKæ–‡ä»¶çš„åå­—æ¥å‘½åç›®æ ‡æ–‡ä»¶å¤¹ï¼‰ã€‚</span><br><span class="line">-s ä¸åç¼–è¯‘dexæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´classes.dexæ–‡ä»¶ä¼šè¢«ä¿ç•™ï¼ˆé»˜è®¤ä¼šå°†dexæ–‡ä»¶è§£ç æˆsmaliæ–‡ä»¶ï¼‰ã€‚</span><br><span class="line">-r ä¸åç¼–è¯‘èµ„æºæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´resources.arscæ–‡ä»¶ä¼šè¢«ä¿ç•™ï¼ˆé»˜è®¤ä¼šå°†resources.arscè§£ç æˆå…·ä½“çš„èµ„æºæ–‡ä»¶ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">java -jar apktool<span class="selector-class">.jar</span> d -f &lt;xx.apk&gt; -o &lt;XX&gt;</span><br><span class="line"></span><br><span class="line">java -jar apktool_2.<span class="number">3.3</span><span class="selector-class">.jar</span> d -f xx<span class="selector-class">.apk</span> -o XX</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">java -jar apktool<span class="selector-class">.jar</span> -r d xx<span class="selector-class">.apk</span> -o xx  <span class="comment">//-rå¿½ç•¥èµ„æºæ–‡ä»¶</span></span><br><span class="line">java -jar apktool<span class="selector-class">.jar</span> <span class="selector-tag">b</span> xx</span><br></pre></td></tr></table></figure></p><p>d b</p><p><a href="https://github.com/as0ler/Android-Tools/tree/master/Autosign/Auto-Sign" target="_blank" rel="noopener">signapk</a><br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar signapk<span class="selector-class">.jar</span> testkey<span class="selector-class">.x509</span><span class="selector-class">.pem</span> testkey<span class="selector-class">.pk8</span> xx<span class="selector-class">.apk</span> test_signed.apk</span><br></pre></td></tr></table></figure></p><p>smali/baksmali<br>dexæ–‡ä»¶çš„åç¼–è¯‘ä¸å›ç¼–è¯‘å·¥å…·</p><p>dex2jar<br>å°†dexè½¬æ¢ä¸ºjaråŒ…å·¥å…·</p><p>jd-gui<br>æŸ¥çœ‹jaråŒ…çš„javaä»£ç </p><p>jadx<br>å¯ç›´æ¥åç¼–è¯‘apkæˆ–dex</p><p>010 Editor<br>è·¨å¹³å°çš„äºŒè¿›åˆ¶ç¼–è¾‘å™¨</p><p>ddms<br>adb è¿æ¥è®¾å¤‡ç®¡ç†<br>adb connect 127.0.0.1:62001 //è¿æ¥å¤œç¥æ¨¡æ‹Ÿå™¨</p><p>jeb</p><p>ida</p><h4 id="é›†æˆå·¥å…·"><a href="#é›†æˆå·¥å…·" class="headerlink" title="é›†æˆå·¥å…·"></a>é›†æˆå·¥å…·</h4><p>macos<br>Android-Crack-Tool<br><a href="https://github.com/Jermic/Android-Crack-Tool" target="_blank" rel="noopener">https://github.com/Jermic/Android-Crack-Tool</a></p><p>windows<br>Android Killer<br><a href="http://www.pd521.com" target="_blank" rel="noopener">http://www.pd521.com</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;sdkmanager&quot;&gt;&lt;a href=&quot;#sdkmanager&quot; class=&quot;headerlink&quot; title=&quot;sdkmanager&quot;&gt;&lt;/a&gt;sdkmanager&lt;/h4&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;t
      
    
    </summary>
    
      <category term="androidå®‰å…¨" scheme="http://tea9.xyz/categories/android%E5%AE%89%E5%85%A8/"/>
    
    
      <category term="androidé€†å‘" scheme="http://tea9.xyz/tags/android%E9%80%86%E5%90%91/"/>
    
      <category term="androidå®‰å…¨" scheme="http://tea9.xyz/tags/android%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>androidåˆ†æç¯å¢ƒbymacos</title>
    <link href="http://tea9.xyz/post/567729331.html"/>
    <id>http://tea9.xyz/post/567729331.html</id>
    <published>2019-03-17T16:00:00.000Z</published>
    <updated>2019-03-20T08:45:02.249Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä¸‹è½½jdké…ç½®ç¯å¢ƒå˜é‡"><a href="#ä¸‹è½½jdké…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="ä¸‹è½½jdké…ç½®ç¯å¢ƒå˜é‡"></a>ä¸‹è½½jdké…ç½®ç¯å¢ƒå˜é‡</h1><p><a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">jdk-down</a>  </p><h2 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h2><pre><code>vim ~/.bash_profilevim ~/.zshrc //è¦æ˜¯ä½¿ç”¨zshå°±ç¼–è¾‘zshrcJAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Homeexport JAVA_HOMEexport PATH=$JAVA_HOME/bin:$PATHsource ~/.bash_profilesource ~/.zshrcjava -version</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ä¸‹è½½jdké…ç½®ç¯å¢ƒå˜é‡&quot;&gt;&lt;a href=&quot;#ä¸‹è½½jdké…ç½®ç¯å¢ƒå˜é‡&quot; class=&quot;headerlink&quot; title=&quot;ä¸‹è½½jdké…ç½®ç¯å¢ƒå˜é‡&quot;&gt;&lt;/a&gt;ä¸‹è½½jdké…ç½®ç¯å¢ƒå˜é‡&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://www.oracle.com/te
      
    
    </summary>
    
      <category term="androidå®‰å…¨" scheme="http://tea9.xyz/categories/android%E5%AE%89%E5%85%A8/"/>
    
    
      <category term="androidå®‰å…¨" scheme="http://tea9.xyz/tags/android%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>hexo_config</title>
    <link href="http://tea9.xyz/post/1144770046.html"/>
    <id>http://tea9.xyz/post/1144770046.html</id>
    <published>2019-03-14T16:00:00.000Z</published>
    <updated>2019-03-21T07:12:43.528Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€ï¼š"><a href="#å‰è¨€ï¼š" class="headerlink" title="å‰è¨€ï¼š"></a>å‰è¨€ï¼š</h2><p>ä¸ºä»€ä¹ˆè¦ç”¨hexoï¼Œé¦–å…ˆæ˜¯å› ä¸ºgitalk å‡ºç°äº†ä¸€ä¸ªError: Validation Failed.é—®é¢˜ï¼Œå…·ä½“åŸå› æ˜¯gitalk çš„id æœ‰50ä¸ªå­—ç¬¦çš„é™åˆ¶ï¼Œå› ä¸ºæ˜¯ç”¨çš„pathnameï¼Œç„¶åpathnameé•¿åº¦è¶…äº†ï¼Œç„¶åå»ç½‘ä¸Šæœç´¢é—®é¢˜ï¼Œå‘ç°æœ‰çš„è§£å†³æ–¹æ³•æ˜¯è¦æ”¹æˆsite.title,ä½†æ˜¯æˆ‘æœ‰éƒ¨åˆ†æ–‡ç« çš„titleä¹Ÿæ˜¯è¶…é•¿çš„ï¼Œç„¶åè¿™ä¸ªé—®é¢˜ä¸€ç›´æç½®äº†ï¼Œåæ¥æˆ‘çœ‹åˆ°äº†ä¸€ä¸ªhexoçš„æŒä¹…åŒ–é“¾æ¥çš„æ–‡ç« ï¼Œå¯ä»¥éšæœºç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºæŒä¹…åŒ–é“¾æ¥ï¼Œæ˜¯é€šè¿‡ä¸€ä¸ªhexo-abbrlinkçš„ä¸€ä¸ªæ’ä»¶ï¼Œæˆ‘æœç´¢äº†ä¸€ä¸‹å‘ç°jekyllå¹¶æ²¡æœ‰è¿™ä¸ªæ’ä»¶ï¼Œç„¶åè¿˜å‘ç°äº†ä¸€äº›hexoçš„ä¸€äº›å…¶ä»–æ’ä»¶å¾ˆå¥½ç”¨ï¼Œå¦‚hexo-adminï¼Œæ©ï¼Œå°±æ‰“ç®—è¿ç§»åˆ°hexoã€‚  </p><h2 id="hexo-åˆå§‹åŒ–"><a href="#hexo-åˆå§‹åŒ–" class="headerlink" title="hexo åˆå§‹åŒ–"></a>hexo åˆå§‹åŒ–</h2><p>åœ¨ä½¿ç”¨hexoä¹‹å‰ä½ éœ€è¦å®‰è£…nodejs  </p><p><a href="https://nodejs.org/en/" target="_blank" rel="noopener">nodejså®˜ç½‘</a><br><a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">hexoå®˜ç½‘</a>  </p><p>å®‰è£…nodejsä¹‹åå®‰è£…hexo  </p><pre><code>npm install hexo-cli -ghexo init blogcd blognpm installhexo server</code></pre><h2 id="hexo-ä¸»é¢˜"><a href="#hexo-ä¸»é¢˜" class="headerlink" title="hexo ä¸»é¢˜"></a>hexo ä¸»é¢˜</h2><p><a href="https://hexo.io/themes/" target="_blank" rel="noopener">hexo theme</a>  </p><p>æˆ–è€…åœ¨github ä¸Šæœç´¢ hexo themeæ‰¾åˆ°ä½ å–œæ¬¢çš„ä¸»é¢˜  </p><p>è¿™ä¸ªæ˜¯ä¸€ä¸ªæˆ‘æ¯”è¾ƒå–œæ¬¢çš„ä¸»é¢˜<br><a href="https://github.com/aircloud/hexo-theme-aircloud" target="_blank" rel="noopener">aircloud github</a><br><a href="http://niexiaotao.cn/" target="_blank" rel="noopener">aircloud</a>  </p><pre><code>åˆ‡æ¢åˆ°åšå®¢ç›®å½•mkdir themes/aircloudgit clone https://github.com/aircloud/hexo-theme-aircloud.git themes/aircloud/aircloud æœç´¢åŠŸèƒ½npm i hexo-generator-search --saveæ·»åŠ _config.ymlsearch:  path: search.json  field: postä¿®æ”¹_config.yml themetheme: aircloud</code></pre><p>å…¶ä»–çš„ä¸€äº›é…ç½®å‚ç…§<a href="https://github.com/aircloud/hexo-theme-aircloud/blob/master/readme.md" target="_blank" rel="noopener">aircloud readme</a>  </p><p>ç„¶åä¿®æ”¹äº†ä¸€äº›åœ°æ–¹ï¼ŒåŒ…æ‹¬é…ç½®ï¼Œå¤´åƒï¼Œè¯„è®ºï¼Œæ–‡ç« ä¹‹ç±»çš„  </p><h2 id="hexoå‘½ä»¤"><a href="#hexoå‘½ä»¤" class="headerlink" title="hexoå‘½ä»¤"></a>hexoå‘½ä»¤</h2><pre><code>hexo new &lt;title&gt;hexo generate //ç”Ÿæˆé™æ€æ–‡ä»¶hexo clean //æ¸…ç†hexo serverhexo deploy //éƒ¨ç½²åˆ°ç½‘ç«™hexo new page tags hexo new draft &quot;new draft&quot; //æ–°å»ºè‰ç¨¿render_drafts: true //å¦‚æœä½ å¸Œæœ›å¼ºè¡Œé¢„è§ˆè‰ç¨¿ï¼Œæ›´æ”¹é…ç½®æ–‡ä»¶ï¼šhexo server --drafts //æˆ–è€…ï¼Œå¦‚ä¸‹æ–¹å¼å¯åŠ¨serverhexo publish [layout] &lt;filename&gt;hexo publish &lt;title&gt; //è‰ç¨¿ç§»åŠ¨åˆ° source/_posts (æ²¡æœ‰è¯•è¿‡</code></pre><h2 id="jekyll-to-hexo"><a href="#jekyll-to-hexo" class="headerlink" title="jekyll to hexo"></a>jekyll to hexo</h2><p>å› ä¸ºæˆ‘ä¹‹å‰çš„åšå®¢æ˜¯jekyll æ¥çš„ è¿ç§»åˆ°hexo æœ‰ä¸€äº›é—®é¢˜æˆ–è€…å·®å¼‚ç„¶åè®°å½•ä¸‹  </p><p>1.æˆ‘é‡åˆ°çš„ç¬¬ä¸€ä¸ªå·®å¼‚å°±æ˜¯tagsçš„æ ¼å¼ä¸ä¸€æ ·  </p><p>jekyll<br><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">tags:</span> androidé€†å‘ xposed</span><br></pre></td></tr></table></figure></p><p>hexo<br><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">tags:</span> </span><br><span class="line">  - androidé€†å‘ </span><br><span class="line">  - xposed</span><br></pre></td></tr></table></figure></p><p>è¿™æ ·è¦æ˜¯æ²¡ä»€ä¹ˆå¤§é—®é¢˜å‡ ä¹æˆ‘å°±ä¸æ”¹äº†ï¼Œä½†æ˜¯ä¼šå‡ºç°tagsçš„ç›´æ¥è¯†åˆ«æˆä¸€ä¸ªï¼Œå°±éœ€è¦ä¿®æ”¹ã€‚  </p><hr><p>2.<br>jekyll<br>ä¸‹é¢æ˜¯ç”¨ä½œå›¾ç‰‡é“¾æ¥å¼•ç”¨çš„<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">_config.yml</span><br><span class="line"><span class="string">img_link:</span> <span class="string">http:</span><span class="comment">//xx.com</span></span><br><span class="line"></span><br><span class="line">æ–‡ç« ä¸­</span><br><span class="line">&#123;&#123;site.img_link&#125;&#125;</span><br></pre></td></tr></table></figure></p><p>hexo<br>hexoåœ¨æ–‡ç« ä¸­æ— æ³•å¼•ç”¨configå®šä¹‰çš„æ ‡ç­¾<br><a href="https://github.com/hexojs/hexo/issues/2756" target="_blank" rel="noopener">Is it possible to refer a config variable in Markdown contentï¼Ÿ</a>ç„¶åç¾¤é‡Œå¤§ä½¬ç»™æˆ‘å‘äº†ä¸€ä¸ªissueæè¿°çš„è·Ÿæˆ‘é‡åˆ°çš„é—®é¢˜ä¸€æ ·ï¼Œä½†æ˜¯è§£å†³æ–¹æ³•æœ‰ç‚¹ä¸æ»¡æ„ï¼Œæœ€åçš„å›å¤æœ‰ä¸ªæ’ä»¶ï¼Œä½†æ˜¯ç”¨æ³•ä¸æ¸…æ™°ï¼Œç„¶åå›¾ç‰‡é“¾æ¥çš„é—®é¢˜ï¼Œå°±æ˜¯å…¨å±€æ›¿æ¢äº†ï¼ŒğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­</p><hr><p>3.è¿˜æœ‰ä¸ªå·®å¼‚æ˜¯åœ¨hexoä¸­ä¸èƒ½ä½¿ç”¨<code>&lt;!----&gt;</code>ä½¿ç”¨äº†å°±ä¼šæœ‰é—®é¢˜ï¼Œè¦ä¸æ˜¯å†…å®¹ä¸¢å¤±ï¼Œè¦ä¸æ˜¯å°±æ˜¯æ’ç‰ˆä¼šä¹±æ‰ã€‚</p><h2 id="hexo-plugin"><a href="#hexo-plugin" class="headerlink" title="hexo plugin"></a>hexo plugin</h2><p><a href="https://github.com/Rozbo/hexo-abbrlink" target="_blank" rel="noopener">hexo-abbrlink</a><br>å¯ä»¥ç”¨ä½œé“¾æ¥æŒä¹…åŒ–<br>æ•ˆæœå°±æ˜¯ç”Ÿæˆä¸€ä¸²çŸ­é“¾æ¥ï¼Œè€Œä¸”è¿™ä¸ªé“¾æ¥æ˜¯å›ºå®šçš„ï¼Œå¯ä»¥ç›´æ¥è®¿é—®<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-abbrlink <span class="comment">--save</span></span><br><span class="line"></span><br><span class="line">_config.yml</span><br><span class="line">permalink: posts/:abbrlink/</span><br><span class="line"># abbrlink config</span><br><span class="line">abbrlink:</span><br><span class="line">  alg: <span class="keyword">crc32</span>  #support crc16(<span class="keyword">default</span>) <span class="keyword">and</span> <span class="keyword">crc32</span></span><br><span class="line">  rep: <span class="keyword">hex</span>    #support <span class="built_in">dec</span>(<span class="keyword">default</span>) <span class="keyword">and</span> <span class="keyword">hex</span></span><br></pre></td></tr></table></figure></p><hr><p><a href="https://github.com/jaredly/hexo-admin" target="_blank" rel="noopener">hexo-admin</a><br>å°±æ˜¯ä¸€ä¸ªåå°ç®¡ç†hexoåšå®¢çš„æ’ä»¶ï¼Œä½¿ç”¨æ•ˆæœå°±æ˜¯è®¿é—®<a href="http://localhost:4000/adminå°±ä¼šæœ‰ä¸€ä¸ªç®¡ç†é¡µé¢" target="_blank" rel="noopener">http://localhost:4000/adminå°±ä¼šæœ‰ä¸€ä¸ªç®¡ç†é¡µé¢</a><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> <span class="comment">--save hexo-admin</span></span><br><span class="line">hexo s</span><br><span class="line">è®¿é—®</span><br><span class="line"><span class="keyword">http</span>://localhost:<span class="number">4000</span>/<span class="keyword">admin</span></span><br></pre></td></tr></table></figure></p><h2 id="other"><a href="#other" class="headerlink" title="other"></a>other</h2><p>è¿™ä¸ªå°±æ˜¯æ¨èå‡ ä¸ªåšå®¢å¯ä»¥ä½¿ç”¨çš„ä¸€äº›apiæˆ–è€…æ’ä»¶ï¼Œç®—æ˜¯æ¯”è¾ƒé€šç”¨çš„ã€‚</p><hr><p><a href="https://github.com/gitalk/gitalk" target="_blank" rel="noopener">gitalk</a><br>ä¸€ä¸ªè¯„è®ºæ’ä»¶ï¼Œä½œç”¨å°±æ˜¯ä¼šåœ¨githubç”Ÿæˆissueï¼Œä½œä¸ºè¯„è®º  </p><hr><p><a href="https://hitokoto.cn/" target="_blank" rel="noopener">ä¸€è¨€</a><br>ä¸­äºŒä¸€å¥è¯ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</p><hr><p><a href="http://www.google.cn/adsense" target="_blank" rel="noopener">google adsense</a>  </p><p>åœ¨åšå®¢ä¸Šæ’å…¥è°·æ­Œå¹¿å‘Šï¼Œåº”è¯¥å¤§æ¦‚å¯ä»¥èµšé’±ï¼ˆåæ­£æˆ‘è¿˜æ²¡æœ‰ç›ˆåˆ©  </p><hr><p><a href="https://www.live2d.com/ja/" target="_blank" rel="noopener">live2d å°å§å§</a><br>è¿™ä¸ªé…ç½®å°±éº»çƒ¦ç‚¹äº†ï¼Œä½†æ˜¯å°å§å§æŒºå¯çˆ±çš„  </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€ï¼š&quot;&gt;&lt;a href=&quot;#å‰è¨€ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€ï¼š&quot;&gt;&lt;/a&gt;å‰è¨€ï¼š&lt;/h2&gt;&lt;p&gt;ä¸ºä»€ä¹ˆè¦ç”¨hexoï¼Œé¦–å…ˆæ˜¯å› ä¸ºgitalk å‡ºç°äº†ä¸€ä¸ªError: Validation Failed.é—®é¢˜ï¼Œå…·ä½“åŸå› æ˜¯gitalk
      
    
    </summary>
    
      <category term="hexo" scheme="http://tea9.xyz/categories/hexo/"/>
    
    
      <category term="hexo" scheme="http://tea9.xyz/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>android Broadcast Receiveræ¼æ´æŒ–æ˜</title>
    <link href="http://tea9.xyz/post/962818054.html"/>
    <id>http://tea9.xyz/post/962818054.html</id>
    <published>2019-03-06T16:00:00.000Z</published>
    <updated>2019-03-20T06:54:37.586Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Broadcast-Receiverå®‰å…¨åœºæ™¯å’Œå±å®³"><a href="#Broadcast-Receiverå®‰å…¨åœºæ™¯å’Œå±å®³" class="headerlink" title="Broadcast Receiverå®‰å…¨åœºæ™¯å’Œå±å®³"></a>Broadcast Receiverå®‰å…¨åœºæ™¯å’Œå±å®³</h2><p>BroadcastReceiveræ˜¯Androidçš„å››å¤§ç»„ä»¶ä¹‹ä¸€ï¼Œè¿™ä¸ªç»„ä»¶æ¶‰åŠä¸¤ä¸ªæ¦‚å¿µï¼šå¹¿æ’­å‘é€è€…å’Œå¹¿æ’­æ¥å—è€…ã€‚<br>è¿™é‡Œçš„å¹¿æ’­å®é™…ä¸ŠæŒ‡çš„å°±æ˜¯intentã€‚<br>å½“å‘é€ä¸€ä¸ªå¹¿æ’­æ—¶ï¼Œç³»ç»Ÿä¼šå°†å‘é€çš„å¹¿æ’­(intent)ä¸ç³»ç»Ÿä¸­æ‰€æœ‰æ³¨å†Œçš„ç¬¦åˆæ¡ä»¶çš„æ¥æ”¶è€…çš„IntentFilterè¿›è¡ŒåŒ¹é…ï¼Œè‹¥åŒ¹é…æˆåŠŸï¼Œåˆ™æ‰§è¡Œç›¸åº”æ¥æ”¶è€…çš„onReceiveå‡½æ•°ã€‚<br>å‘é€å¹¿æ’­æ—¶å¦‚æœå¤„ç†ä¸å½“ï¼Œæ¶æ„åº”ç”¨ä¾¿å¯ä»¥å—…æ¢ã€æ‹¦æˆªå¹¿æ’­ï¼Œè‡´ä½¿æ•æ„Ÿæ•°æ®æ³„éœ²ç­‰ï¼›å¦‚æœæ¥æ”¶å¹¿æ’­æ—¶å¤„ç†ä¸å½“ï¼Œä¾¿å¯å¯¼è‡´æ‹’ç»æœåŠ¡æ”»å‡»ã€ä¼ªé€ æ¶ˆæ¯ã€è¶Šæƒæ“ä½œç­‰ã€‚  </p><h2 id="Broadcast-Receiveræ¼æ´åˆ†ç±»"><a href="#Broadcast-Receiveræ¼æ´åˆ†ç±»" class="headerlink" title="Broadcast Receiveræ¼æ´åˆ†ç±»"></a>Broadcast Receiveræ¼æ´åˆ†ç±»</h2><ul><li>æ•æ„Ÿä¿¡æ¯æ³„éœ²</li><li>æƒé™ç»•è¿‡</li><li>æ¶ˆæ¯ä¼ªé€ </li><li>æ‹’ç»æœåŠ¡</li></ul><h2 id="æ•æ„Ÿä¿¡æ¯æ³„æ¼æ¼æ´"><a href="#æ•æ„Ÿä¿¡æ¯æ³„æ¼æ¼æ´" class="headerlink" title="æ•æ„Ÿä¿¡æ¯æ³„æ¼æ¼æ´"></a>æ•æ„Ÿä¿¡æ¯æ³„æ¼æ¼æ´</h2><p>å‘é€çš„intentæ²¡æœ‰æ˜ç¡®æŒ‡å®šæ¥æ”¶è€…ï¼Œè€Œæ˜¯ç®€å•çš„é€šè¿‡actionè¿›è¡ŒåŒ¹é…ã€‚æ¶æ„åº”ç”¨ä¾¿å¯ä»¥æ³¨å†Œä¸€ä¸ªå¹¿æ’­æ¥æ”¶è€…å—…æ¢æ‹¦æˆªåˆ°è¿™ä¸ªå¹¿æ’­ï¼Œå¦‚æœè¿™ä¸ªå¹¿æ’­é‡Œå­˜åœ¨æ•æ„Ÿæ•°æ®ï¼Œå°±è¢«æ¶æ„åº”ç”¨çªƒå–äº†ã€‚  </p><p>éšå¼æ„å›¾å‘é€æ•æ„Ÿä¿¡æ¯ï¼š  </p><pre><code>private void d() {    Intent v1 = new Intent();    v1.setAction(&quot;com.sample.action.server_running&quot;);    v1.putExtra(&quot;local_ip&quot;,v0.h);    v1.putExtra(&quot;port&quot;,v0.i);    v1.putExtra(&quot;code&quot;,v0.g);    v1.putExtra(&quot;connected&quot;,v0.s);    v1.putExtra(&quot;pwd_predefined&quot;,v0.r);    if(!TextUtils.isEmpty(v0.t)){        v1.putExtra(&quot;connected_usr&quot;,v0.t);    }    sendBroadcast(v1);}</code></pre><p>POC:  </p><pre><code>public void onReceive(Context context,Intent intent){    String s = null;    if(intent.getACtion().equals(&quot;com.sample.action.server_running&quot;)){        String pwd=intent.getStringExtra(&quot;connected&quot;);        s=&quot;Airdroid =&gt; [&quot;+pwd+&quot;]/&quot;+intent.getExtras();    }    Toast.makeTest(context,String.format(&quot;%sReceived&quot;,s),Toast.LENGTH_SHORT).show();}</code></pre><h2 id="æ•æ„Ÿä¿¡æ¯æ³„éœ²æ¼æ´ï¼šä¿®å¤"><a href="#æ•æ„Ÿä¿¡æ¯æ³„éœ²æ¼æ´ï¼šä¿®å¤" class="headerlink" title="æ•æ„Ÿä¿¡æ¯æ³„éœ²æ¼æ´ï¼šä¿®å¤"></a>æ•æ„Ÿä¿¡æ¯æ³„éœ²æ¼æ´ï¼šä¿®å¤</h2><p>ä¿®å¤åä»£ç ï¼Œä½¿ç”¨LocalBroadcastManager.sendBroadcast()å‘å‡ºçš„å¹¿æ’­åªèƒ½è¢«appè‡ªèº«å¹¿æ’­æ¥æ”¶å™¨æ¥æ”¶ã€‚  </p><pre><code>Intent intent = new Intent(&quot;my-sensitive-event&quot;);intent.putExtra(&quot;event&quot;,&quot;this is a test event&quot;);LocalBroadcastManager.getInstance(this).sendBroadcast(intent);</code></pre><h2 id="æƒé™ç»•è¿‡æ¼æ´"><a href="#æƒé™ç»•è¿‡æ¼æ´" class="headerlink" title="æƒé™ç»•è¿‡æ¼æ´"></a>æƒé™ç»•è¿‡æ¼æ´</h2><p>å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼æ³¨å†Œå¹¿æ’­æ¥æ”¶å™¨ï¼Œä¸€ç§æ˜¯åœ¨AndroidManifest.xmlæ–‡ä»¶ä¸­é€šè¿‡<receiver>æ ‡ç­¾é™æ€æ³¨å†Œã€‚å¦å¤–ä¸€ç§æ˜¯é€šè¿‡Context.registerReceiver()åŠ¨æ€æ³¨å†Œ,æŒ‡å®šç›¸åº”çš„intentFilterå‚æ•°ã€‚ç„¶è€ŒåŠ¨æ€æ³¨å†Œçš„å¹¿æ’­é»˜è®¤æ˜¯å¯¼å‡ºçš„ã€‚å¦‚æœå¯¼å‡ºçš„BroadcastReceiveræ²¡æœ‰åšæƒé™æ§åˆ¶ï¼Œå¯¼è‡´BroadcastReceiverç»„ä»¶å¯ä»¥æ¥æ”¶ä¸€ä¸ªå¤–éƒ¨å¯æ§urlã€æˆ–è€…å…¶ä»–å‘½ä»¤ï¼Œå¯¼è‡´æ”»å‡»è€…å¯ä»¥è¶Šæƒåˆ©ç”¨åº”ç”¨çš„ä¸€äº›ç‰¹å®šåŠŸèƒ½ï¼Œæ¯”å¦‚å‘é€æ¶æ„å¹¿æ’­ã€ä¼ªé€ æ¶ˆæ¯ã€ä»»æ„åº”ç”¨ä¸‹è½½å®‰è£…ã€æ‰“å¼€é’“é±¼ç½‘ç«™ç­‰ã€‚  </receiver></p><p>ç¨‹åºåŠ é”è§£é”æ˜¯é å¹¿æ’­æ¥æ§åˆ¶çš„ï¼Œå¹¶ä¸”è¿™ä¸¤æ¡å¹¿æ’­æ²¡åšæƒé™é™åˆ¶ï¼Œä»»æ„åº”ç”¨å¯ä»¥å‘é€æ­¤å¹¿æ’­è¾¾åˆ°æ¶æ„è§£é”ã€æ¶æ„é”å®šåº”ç”¨çš„ç›®çš„ã€‚  </p><p>codeï¼š  </p><pre><code>android.intent.action.PACKAGE_FULLY_REMOVED</code></pre><p>æ¼æ´è¯æ˜ï¼š  </p><pre><code>ç®€å•æµ‹è¯•æ–¹æ³•ç”¨adb shell å‘é€å¹¿æ’­</code></pre><p>codeåŒºåŸŸï¼š  </p><pre><code>am broadcast -a android.intent.action.PACKAGE_FULLY_REMOVED -d package:com.wumii.android.mimi</code></pre><h2 id="æƒé™ç»•è¿‡æ¼æ´ï¼šä¿®å¤"><a href="#æƒé™ç»•è¿‡æ¼æ´ï¼šä¿®å¤" class="headerlink" title="æƒé™ç»•è¿‡æ¼æ´ï¼šä¿®å¤"></a>æƒé™ç»•è¿‡æ¼æ´ï¼šä¿®å¤</h2><p>æ¨èä½¿ç”¨å‘¢LocalBroadcastManagerç±»,è¿™ä¸ªç±»ç›¸è¾ƒäºContext.sendBroadcast(intent)æœ‰ä¸‹é¢ä¸‰æ–¹é¢çš„ä¼˜åŠ¿ã€‚  </p><p>1.ä¸ç”¨æ‹…å¿ƒæ•æ„Ÿæ•°æ®æ³„éœ²ï¼Œé€šè¿‡è¿™ç§æ–¹å¼å‘é€çš„å¹¿æ’­åªèƒ½åº”ç”¨å†…æ¥æ”¶ã€‚<br>2.ä¸ç”¨æ‹…å¿ƒå®‰å…¨æ¼æ´è¢«åˆ©ç”¨ï¼Œå› ä¸ºå…¶ä»–åº”ç”¨æ— æ³•å‘é€æ¶æ„å¹¿æ’­ç»™ä½ ã€‚<br>3.å®ƒæ¯”ç³»ç»Ÿçš„å…¨å±€å¹¿æ’­æ›´é«˜æ•ˆã€‚  </p><h2 id="æ¶ˆæ¯ä¼ªé€ "><a href="#æ¶ˆæ¯ä¼ªé€ " class="headerlink" title="æ¶ˆæ¯ä¼ªé€ "></a>æ¶ˆæ¯ä¼ªé€ </h2><pre><code>æš´éœ²çš„Receiverå¯¹å¤–æ¥æ”¶Intentï¼Œå¦‚æœæ„é€ æ¶æ„çš„æ¶ˆæ¯æ”¾åœ¨Intentä¸­ä¼ è¾“çš„ï¼Œè¢«è°ƒç”¨çš„Receiveræ¥æ”¶æœ‰å¯èƒ½äº§ç”Ÿå®‰å…¨éšæ‚£ã€‚  Intent i= new Intent();i.setAction(&quot;com.baidu.android.oushservice.action.MESSAGE&quot;);Bundle b = new Bundle();JSONObject jsobject = new JSONObject();JSONObject custom_content_js = new JSONObject();jsobject.put(&quot;title&quot;,&quot;ç™¾åº¦äº‘ç›˜ã€æ¼æ´ä½ ä¸­å¥–äº†!ã€‘&quot;);jsobject.put(&quot;descrption&quot;,&quot;&quot;);//jsobject.put(&quot;url&quot;,&quot;http://bcscdn.baidu.com/netdisk/BaiduYun_5.1.0.apk&quot;);JSONObject customcontent_js = new JSONObject();customcontent_js.put(&quot;type&quot;,&quot;1&quot;);customcontent_js.put(&quot;msg_type&quot;,&quot;resources_push&quot;);</code></pre><h2 id="æ¶ˆæ¯ä¼ªé€ -é˜²æŠ¤"><a href="#æ¶ˆæ¯ä¼ªé€ -é˜²æŠ¤" class="headerlink" title="æ¶ˆæ¯ä¼ªé€  é˜²æŠ¤"></a>æ¶ˆæ¯ä¼ªé€  é˜²æŠ¤</h2><pre><code>è®¾ç½®ä¸ºç­¾åéªŒè¯android:protectionLevel=&quot;signature&quot;&lt;receiver android:name=&quot;com.umeng.message.UmengMessageBootReceiver&quot; android:protectionLevel=&quot;signature&quot;&gt;    &lt;intent-filter&gt;        &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;/&gt;    &lt;/intent-filter&gt;&lt;/receiver&gt;</code></pre><h2 id="æ‹’ç»æœåŠ¡"><a href="#æ‹’ç»æœåŠ¡" class="headerlink" title="æ‹’ç»æœåŠ¡"></a>æ‹’ç»æœåŠ¡</h2><p>å¦‚æœæ•æ„Ÿçš„BroadcastReceiveræ²¡æœ‰è®¾ç½®ç›¸åº”çš„æƒé™ä¿æŠ¤ï¼Œå¾ˆå®¹æ˜“å—åˆ°æ”»å‡»ã€‚æœ€å¸¸è§çš„æ˜¯æ‹’ç»æœåŠ¡æ”»å‡»ã€‚æ‹’ç»æœåŠ¡æ”»å‡»æŒ‡çš„æ˜¯ï¼Œä¼ é€’æ¶æ„ç•¸å½¢çš„intentæ•°æ®ç»™å¹¿æ’­æ¥æ”¶å™¨ï¼Œå¹¿æ’­æ¥æ”¶å™¨æ— æ³•å¤„ç†å¼‚å¸¸å¯¼è‡´crashã€‚  </p><p>æ‹’ç»æœåŠ¡æ”»å‡»çš„å±å®³è§†å…·ä½“ä¸šåŠ¡åœºæ™¯è€Œå®šï¼Œæ¯”å¦‚ä¸€ä¸ªå®‰å…¨é˜²æŠ¤äº§å“çš„æ‹’ç»æœåŠ¡ã€é”å±åº”ç”¨çš„æ‹’ç»æœåŠ¡ã€æ”¯ä»˜è¿›ç¨‹çš„æ‹’ç»æœåŠ¡ç­‰å±å®³å°±æ˜¯å·¨å¤§çš„ã€‚  </p><h2 id="æ‹’ç»æœåŠ¡-é˜²æŠ¤"><a href="#æ‹’ç»æœåŠ¡-é˜²æŠ¤" class="headerlink" title="æ‹’ç»æœåŠ¡ é˜²æŠ¤"></a>æ‹’ç»æœåŠ¡ é˜²æŠ¤</h2><ul><li>ç©ºæŒ‡é’ˆå¼‚å¸¸</li><li>ç±»å‹è½¬æ¢å¼‚å¸¸</li><li>æ•°ç»„è¶Šç•Œè®¿é—®å¼‚å¸¸</li><li>ç±»æœªå®šä¹‰å¼‚å¸¸</li><li><p>å…¶ä»–å¼‚å¸¸</p><p>  //Serializableï¼š<br>  Intent i = this.getIntent();<br>  if(i.getAction().equals(â€œserializable_actionâ€)){</p><pre><code>i.getSerializableExtra(&quot;serializable_key&quot;);//æœªåšå¼‚å¸¸åˆ¤æ–­</code></pre><p>  }<br>  //Parcelable:<br>  this.b=(RouterConfig)this.getIntent().getParcelableExtra(â€œfiled_router_configâ€);//å¼•å‘è½¬å‹å¼‚å¸¸å´©æºƒ</p></li></ul><p>è°¨æ…å¤„ç†æ¥æ”¶çš„intentä»¥åŠå…¶æºå¸¦çš„ä¿¡æ¯ã€‚<br>å¯¹æ¥æ”¶åˆ°çš„ä»»ä½•æ•°æ®åštry catchå¤„ç†ï¼Œä»¥åŠå¯¹ä¸ç¬¦åˆé¢„æœŸçš„æ•°æ®åšå¼‚å¸¸å¤„ç†ã€‚  </p><h2 id="Broadcastå®‰å…¨é˜²æŠ¤"><a href="#Broadcastå®‰å…¨é˜²æŠ¤" class="headerlink" title="Broadcastå®‰å…¨é˜²æŠ¤"></a>Broadcastå®‰å…¨é˜²æŠ¤</h2><ul><li>ç§æœ‰å¹¿æ’­æ¥æ”¶å™¨è®¾ç½®exported=â€™falseâ€™,å¹¶ä¸”ä¸é…ç½®intent-filterã€‚(ç§æœ‰å¹¿æ’­æ¥æ”¶å™¨ä¾ç„¶èƒ½æ¥æ”¶åˆ°åŒUIDçš„å¹¿æ’­)ã€‚</li><li>å¯¹æ¥æ”¶æ¥çš„å¹¿æ’­è¿›è¡ŒéªŒè¯ã€‚</li><li>å†…éƒ¨appä¹‹é—´çš„å¹¿æ’­ä½¿ç”¨protectionLevel=â€™signatureâ€™ éªŒè¯å…¶æ˜¯å¦çœŸæ˜¯å†…éƒ¨appã€‚</li><li>è¿”å›ç»“æœæ—¶éœ€æ³¨æ„æ¥æ”¶appæ˜¯å¦ä¼šæ³„éœ²ä¿¡æ¯ã€‚ </li><li>å‘é€çš„å¹¿æ’­åŒ…å«æ•æ„Ÿä¿¡æ¯æ—¶éœ€æŒ‡å®šå¹¿æ’­æ¥æ”¶å™¨ï¼Œä½¿ç”¨æ˜¾ç¤ºæ„å›¾æˆ–è€…setPackage(String packageName)ã€‚</li><li>ä½¿ç”¨LocalBroadcastManagerã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Broadcast-Receiverå®‰å…¨åœºæ™¯å’Œå±å®³&quot;&gt;&lt;a href=&quot;#Broadcast-Receiverå®‰å…¨åœºæ™¯å’Œå±å®³&quot; class=&quot;headerlink&quot; title=&quot;Broadcast Receiverå®‰å…¨åœºæ™¯å’Œå±å®³&quot;&gt;&lt;/a&gt;Broadcast R
      
    
    </summary>
    
      <category term="androidå®‰å…¨" scheme="http://tea9.xyz/categories/android%E5%AE%89%E5%85%A8/"/>
    
    
      <category term="androidå®‰å…¨" scheme="http://tea9.xyz/tags/android%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>android Content Provideræ¼æ´æŒ–æ˜</title>
    <link href="http://tea9.xyz/post/758430476.html"/>
    <id>http://tea9.xyz/post/758430476.html</id>
    <published>2019-03-06T16:00:00.000Z</published>
    <updated>2019-03-20T12:27:31.162Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Content-Providerå®‰å…¨åœºæ™¯å’Œå±å®³"><a href="#Content-Providerå®‰å…¨åœºæ™¯å’Œå±å®³" class="headerlink" title="Content Providerå®‰å…¨åœºæ™¯å’Œå±å®³"></a>Content Providerå®‰å…¨åœºæ™¯å’Œå±å®³</h2><p>åœ¨Androidç³»ç»Ÿä¸­ï¼ŒContent Providerä½œä¸ºåº”ç”¨ç¨‹åºå››å¤§ç»„ä»¶ä¹‹ä¸€ï¼Œå®ƒèµ·åˆ°åœ¨åº”ç”¨ç¨‹åºä¹‹é—´å…±äº«æ•°æ®çš„ä½œç”¨ï¼Œé€šè¿‡Binderè¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ä»¥åŠåŒ¿åå…±äº«å†…å­˜æœºåˆ¶æ¥å®ç°ã€‚<br>ç„¶è€Œæœ‰äº›æ•°æ®æ˜¯åº”ç”¨è‡ªå·±çš„æ ¸å¿ƒæ•°æ®ï¼Œéœ€è¦æœ‰ä¿æŠ¤åœ°è¿›è¡Œå¼€æ”¾ã€‚<br>è™½ç„¶Binderè¿›ç¨‹é—´é€šä¿¡æœºåˆ¶çªç ´äº†ä»¥åº”ç”¨ç¨‹åºä¸ºè¾¹ç•Œçš„æƒé™æ§åˆ¶ï¼Œä½†æ˜¯å®ƒæ˜¯å®‰å…¨å¯æ§çš„ï¼Œå› ä¸ºæ•°æ®çš„è®¿é—®æ¥å£æ˜¯ç”±æ•°æ®çš„æ‰€æœ‰è€…æ¥æä¾›çš„ï¼Œå°±æ˜¯æ•°æ®æä¾›æ–¹å¯ä»¥åœ¨æ¥å£å±‚æ¥å®ç°å®‰å…¨æ§åˆ¶ï¼Œå†³å®šå“ªäº›æ•°æ®æ˜¯å¯ä»¥è¯»ï¼Œå“ªäº›æ•°æ®å¯ä»¥å†™ã€‚<br>å¾ˆå¤šå¼€å‘è€…ä¸èƒ½æ°å½“çš„ä½¿ç”¨ï¼Œå¯¼è‡´æ”»å‡»è€…å¯è®¿é—®åˆ°åº”ç”¨æœ¬èº«ä¸æƒ³å…±äº«çš„æ•°æ®ã€‚è™½ç„¶Content Providerç»„ä»¶æœ¬èº«ä¹Ÿæä¾›äº†è¯»å†™æƒé™æ§åˆ¶ï¼Œä½†æ˜¯å®ƒçš„æ§åˆ¶ç²’åº¦æ˜¯æ¯”è¾ƒç²—çš„ã€‚  </p><h2 id="Content-Provideræ¼æ´åˆ†ç±»"><a href="#Content-Provideræ¼æ´åˆ†ç±»" class="headerlink" title="Content Provideræ¼æ´åˆ†ç±»"></a>Content Provideræ¼æ´åˆ†ç±»</h2><ul><li>ä¿¡æ¯æ³„æ¼</li><li>SQLæ³¨å…¥</li><li>ç›®å½•éå†</li></ul><h2 id="ä¿¡æ¯æ³„éœ²æ¼æ´"><a href="#ä¿¡æ¯æ³„éœ²æ¼æ´" class="headerlink" title="ä¿¡æ¯æ³„éœ²æ¼æ´"></a>ä¿¡æ¯æ³„éœ²æ¼æ´</h2><p>content URIæ˜¯ä¸€ä¸ªæ ‡å¿—providerä¸­çš„æ•°æ®çš„URIã€‚Content URIä¸­åŒ…å«äº†æ•´ä¸ªproviderçš„ä»¥ç¬¦å·è¡¨ç¤ºçš„åå­—(å®ƒçš„authority)å’ŒæŒ‡å‘ä¸€ä¸ªè¡¨çš„åå­—(ä¸€ä¸ªè·¯å¾„)ã€‚å½“ä½ è°ƒç”¨ä¸€ä¸ªå®¢æˆ·ç«¯çš„æ–¹æ³•æ¥æ“ä½œä¸€ä¸ªï¼Œproviderä¸­çš„ä¸€ä¸ªè¡¨ï¼ŒæŒ‡å‘è¡¨çš„contentURIæ˜¯å‚æ•°ä¹‹ä¸€ï¼Œå¦‚æœå¯¹Content Providerçš„æƒé™æ²¡æœ‰åšå¥½æ§åˆ¶ï¼Œå°±æœ‰å¯èƒ½å¯¼è‡´æ¶æ„çš„ç¨‹åºé€šè¿‡è¿™ç§æ–¹å¼è¯»å–APPçš„æ•æ„Ÿæ•°æ®ã€‚  </p><pre><code>&lt;provider android:name=&quot;.providers.YouNiProvider&quot; android:process=&quot;com.snda.youni.mms&quot; android:authorities=&quot;com.snda.youni.providers.DataStructs&quot;/&gt;private void getyouni(){    int i = 0;    ContentResolver contentresolver=getContentResolver();    String[] projection={&quot;* from contacts--&quot;};    Uri uri =Uri.parse(&quot;content://com.snda.youni.providers.DataStructs/message_ex&quot;);    Cursor cursor=contentresolver.query(uri.projection,null,null,null);    String text=&quot;&quot;;    while(cursor.moveToNext()){        text+=cursor.getString(cursor.getColumnIndex(&quot;display_name&quot;))+&quot;\n&quot;;    }    Log.i(&quot;TEST&quot;,text);}</code></pre><h2 id="ä¿¡æ¯æ³„æ¼æ¼æ´-é˜²æŠ¤"><a href="#ä¿¡æ¯æ³„æ¼æ¼æ´-é˜²æŠ¤" class="headerlink" title="ä¿¡æ¯æ³„æ¼æ¼æ´ é˜²æŠ¤"></a>ä¿¡æ¯æ³„æ¼æ¼æ´ é˜²æŠ¤</h2><p>1.minSdkVersionä¸ä½äº9<br>2.ä¸å‘å¤–éƒ¨appæä¾›æ•°æ®çš„ç§æœ‰content provideræ˜¾ç¤ºè®¾ç½®exported=â€falseâ€ï¼Œé¿å…ç»„ä»¶æš´éœ²(ç¼–è¯‘apiå°äº17æ—¶æ›´åº”æ³¨æ„æ­¤ç‚¹)<br>3.å†…éƒ¨appé€šè¿‡content providäº¤æ¢æ•°æ®æ—¶ï¼Œè®¾ç½®protectionLevel=â€signatureâ€éªŒè¯ç­¾å<br>4.å…¬å¼€çš„content providerç¡®ä¿ä¸å­˜å‚¨æ•æ„Ÿæ•°æ®  </p><p>é’ˆå¯¹æƒé™ä¿æŠ¤ç»•è¿‡é˜²å¾¡æªæ–½ï¼š<br>1.ä½¿ç”¨Context.checkCallingPermission()å’ŒContext.enforceCallingPermission()æ¥ç¡®ä¿è°ƒç”¨è€…æ‹¥æœ‰ç›¸åº”çš„æƒé™ï¼Œé˜²æ­¢ä¸²è°‹æ”»å‡»(confused deputy)ã€‚<br>2.å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‡½æ•°ï¼Œè·å–åº”ç”¨çš„permissionä¿æŠ¤çº§åˆ«æ˜¯å¦ä¸ç³»ç»Ÿä¸­å·²å®šä¹‰çš„permissionä¿æŠ¤çº§åˆ«ä¸€è‡´ã€‚å¦‚æœä¸ä¸€è‡´ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚  </p><pre><code>public void definedPermissionsSecurityOk(Context con){    PackageManager pm =con.getPackageManager();    try{        PackageInfo myPackageInfo=pm.getPackageInfo(con.getPackageName(),PackageManager.GET_PERMISSIONS);        PermissionInfo[] definedPermissions=myPackageInfo.permissions;        for(int i=0;i&lt;definedPermissions.length;i++){            int protLevelReportedBySystem = pm.getPermissionInfo(definedPermissions[i].name,0).protectionLevel;            if(definedPermissions[i].protectionLevel!=protLevelReportedBySystem){                throw new SecurityException(&quot;protectionLevel mismatch for&quot;+definedPermissions[i].name);            }        }    }catch(NameNotFoundException e){        e.printStackTrace();    }}</code></pre><h2 id="SQLæ³¨å…¥æ¼æ´"><a href="#SQLæ³¨å…¥æ¼æ´" class="headerlink" title="SQLæ³¨å…¥æ¼æ´"></a>SQLæ³¨å…¥æ¼æ´</h2><p>å¯¹Content Providerè¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œæ—¶ï¼Œç¨‹åºæ²¡æœ‰å¯¹ç”¨æˆ·çš„è¾“å…¥è¿›è¡Œè¿‡æ»¤ï¼Œæœªé‡‡ç”¨å‚æ•°åŒ–æŸ¥è¯¢çš„æ–¹å¼ï¼Œå¯èƒ½å¯¼è‡´sqlæ³¨å…¥æ”»å‡»ã€‚<br>æ‰€è°“çš„SQLæ³¨å…¥æ”»å‡»æŒ‡çš„æ˜¯æ”»å‡»è€…å¯ä»¥ç²¾å¿ƒæ„é€ selectionå‚æ•°ã€projectionå‚æ•°ä»¥åŠå…¶ä»–æœ‰æ•ˆçš„SQLè¯­å¥ç»„æˆéƒ¨åˆ†ï¼Œå®ç°åœ¨æœªæˆæƒçš„æƒ…å†µä¸‹ä»Content Providerè·å–æ›´å¤šä¿¡æ¯ã€‚<br>åº”è¯¥é¿å…ä½¿ç”¨SQLiteDatabase.rawQuery()è¿›è¡ŒæŸ¥è¯¢ï¼Œè€Œåº”è¯¥ä½¿ç”¨ç¼–è¯‘å¥½çš„å‚æ•°åŒ–è¯­å¥ã€‚ä½¿ç”¨é¢„ç¼–è¯‘å¥½çš„è¯­å¥æ¯”å¦‚SQLiteStatementï¼Œä¸ä»…å¯ä»¥é¿å…SQLæ³¨å…¥ï¼Œè€Œä¸”æ“ä½œæ€§èƒ½ä¹Ÿå¤§å¹…æé«˜ï¼Œå› ä¸ºå…¶ä¸ç”¨æ¯æ¬¡æ‰§è¡Œéƒ½è¿›è¡Œè§£æã€‚<br>å¦å¤–ä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨query(),insert(),update(),å’Œdelete()æ–¹æ³•ï¼Œå› ä¸ºè¿™äº›å‡½æ•°ä¹Ÿæä¾›äº†å‚æ•°åŒ–çš„è¯­å¥ã€‚<br>é¢„ç¼–è¯‘çš„å‚æ•°åŒ–è¯­å¥ï¼Œé—®å·å¤„å¯ä»¥æ’å…¥æˆ–è€…ä½¿bindString()ç»‘å®šå€¼ã€‚ä»è€Œé¿å…SQLæ³¨å…¥æ”»å‡»ã€‚  </p><pre><code>INSERT VALUES INTO [table name](?,?,?,?...)</code></pre><h2 id="SQLæ³¨å…¥æ¼æ´-é˜²æŠ¤"><a href="#SQLæ³¨å…¥æ¼æ´-é˜²æŠ¤" class="headerlink" title="SQLæ³¨å…¥æ¼æ´ é˜²æŠ¤"></a>SQLæ³¨å…¥æ¼æ´ é˜²æŠ¤</h2><p>1.å®ç°å¥å£®çš„æœåŠ¡ç«¯æ ¡éªŒ<br>2.ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢è¯­å¥ï¼Œæ¯”å¦‚SQLiteStatementã€‚<br>3.é¿å…ä½¿ç”¨rawQuery()ã€‚<br>4.è¿‡æ»¤ç”¨æˆ·çš„è¾“å…¥ã€‚  </p><h2 id="ç›®å½•éå†æ¼æ´"><a href="#ç›®å½•éå†æ¼æ´" class="headerlink" title="ç›®å½•éå†æ¼æ´"></a>ç›®å½•éå†æ¼æ´</h2><p>ä½¿ç”¨ContentProvider.openFile()å¯ä»¥å®ç°åº”ç”¨é—´å…±äº«æ•°æ®ï¼Œå¦‚æœè¿™ä¸ªæ–¹æ³•ä½¿ç”¨ä¸å½“å°†ä¼šå¯¼è‡´ç›®å½•éå†æ¼æ´ã€‚å› æ­¤åœ¨ä½¿ç”¨Content Providerå®ç°æ•°æ®äº¤æ¢æ—¶ï¼Œåº”è¯¥å¯¹ä¼ é€’çš„è·¯å¾„è¿›è¡Œè¿‡æ»¤ã€‚  </p><pre><code>private static String IMAGE_DIRECTORY=localFile.getAbsolutePath();public ParcelFileDescriptor openFile(Uri paramUri,String paramString);throws FileNotFoundException{    File file=new File(IMAGE_DIRECTORY,paramUri.getLastPathSegment());    return ParcelFileDescriptor.open(file,ParcelFileDescriptor.MODE_READ_ONLY);}</code></pre><p>è¿™æ®µä»£ç ä½¿ç”¨android.net.Uri.getLastPathSegment()ä»paramUriä¸­è·å–æ–‡ä»¶åï¼Œç„¶åå°†å…¶æ”¾ç½®åœ¨é¢„å®šä¹‰å¥½çš„ç›®å½•IMAGE_DIRECTORYä¸­ï¼Œå¦‚æœè¯¥URLæ˜¯encodedç¼–ç åçš„ï¼Œé‚£ä¹ˆå°†å¯èƒ½å¯¼è‡´ç›®å½•éå†æ¼æ´ã€‚<br>Android4.3å¼€å§‹ï¼ŒUri.getLastPathSegment()å†…éƒ¨å®ç°è°ƒç”¨Uri.getPathSegments()ã€‚  </p><pre><code>public String getLastPathSegment(){    List&lt;String&gt; segments=getPathSegments();    int size=segments.size();    if(size==0){        return null;    }    return segments.get(size-1);}Uri.getPathSegments()éƒ¨åˆ†ä»£ç ç‰‡æ®µï¼š  PathSegments getPathSegments(){    if(pathSegments!=null){        return pathSegments;    }    String path = getEncoded();    if(path==null){        return pathSegments = PathSegments.EMPTY;    }    PathSegmentsBuilder segmentBuilder=new PathSegmentsBuilder();    int previous =0;    int current;    while((current=path.indexOf(&apos;/&apos;,previous))&gt;-1){        if(previous&lt;current){            String decodedSegment=decode(path.substring(previous,current));            segmentBuilder.add(decodedSegment);        }        previous=current+1;    }    if(previous&lt;path.length()){        segmentBuilder.add(decode(path.substring(preyious)));    }    return pathSegments=segmentBuilder.build();}</code></pre><p>Uri.getPathSegmentsé¦–å…ˆä¼šé€šè¿‡getEncoded()è·å–ä¸€ä¸ªè·¯å¾„ï¼Œç„¶åä»¥â€/â€œä¸ºåˆ†éš”ç¬¦å°†pathåˆ†æˆç‰‡æ®µï¼Œæœ€åè°ƒç”¨decode()æ–¹æ³•è§£ç ã€‚<br>äº†è§£äº†å‡½æ•°å†…éƒ¨å¤„ç†æµç¨‹ï¼Œé‚£ä¹ˆå‡ä½¿æˆ‘ä»¬ä¼ é€’ä¸€ä¸ªencodedç¼–ç åçš„urlç»™getLastPathSegment()ï¼Œç¼–ç åçš„åˆ†éš”ç¬¦å°±å˜æˆäº†%2F,ç»•è¿‡äº†å†…éƒ¨çš„åˆ†å‰²è§„åˆ™ï¼Œé‚£ä¹ˆè¿”å›çš„å°±å¯èƒ½ä¸æ˜¯çœŸæ­£æƒ³è¦çš„æ–‡ä»¶äº†ã€‚è¿™æ˜¯APIè®¾è®¡æ–¹é¢çš„é—®é¢˜ï¼Œç›´æ¥å¯¼è‡´äº†ç›®å½•éå†æ¼æ´ã€‚  </p><p>ä¸ºäº†é¿å…è¿™ç§æƒ…å†µå¯¼è‡´çš„ç›®å½•éå†æ¼æ´ï¼Œå¼€å‘è€…åº”è¯¥åœ¨ä¼ é€’ç»™getLastPathSegment()ä¹‹å‰è§£ç ã€‚<br>æœ‰çš„å¼€å‘è€…äº†è§£ä¸Šé¢æè¿°è¿™ç§æ¼æ´ä»£ç ï¼Œé‡‡ç”¨è°ƒç”¨ä¸¤æ¬¡getLastPathSegment()æ–¹æ³•çš„æ–¹å¼ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨æ˜¯ä¸ºäº†è§£ç ï¼Œç¬¬äºŒæ¬¡è°ƒç”¨æœŸæœ›å¾—åˆ°æ­£ç¡®çš„å€¼ã€‚  </p><pre><code>private static String IMAGE_DIRECTORY=localFile.getAbsolutePath();    public ParcelFileDescriptor openFile(Uri paramUri,String paramString) throws FileNotFoundException{        File file=new File(IMAGE_DIRECTORY,Uri.parse(paramUri.getLastPathSegment()).getLastPathSegment());        return ParcelFileDescriptor.open(file,ParcelFileDescriptor.MODE_READ_ONLY);    }è¿™ä¸ªç¼–ç åçš„URLï¼š ..%2F..%2F..%2Fdata%2Fdata%2Fcom.example.android.app%2Fshared_prefs%2FExample.xml   ç¬¬ä¸€æ¬¡è°ƒç”¨getLastPathSegment()ï¼Œä¼šè¿”å›../../../data/data/com.example.android.app/shared_prefs/Example.xmlã€‚   ç¬¬äºŒæ¬¡è°ƒç”¨getLastPathSegment()ä¼šè¿”å›Example.xml  ç„¶è€Œæ”»å‡»è€…å¯ä»¥é‡‡ç”¨ä¸€ç§å«åš&quot;Double Encoding&quot;çš„æŠ€æœ¯ï¼Œä½¿å¾—ç¬¬ä¸€æ¬¡è°ƒç”¨getLastPathSegment()åæ— æ³•è§£ç ã€‚ æ¯”å¦‚ä¸‹é¢ç»è¿‡double encodedåçš„stringå°±å¯ä»¥ç»•è¿‡ä¸Šé¢è¿™ç§é˜²å¾¡%252E%252E%252F%252E%252E%252F%252E%252E%252Fdata%252Fdata%252Fcom.example.android.app%252Fshared_prefs%252FExample.xml ç¬¬ä¸€æ¬¡è§£ç åï¼š %2E%2E%2F%2E%2E%2F%2E%2E%2Fdata%2Fdata%2Fcom.example.android.app%2Fshared_prefs%2FExample.xmlç¬¬äºŒæ¬¡è§£ç åï¼š ../../../data/data/com.example.android.app/shared_prefs/Example.xml ä»ä¼šå¯¼è‡´ç›®å½•éå†ã€‚æ‰€ä»¥ç®€å•çš„è§£ç åå†ä¼ äººä¹Ÿæ˜¯ä¸å¤Ÿçš„ï¼Œä»ç„¶éœ€è¦ä¸¥æ ¼æ ¡éªŒä»¥ç¡®ä¿pathæ˜¯æœŸæœ›çš„è·¯å¾„ã€‚</code></pre><h2 id="ç›®å½•éå†æ¼æ´ï¼šé˜²æŠ¤"><a href="#ç›®å½•éå†æ¼æ´ï¼šé˜²æŠ¤" class="headerlink" title="ç›®å½•éå†æ¼æ´ï¼šé˜²æŠ¤"></a>ç›®å½•éå†æ¼æ´ï¼šé˜²æŠ¤</h2><p>é¦–å…ˆå¯¹paramUriè§£ç ï¼Œæ–‡ä»¶åˆ›å»ºåå†é€šè¿‡è°ƒç”¨File.getCanonicalPath()æ¥å¯¹pathçš„æ ¼å¼è¿›è¡Œè§„èŒƒåŒ–ï¼Œæœ€åæ ¡éªŒå…¶æ˜¯å¦åœ¨é¢„å®šä¹‰çš„ç›®å½•IMAGE_DIRECTORYã€‚<br>File.getCanonicalPath()å‡½æ•°å®ç°æ˜¯è¿™æ ·çš„ï¼Œå®ƒä¼šå°†pathè§„èŒƒåŒ–ï¼Œå¾—åˆ°ä¸€ä¸ªå”¯ä¸€çš„ç»å¯¹è·¯å¾„ã€‚è¿™é€šå¸¸æ¶‰åŠåˆ°ä»è·¯å¾„åä¸­ç§»é™¤å¤šä½™çš„åç§°(æ¯”å¦‚â€.â€å’Œâ€..â€)ã€åˆ†æç¬¦å·è¿æ¥(å¯¹äºUNIXå¹³å°),ä»¥åŠå°†é©±åŠ¨å™¨åç§°è½¬æ¢æˆæ ‡å‡†å¤§å°å†™å½¢å¼(å¯¹äºMicrosoft Windowså¹³å°)ã€‚  </p><pre><code>private static String IMAGE_DIRECTORY=localFile.getAbsolutePath();public ParcelFileDescriptor openFile(Uri paramUri,String paramString) throws FileNotFoundException{    String decodedUriString = Uri.decode(paramUri.toString());    File file=new File(IMAGE_DIRECTORY,Uri.parse(decodedUriString).getLastPathSegment());    if(file.getCanonicalPath().indexOf(localFile.getCanonnicalPath())!=0){        throw new IllegalArgumentException();    }    return ParcelFileDescriptor.open(file,ParcelFileDescriptor.MODE_READ_ONLY);}</code></pre><p><img src="https://coding.net/u/tea9/p/image/git/raw/master/blog_img/29/01.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Content-Providerå®‰å…¨åœºæ™¯å’Œå±å®³&quot;&gt;&lt;a href=&quot;#Content-Providerå®‰å…¨åœºæ™¯å’Œå±å®³&quot; class=&quot;headerlink&quot; title=&quot;Content Providerå®‰å…¨åœºæ™¯å’Œå±å®³&quot;&gt;&lt;/a&gt;Content Providerå®‰
      
    
    </summary>
    
      <category term="androidå®‰å…¨" scheme="http://tea9.xyz/categories/android%E5%AE%89%E5%85%A8/"/>
    
    
      <category term="androidå®‰å…¨" scheme="http://tea9.xyz/tags/android%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>android Serviceæ¼æ´æŒ–æ˜</title>
    <link href="http://tea9.xyz/post/3182197634.html"/>
    <id>http://tea9.xyz/post/3182197634.html</id>
    <published>2019-03-05T16:00:00.000Z</published>
    <updated>2019-03-20T06:54:42.791Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Serviceå®‰å…¨åœºæ™¯å’Œå±å®³"><a href="#Serviceå®‰å…¨åœºæ™¯å’Œå±å®³" class="headerlink" title="Serviceå®‰å…¨åœºæ™¯å’Œå±å®³"></a>Serviceå®‰å…¨åœºæ™¯å’Œå±å®³</h2><pre><code>Serviceæ˜¯androidå››å¤§ç»„ä»¶ä¹‹ä¸€ï¼Œä¸€ä¸ªServiceæ˜¯æ²¡æœ‰ç•Œé¢ä¸”èƒ½é•¿æ—¶é—´è¿è¡Œäºåå°çš„åº”ç”¨ç»„ä»¶ã€‚å…¶ä»–åº”ç”¨çš„ç»„ä»¶å¯ä»¥å¯åŠ¨ä¸€ä¸ªæœåŠ¡è¿è¡Œäºåå°ï¼Œå³ä½¿ç”¨æˆ·åˆ‡æ¢åˆ°å¦ä¸€ä¸ªåº”ç”¨ä¹Ÿä¼šç»§ç»­è¿è¡Œã€‚å¦å¤–ï¼Œä¸€ä¸ªç»„ä»¶å¯ä»¥ç»‘å®šåˆ°ä¸€ä¸ªserviceæ¥è¿›è¡Œäº¤äº’ï¼Œå³ä½¿è¿™ä¸ªäº¤äº’æ˜¯è¿›ç¨‹é—´é€šè®¯ä¹Ÿæ²¡é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªserviceå¯èƒ½å¤„ç†ç½‘ç»œäº‹ç‰©ï¼Œæ’­æ”¾éŸ³ä¹ï¼Œæ‰§è¡Œæ–‡ä»¶I/Oï¼Œæˆ–ä¸ä¸€ä¸ªå†…å®¹æä¾›è€…äº¤äº’ï¼Œæ‰€æœ‰è¿™äº›éƒ½åœ¨åå°è¿›è¡Œã€‚Serviceä¸æ˜¯åˆ†ç¦»å¼€çš„è¿›ç¨‹ï¼Œé™¤éå…¶ä»–ç‰¹æ®Šæƒ…å†µï¼Œä»–ä¸ä¼šè¿è¡Œåœ¨è‡ªå·±çš„è¿›ç¨‹ï¼Œè€Œæ˜¯ä½œä¸ºå¯åŠ¨è¿è¡Œå®ƒçš„è¿›ç¨‹çš„ä¸€éƒ¨åˆ†ã€‚Serviceä¸æ˜¯çº¿ç¨‹ï¼Œè¿™æ„å‘³ç€å®ƒå°†åœ¨ä¸»çº¿ç¨‹é‡ŒåŠ³ä½œã€‚  å¦‚æœä¸€ä¸ªå¯¼å‡ºçš„Serviceæ²¡æœ‰åšä¸¥æ ¼çš„é™åˆ¶ï¼Œä»»ä½•åº”ç”¨å¯ä»¥å»å¯åŠ¨å¹¶ä¸”ç»‘å®šåˆ°è¿™ä¸ªServiceä¸Šï¼Œå–å†³äºè¢«æš´éœ²çš„åŠŸèƒ½ï¼Œè¿™æœ‰å¯èƒ½ä½¿å¾—ä¸€ä¸ªåº”ç”¨å»æ‰§è¡Œæœªæˆæƒçš„è¡Œä¸ºï¼Œè·å–æ•æ„Ÿä¿¡æ¯æˆ–è€…æ˜¯æ±¡æŸ“ä¿®æ”¹å†…éƒ¨åº”ç”¨çš„çŠ¶æ€é€ æˆå¨èƒã€‚  </code></pre><h2 id="Serviceæ¼æ´åˆ†ç±»"><a href="#Serviceæ¼æ´åˆ†ç±»" class="headerlink" title="Serviceæ¼æ´åˆ†ç±»"></a>Serviceæ¼æ´åˆ†ç±»</h2><ul><li>æƒé™æå‡</li><li>servicesåŠ«æŒ</li><li>æ¶ˆæ¯ä¼ªé€ </li><li>æ‹’ç»æœåŠ¡</li></ul><h2 id="æƒé™æå‡æ¼æ´"><a href="#æƒé™æå‡æ¼æ´" class="headerlink" title="æƒé™æå‡æ¼æ´"></a>æƒé™æå‡æ¼æ´</h2><pre><code>å½“ä¸€ä¸ªserviceé…ç½®äº†intent-filteré»˜è®¤æ˜¯è¢«å¯¼å‡ºçš„ï¼Œå¦‚æœæ²¡å¯¹è°ƒç”¨è¿™ä¸ªServiceè¿›è¡Œæƒé™é™åˆ¶æˆ–è€…æ˜¯æ²¡æœ‰å¯¹è°ƒç”¨è€…çš„èº«ä»½è¿›è¡Œæœ‰æ•ˆçš„éªŒè¯ï¼Œé‚£ä¹ˆæ¶æ„æ„é€ çš„APPéƒ½å¯ä»¥å¯¹æ­¤Serviceä¼ å…¥æ°å½“çš„å‚æ•°è¿›è¡Œè°ƒç”¨ï¼Œå¯¼è‡´æ¶æ„çš„è¡Œä¸ºå‘ç”Ÿæ¯”å¦‚è¯´è°ƒç”¨å…·æœ‰systemæƒé™çš„åˆ é™¤å¸è½½æœåŠ¡åˆ é™¤å¸è½½å…¶ä»–åº”ç”¨ã€‚</code></pre><h2 id="serviceåŠ«æŒ"><a href="#serviceåŠ«æŒ" class="headerlink" title="serviceåŠ«æŒ"></a>serviceåŠ«æŒ</h2><pre><code>æ”»å‡»åŸç†ï¼šéšå¼å¯åŠ¨serviceï¼Œå½“å­˜åœ¨åŒåserviceï¼Œå…ˆå®‰è£…åº”ç”¨çš„serviceä¼˜å…ˆçº§é«˜ã€‚  </code></pre><h2 id="æ¶ˆæ¯ä¼ªé€ "><a href="#æ¶ˆæ¯ä¼ªé€ " class="headerlink" title="æ¶ˆæ¯ä¼ªé€ "></a>æ¶ˆæ¯ä¼ªé€ </h2><pre><code>æš´éœ²çš„Serviceå¯¹å¤–æ¥æ”¶Intentï¼Œå¦‚æœæ„é€ æ¶æ„çš„æ¶ˆæ¯æ”¾åˆ°Intentä¸­ä¼ è¾“ï¼Œè¢«è°ƒç”¨çš„Serviceæ¥æ”¶æœ‰å¯èƒ½äº§ç”Ÿå®‰å…¨éšæ‚£ã€‚  å¦‚ï¼šæŒ‡å®šå‡çº§ä¸‹è½½çš„URLåœ°å€ï¼Œå¯å¯¼è‡´ä»»æ„åº”ç”¨å®‰è£…ï¼  </code></pre><h2 id="æ¶ˆæ¯ä¼ªé€ -1"><a href="#æ¶ˆæ¯ä¼ªé€ -1" class="headerlink" title="æ¶ˆæ¯ä¼ªé€ "></a>æ¶ˆæ¯ä¼ªé€ </h2><pre><code>protected void onHandleIntent(Intent intent){    Intent v0;    String v23;    Serializable pushMsg=intent.getSerializableExtra(&quot;PushMsg&quot;);    ...    AppVersionManager.getInstance(Youku.context).showAPpAgreementDialog();    switch(pushMsg.type){        case 1:{            goto label_53;        }    }}label_53:    intent.setFlags(876609536);    intent.setClass(this,UpdateActivity.class);    intent.putExtra(&quot;updateurl&quot;,pushMsg.updateurl);    intent.putExtra(&quot;updateversion&quot;,pushMsg.updateversion);    intent.putExtra(&quot;updatecontent&quot;,pushMsg.updatecontent);    intent.putExtra(&quot;updateType&quot;,2);    this.startActivity(intent);    return;</code></pre><h2 id="æ‹’ç»æœåŠ¡"><a href="#æ‹’ç»æœåŠ¡" class="headerlink" title="æ‹’ç»æœåŠ¡"></a>æ‹’ç»æœåŠ¡</h2><pre><code>Serviceçš„æ‹’ç»æœåŠ¡ä¸»è¦æ˜¯æ¥æºäºServiceå¯åŠ¨æ—¶å¯¹æ¥æ”¶çš„Intentç­‰æ²¡æœ‰åšå¼‚å¸¸æƒ…å†µä¸‹çš„å¤„ç†ï¼Œå¯¼è‡´çš„ç¨‹åºå´©æºƒã€‚ä¸»è¦ä½“ç°çš„æ–¹é¢å¦‚ç»™Serviceä¼ è¾“æœªnullçš„intentæˆ–è€…æ˜¯ä¼ è¾“åºåˆ—åŒ–å¯¹è±¡å¯¼è‡´æ¥æ”¶æ—¶å€™çš„ç±»å‹è½¬åŒ–å¼‚å¸¸ã€‚  </code></pre><p>ä¿®å¤ï¼š<br>1.æ”¹æˆservice exported false<br>2.åˆ é™¤å¤šä½™æµ‹è¯•ä»£ç ï¼ŒéªŒè¯token</p><h2 id="æ‹’ç»æœåŠ¡ï¼šé˜²æŠ¤"><a href="#æ‹’ç»æœåŠ¡ï¼šé˜²æŠ¤" class="headerlink" title="æ‹’ç»æœåŠ¡ï¼šé˜²æŠ¤"></a>æ‹’ç»æœåŠ¡ï¼šé˜²æŠ¤</h2><ul><li>ç©ºæŒ‡é’ˆå¼‚å¸¸</li><li>ç±»å‹è½¬æ¢å¼‚å¸¸</li><li>æ•°ç»„è¶Šç•Œè®¿é—®å¼‚å¸¸</li><li>ç±»æœªå®šä¹‰å¼‚å¸¸</li><li><p>å…¶ä»–å¼‚å¸¸</p><p>  //Serializable:<br>  Intent i = this.getIntent();<br>  if(i.getAction().equals(â€œserializable_actionâ€)){<br>  i.getSerializableExtra(â€œserializable_keyâ€);//æœªåšå¼‚å¸¸åˆ¤æ–­<br>  }<br>  //Parcelable:<br>  this.b=(RouterConfig)this.getIntent().getParcelableExtra(â€œfiled_router_configâ€);//å¼•å‘è½¬å‹å¼‚å¸¸å´©æºƒ</p><p>  è°¨æ…å¤„ç†æ¥æ”¶çš„intentä»¥åŠå…¶æºå¸¦çš„ä¿¡æ¯ã€‚<br>  å¯¹æ¥æ”¶åˆ°çš„ä»»ä½•æ•°æ®try catchå¤„ç†ï¼Œä»¥åŠå¯¹ä¸ç¬¦åˆé¢„æœŸçš„æ•°æ®åšå¼‚å¸¸å¤„ç†ã€‚  </p></li></ul><h2 id="Serviceå®‰å…¨é˜²æŠ¤"><a href="#Serviceå®‰å…¨é˜²æŠ¤" class="headerlink" title="Serviceå®‰å…¨é˜²æŠ¤"></a>Serviceå®‰å…¨é˜²æŠ¤</h2><ul><li>ç§æœ‰serviceä¸å®šä¹‰intent-filterå¹¶ä¸”è®¾ç½®exportedä¸ºfalseã€‚</li><li>å…¬å¼€çš„serviceè®¾ç½®exportedä¸ºtrueï¼Œintent-filterå¯ä»¥å®šä¹‰æˆ–è€…ä¸å®šä¹‰ã€‚</li><li>åˆä½œserviceéœ€å¯¹åˆä½œæ–¹çš„appç­¾ååšæ ¡éªŒã€‚</li><li>åªè¢«åº”ç”¨æœ¬èº«ä½¿ç”¨çš„serviceåº”è®¾ç½®ä¸ºç§æœ‰ã€‚</li><li>serviceæ¥æ”¶åˆ°çš„æ•°æ®éœ€è°¨æ…å¤„ç†ã€‚</li><li>å†…éƒ¨serviceéœ€ä½¿ç”¨ç­¾åçº§åˆ«çš„protectionLevelæ¥åˆ¤æ–­æ˜¯å¦ä¸ºå†…éƒ¨åº”ç”¨è°ƒç”¨ã€‚</li><li>ä¸åº”åœ¨serviceåˆ›å»º(onCreateæ–¹æ³•è¢«è°ƒç”¨)çš„æ—¶å€™å†³å®šæ˜¯å¦æä¾›æœåŠ¡,åº”åœ¨onStartCommand/onBind/onHandleIntentç­‰æ–¹æ³•è¢«è°ƒç”¨çš„æ—¶å€™åšåˆ¤æ–­ã€‚</li><li>å½“serviceåˆè¿”å›æ•°æ®çš„æ—¶å€™ï¼Œå› åˆ¤æ–­æ•°æ®æ¥æ”¶appæ˜¯å¦åˆä¿¡æ¯æ³„éœ²çš„é£é™©ã€‚</li><li>æœ‰æ˜ç¡®çš„æœåŠ¡éœ€è°ƒç”¨æ—¶ä½¿ç”¨æ˜¾ç¤ºæ„å›¾ã€‚</li><li>å°½é‡ä¸å‘é€æ•æ„Ÿä¿¡æ¯ã€‚</li><li>å¯åŠ¨Activityæ—¶ä¸è®¾ç½®intentçš„FLAG_ACTIVITY_NEW_TASKæ ‡ç­¾ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Serviceå®‰å…¨åœºæ™¯å’Œå±å®³&quot;&gt;&lt;a href=&quot;#Serviceå®‰å…¨åœºæ™¯å’Œå±å®³&quot; class=&quot;headerlink&quot; title=&quot;Serviceå®‰å…¨åœºæ™¯å’Œå±å®³&quot;&gt;&lt;/a&gt;Serviceå®‰å…¨åœºæ™¯å’Œå±å®³&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;Serviceæ˜¯androi
      
    
    </summary>
    
      <category term="androidå®‰å…¨" scheme="http://tea9.xyz/categories/android%E5%AE%89%E5%85%A8/"/>
    
    
      <category term="anroidå®‰å…¨" scheme="http://tea9.xyz/tags/anroid%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>android Activityæ¼æ´æŒ–æ˜</title>
    <link href="http://tea9.xyz/post/2470166639.html"/>
    <id>http://tea9.xyz/post/2470166639.html</id>
    <published>2019-03-05T16:00:00.000Z</published>
    <updated>2019-03-20T06:54:48.105Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è¶Šæƒç»•è¿‡æ¼æ´"><a href="#è¶Šæƒç»•è¿‡æ¼æ´" class="headerlink" title="è¶Šæƒç»•è¿‡æ¼æ´"></a>è¶Šæƒç»•è¿‡æ¼æ´</h2><p>åœ¨Androidç³»ç»Ÿä¸­ï¼ŒActivityé»˜è®¤æ˜¯ä¸å¯¼å‡ºçš„ï¼Œå¦‚æœè®¾ç½®äº† <code>exported=&quot;true&quot;</code> è¿™æ ·çš„å…³é”®å€¼æˆ–è€…æ˜¯æ·»åŠ äº†<code>&lt;intent-filter&gt;</code>è¿™æ ·çš„å±æ€§ï¼Œå¹¶ä¸”æ²¡æœ‰æ˜¾ç¤ºçš„è®¾ç½®ä¸º<code>exported=&quot;false&quot;</code>,é‚£ä¹ˆæ­¤æ—¶Activityæ˜¯å¯¼å‡ºçš„ï¼Œå¦‚æœActivityè¢«ä¸åˆç†çš„å¯¼å‡ºï¼Œé‚£ä¹ˆå°±ä¼šæœ‰è¶Šæƒç»•è¿‡æˆ–è€…æ˜¯æ³„æ¼æ•æ„Ÿä¿¡æ¯ç­‰å®‰å…¨é£é™©ï¼Œæ¯”å¦‚åœ¨ä¸šåŠ¡è¿‡ç¨‹ä¸­ä¼šæœ‰ä¸€äº›æ•æ„Ÿçš„ç•Œé¢æ˜¯éœ€è¦ç”¨æˆ·è¾“å…¥å¯†ç æ‰èƒ½æŸ¥çœ‹çš„ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰å¯¹è°ƒèµ·æ­¤activityçš„ç»„ä»¶è¿›è¡Œæƒé™éªŒè¯ï¼Œé‚£ä¹ˆå°±ä¼šé€ æˆéªŒè¯çš„è¶Šæƒé—®é¢˜ï¼Œå¯¼è‡´æ¶æ„çš„æ”»å‡»è€…ä¸éœ€è¦è¾“å…¥å¯†ç ç­‰ä¿¡æ¯ä¹Ÿå¯ä»¥æ‰“å¼€è¿™ä¸ªç•Œé¢ã€‚è¿˜æœ‰é€šè¿‡Intentç»™Activityä¼ è¾“ç•¸å½¢æ•°æ®ä½¿å¾—ç¨‹åºå´©æºƒæ‹’ç»æœåŠ¡å½±å“ç”¨æˆ·ä½“éªŒæˆ–Activityç•Œé¢è¢«åŠ«æŒäº§ç”Ÿæ¬ºè¯ˆç­‰å®‰å…¨äº‹ä»¶ã€‚  </p><h2 id="åˆ©ç”¨"><a href="#åˆ©ç”¨" class="headerlink" title="åˆ©ç”¨"></a>åˆ©ç”¨</h2><pre><code>1.å¯åŠ¨ é€šè¿‡å¯åŠ¨ä¸»ç•Œé¢å­ç•Œé¢ï¼Œåœ¨è¿”å›å³å¯è¿›å…¥ä¸»ç•Œé¢ã€‚2.å¯åŠ¨è®¾ç½®æœ¬åœ°çš„å¯†ç çš„activityï¼Œå¯é‡ç½®æœ¬åœ°å¯†ç ã€‚</code></pre><h2 id="é˜²æŠ¤"><a href="#é˜²æŠ¤" class="headerlink" title="é˜²æŠ¤"></a>é˜²æŠ¤</h2><pre><code>ç§æœ‰Activityï¼Œä¸åº”è¢«å…¶ä»–åº”ç”¨å¯åŠ¨ç›¸å¯¹æ˜¯å®‰å…¨çš„ï¼Œè®¾ç½®exportedå±æ€§ä¸ºfalseå…¬å¼€æš´éœ²çš„Activityï¼Œå¯ä»¥è¢«ä»»æ„åº”ç”¨å¯åŠ¨ï¼š1.è®¾ç½®exportedå±æ€§ä¸ºtrue2.è°¨æ…å¤„ç†æ¥æ”¶çš„intent3.æœ‰è¿”å›æ•°æ®æ—¶ä¸åº”åŒ…å«æ•æ„Ÿä¿¡æ¯4.ä¸åº”å‘é€æ•æ„Ÿä¿¡æ¯5.å½“æ”¶åˆ°è¿”å›æ•°æ®æ—¶è°¨æ…å¤„ç†</code></pre><h2 id="ç»„ä»¶å¯¼å‡ºå¯¼è‡´é’“é±¼æ¬ºè¯ˆ"><a href="#ç»„ä»¶å¯¼å‡ºå¯¼è‡´é’“é±¼æ¬ºè¯ˆ" class="headerlink" title="ç»„ä»¶å¯¼å‡ºå¯¼è‡´é’“é±¼æ¬ºè¯ˆ"></a>ç»„ä»¶å¯¼å‡ºå¯¼è‡´é’“é±¼æ¬ºè¯ˆ</h2><pre><code>Androidä¸ºäº†æé«˜ç”¨æˆ·çš„ç”¨æˆ·ä½“éªŒï¼Œå¯¹äºä¸åŒçš„åº”ç”¨ç¨‹åºä¹‹é—´çš„åˆ‡æ¢ï¼ŒåŸºæœ¬ä¸Šæ˜¯æ— ç¼ã€‚ä»–ä»¬åˆ‡æ¢çš„åªæ˜¯ä¸€ä¸ªactivityï¼Œè®©åˆ‡æ¢çš„åˆ°å‰å°æ˜¾ç¤ºï¼Œå¦ä¸€ä¸ªåº”ç”¨åˆ™è¢«è¦†ç›–åˆ°åå°ï¼Œä¸å¯è§ã€‚Activityçš„æ¦‚å¿µç›¸å½“äºä¸€ä¸ªä¸ç”¨æˆ·äº¤äº’çš„ç•Œé¢ã€‚  è€ŒActivityçš„è°ƒåº¦æ˜¯äº¤ç”±Androidç³»ç»Ÿä¸­çš„AMSç®¡ç†çš„ã€‚AMSå³ActivityManagerService(Activityç®¡ç†æœåŠ¡),å„ä¸ªåº”ç”¨æƒ³å¯åŠ¨æˆ–åœæ­¢ä¸€ä¸ªè¿›ç¨‹ï¼Œéƒ½æ˜¯å…ˆæŠ¥å‘Šç»™AMSã€‚  å½“AMSæ”¶åˆ°è¦å¯åŠ¨æˆ–åœæ­¢Activityçš„æ¶ˆæ¯æ—¶ï¼Œå®ƒå…ˆæ›´æ–°å†…éƒ¨è®°å½•ï¼Œåœ¨é€šçŸ¥ç›¸åº”çš„è¿›ç¨‹è¿è¡Œæˆ–åœæ­¢æŒ‡å®šçš„Activityã€‚å½“æ–°çš„Activityå¯åŠ¨ï¼Œå‰ä¸€ä¸ªActivityå°±ä¼šåœæ­¢ï¼Œè¿™äº›Activityéƒ½ä¿ç•™åœ¨ç³»ç»Ÿä¸­å¹´çš„Activityå†å²æ ˆä¸­ã€‚æ¯æœ‰ä¸€ä¸ªActivityå¯åŠ¨ï¼Œå®ƒå°±å‹å…¥å†å²æ ˆé¡¶ï¼Œå¹¶åœ¨æ‰‹æœºä¸Šæ˜¾ç¤ºã€‚  å½“ç”¨æˆ·æŒ‰ä¸‹backé”®æ—¶ï¼Œé¡¶éƒ¨Activityå¼¹å‡ºï¼Œæ¢å¤å‰ä¸€ä¸ªActivityï¼Œæ ˆé¡¶æŒ‡å‘å½“å‰çš„Activityã€‚  ç”±äºActivityçš„è¿™ç§ç‰¹æ€§ï¼Œå¦‚æœåœ¨å¯åŠ¨ä¸€ä¸ªActivityæ—¶ï¼Œç»™å®ƒåŠ å…¥ä¸€ä¸ªæ ‡å¿—ä½FLAGACTIVITYNEW_TASK,å°±èƒ½ä½¿å®ƒç½®äºæ ˆé¡¶å¹¶ç«‹é©¬å‘ˆç°ç»™ç”¨æˆ·ã€‚  å¦‚æœè¿™ä¸ªActivityæ˜¯ç”¨äºç›—å·çš„ä¼ªè£…Activityï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”Ÿé’“é±¼å®‰å…¨äº‹ä»¶æˆ–è€…æ˜¯ä¸€ä¸ªActivityä¸­æœ‰webviewåŠ è½½ï¼Œå¦‚æœå…è®¸åŠ è½½ä»»æ„ç½‘é¡µä¹Ÿæœ‰å¯èƒ½ä¼šäº§ç”Ÿé’“é±¼äº‹ä»¶ã€‚  </code></pre><hr><pre><code>public class LockTask extends TimerTask{    public static final String TAG=&quot;LockTask&quot;;    private Context mContext;    String testPackageName=&quot;com.taobao.taobao&quot;;    String testClassName=&quot;com.taobao.tao.LoginActivity&quot;;    private ActivityManager mActivityManager;    public LockTask(Context context){        mContext=context;        mActivityManager=(ActivityManager)context.getSystemService(Context.ACTIVITY_SERVICE);    }    @Override    public void run(){        ComponentName topActivity=mActivityManager.getRunningTasks(1).get(0).topActivity;        String packageName = topActivity.getPackageName();        String className = topActivity.getClassName();        Log.v(TAG,&quot;packageName&quot;+packageName);        Log.v(TAG,&quot;className&quot;+className);        if(testPackageName.equals(packageName)&amp;&amp;testClassName.equals(className)){            Intent intent = new Intent();            intent.setClassName(&quot;com.example.locktest&quot;,&quot;com.example.locktest.PasswordActivity&quot;);            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);            mContext.startActivity(intent);        }    }}</code></pre><h2 id="ç»„ä»¶å¯¼å‡ºå¯¼è‡´é’“é±¼æ¬ºè¯ˆï¼šé˜²æŠ¤"><a href="#ç»„ä»¶å¯¼å‡ºå¯¼è‡´é’“é±¼æ¬ºè¯ˆï¼šé˜²æŠ¤" class="headerlink" title="ç»„ä»¶å¯¼å‡ºå¯¼è‡´é’“é±¼æ¬ºè¯ˆï¼šé˜²æŠ¤"></a>ç»„ä»¶å¯¼å‡ºå¯¼è‡´é’“é±¼æ¬ºè¯ˆï¼šé˜²æŠ¤</h2><pre><code>//åœ¨åœæ­¢çš„æ—¶å€™æç¤ºprotected void onStop(){    super.onStop();    Context context=getApplicationContext();    Toast toast=Toast.makeText(getApplicationContext(),&quot;ç¨‹åºè¿›å…¥åå°&quot;,Toast.LENGTH_SHORT);    toast.show();}ä¸æŒ‡å®štaskAffinity taskç®¡ç†activityã€‚taskçš„åå­—å–å†³äºæ ¹activityçš„affinityã€‚é»˜è®¤è®¾ç½®ä¸­Activityä½¿ç”¨åŒ…ååšä¸ºaffinityã€‚taskç”±appåˆ†é…ï¼Œæ‰€ä»¥ä¸€ä¸ªåº”ç”¨çš„Activtyåœ¨é»˜è®¤æƒ…å†µä¸‹å±äºç›¸åŒtaskã€‚è·¨taskå¯åŠ¨Activityçš„intentæœ‰å¯èƒ½è¢«å…¶ä»–appè¯»å–åˆ°ï¼›ä¸æŒ‡å®šlunchModeé»˜è®¤standardï¼Œå»ºè®®ä½¿ç”¨é»˜è®¤ã€‚åˆ›å»ºæ–°taskæ—¶æœ‰å¯èƒ½è¢«å…¶ä»–åº”ç”¨è¯»å–intentçš„å†…å®¹ã€‚å¦‚æœå½“å‰çš„ç¨‹åºè¿›å…¥åå°é‚£ä¹ˆè¿›è¡ŒNotificationæç¤ºç”¨æˆ·è¿›ç¨‹å·²ç»è¿›è¿›å…¥åå°è¿è¡Œï¼Œå¹¶ä¸”å¦‚æœæœ‰å¿…è¦å¯ä»¥è®¾ç½®æ¸…é™¤é€šçŸ¥æ—¶å€™ä¸å…è®¸è¿™ä¸ªé€šçŸ¥è¢«æ¸…é™¤æ‰ã€‚  </code></pre><h2 id="éšå¼å¯åŠ¨intentåŒ…å«æ•æ„Ÿæ•°æ®"><a href="#éšå¼å¯åŠ¨intentåŒ…å«æ•æ„Ÿæ•°æ®" class="headerlink" title="éšå¼å¯åŠ¨intentåŒ…å«æ•æ„Ÿæ•°æ®"></a>éšå¼å¯åŠ¨intentåŒ…å«æ•æ„Ÿæ•°æ®</h2><p>æ²¡çœ‹æ‡‚</p><h2 id="æ‹’ç»æœåŠ¡"><a href="#æ‹’ç»æœåŠ¡" class="headerlink" title="æ‹’ç»æœåŠ¡"></a>æ‹’ç»æœåŠ¡</h2><pre><code>Androidç³»ç»Ÿæä¾›äº†Intentæœºåˆ¶æ¥ååŠ©åº”ç”¨é—´çš„äº¤äº’ä¸é€šè®¯ï¼ŒIntentè´Ÿè´£å¯¹åº”ç”¨ä¸­ä¸€æ¬¡æ“ä½œçš„åŠ¨ä½œã€åŠ¨ä½œæ¶‰åŠæ•°æ®ã€é™„åŠ æ•°æ®è¿›è¡Œæè¿°ï¼ŒAndroidç³»ç»Ÿåˆ™æ ¹æ®æ­¤Intentçš„æè¿°ï¼Œè´Ÿè´£æ‰¾åˆ°å¯¹åº”çš„ç»„ä»¶ï¼Œå°†Intentä¼ é€’ç»™è°ƒç”¨çš„ç»„ä»¶ï¼Œå¹¶å®Œæˆç»„ä»¶çš„è°ƒç”¨ã€‚Androidåº”ç”¨æœ¬åœ°æ‹’ç»æœåŠ¡æ¼æ´æºäºç¨‹åºæ²¡æœ‰å¯¹Intent.getXXXExtra()è·å–çš„å¼‚å¸¸æˆ–è€…ç•¸å½¢æ•°æ®å¤„ç†æ—¶æ²¡æœ‰è¿›è¡Œå¼‚å¸¸æ•è·ï¼Œä»è€Œå¯¼è‡´æ”»å‡»è€…å¯é€šè¿‡å‘å—å®³è€…åº”ç”¨å‘é€æ­¤ç±»ç©ºæ•°æ®ã€å¼‚å¸¸æˆ–è€…ç•¸å½¢æ•°æ®æ¥è¾¾åˆ°ä½¿è¯¥åº”ç”¨crashçš„ç›®çš„ï¼Œç®€å•çš„è¯´å°±æ˜¯æ”»å‡»è€…é€šè¿‡intentå‘é€ç©ºæ•°æ®ã€å¼‚å¸¸æˆ–ç•¸å½¢æ•°æ®ç»™å—å®³è€…åº”ç”¨ï¼Œå¯¼è‡´å…¶å´©æºƒã€‚æœ¬åœ°æ‹’ç»æœåŠ¡æ¼æ´ä¸ä»…å¯ä»¥å¯¼è‡´å®‰å…¨é˜²æŠ¤ç­‰åº”ç”¨çš„é˜²æŠ¤åŠŸèƒ½è¢«ç»•è¿‡æˆ–å¤±æ•ˆ(å¦‚æ€æ¯’åº”ç”¨ã€å®‰å…¨å«å£«ã€é˜²ç›—é”å±ç­‰)ï¼Œè€Œä¸”ä¹Ÿå¯è¢«ç«äº‰æ–¹åº”ç”¨åˆ©ç”¨æ¥æ”»å‡»ï¼Œä½¿å¾—è‡ªå·±çš„åº”ç”¨å´©æºƒï¼Œé€ æˆä¸åŒç¨‹åº¦çš„ç»æµåˆ©ç›ŠæŸå¤±ã€‚  å±å®³ï¼šæ‹’ç»æœåŠ¡æ¼æ´å¯¹äºé”å±åº”ç”¨ã€å®‰å…¨é˜²æŠ¤ç±»è½¯ä»¶å±å®³æ˜¯å·¨å¤§çš„ã€‚  </code></pre><h2 id="æ‹’ç»æœåŠ¡ï¼šé˜²æŠ¤"><a href="#æ‹’ç»æœåŠ¡ï¼šé˜²æŠ¤" class="headerlink" title="æ‹’ç»æœåŠ¡ï¼šé˜²æŠ¤"></a>æ‹’ç»æœåŠ¡ï¼šé˜²æŠ¤</h2><ul><li>ç©ºæŒ‡é’ˆå¼‚å¸¸</li><li>ç±»å‹è½¬æ¢å¼‚å¸¸</li><li>æ•°ç»„è¶Šç•Œè®¿é—®å¼‚å¸¸</li><li>ç±»æœªå®šä¹‰å¼‚å¸¸</li><li>å…¶ä»–å¼‚å¸¸</li></ul><hr><pre><code>//Serializable:Intent i = this.getIntent();if(i.getAction().equals(&quot;serializable_action&quot;)){    i.getSerializableExtra(&quot;serializable_key&quot;);//æœªåšå¼‚å¸¸åˆ¤æ–­}//Parcelable:this.b=(RouterConfig)this.getIntent().getParcelableExtra(&quot;filed_router_config&quot;);//å¼•å‘è½¬å‹å¼‚å¸¸å´©æºƒè°¨æ…å¤„ç†æ¥æ”¶çš„intentä»¥åŠå…¶æºå¸¦çš„ä¿¡æ¯ã€‚  å¯¹æ¥æ”¶åˆ°çš„ä»»ä½•æ•°æ®åštry catchå¤„ç†ï¼Œä»¥åŠå¯¹ä¸ç¬¦åˆé¢„æœŸçš„æ•°æ®åšå¼‚å¸¸å¤„ç†ã€‚  </code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;è¶Šæƒç»•è¿‡æ¼æ´&quot;&gt;&lt;a href=&quot;#è¶Šæƒç»•è¿‡æ¼æ´&quot; class=&quot;headerlink&quot; title=&quot;è¶Šæƒç»•è¿‡æ¼æ´&quot;&gt;&lt;/a&gt;è¶Šæƒç»•è¿‡æ¼æ´&lt;/h2&gt;&lt;p&gt;åœ¨Androidç³»ç»Ÿä¸­ï¼ŒActivityé»˜è®¤æ˜¯ä¸å¯¼å‡ºçš„ï¼Œå¦‚æœè®¾ç½®äº† &lt;code&gt;exported=&amp;quot
      
    
    </summary>
    
      <category term="androidå®‰å…¨" scheme="http://tea9.xyz/categories/android%E5%AE%89%E5%85%A8/"/>
    
    
      <category term="androidå®‰å…¨" scheme="http://tea9.xyz/tags/android%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>androidåŠ å›º</title>
    <link href="http://tea9.xyz/post/3671652172.html"/>
    <id>http://tea9.xyz/post/3671652172.html</id>
    <published>2019-03-05T16:00:00.000Z</published>
    <updated>2019-03-20T06:54:53.981Z</updated>
    
    <content type="html"><![CDATA[<h2 id="appåŠ å›ºå¨èƒ"><a href="#appåŠ å›ºå¨èƒ" class="headerlink" title="appåŠ å›ºå¨èƒ"></a>appåŠ å›ºå¨èƒ</h2><ul><li>ä»£ç ä¿®æ”¹(å¹¿å‘Šæ¤å…¥ã€æ›¿æ¢å¹¿å‘Šid)</li><li>èµ„æºä¿®æ”¹(ç•Œé¢æ›¿æ¢å¹¿å‘Šï¼Œé“¾æ¥æ›¿æ¢)</li><li>ç ´è§£(åº”ç”¨æ”¶è´¹ï¼Œå†…è´­)</li><li>ç¯¡æ”¹æ•°æ®(æ— é™é‡‘å¸,é’»çŸ³)</li><li>åŠ å…¥æ¶æ„ä»£ç (æœ¨é©¬ï¼Œéšç§ï¼Œäº¤æ˜“)</li><li>åŠ¨æ€æ³¨å…¥ï¼Œæ•°æ®æ‹¦æˆªï¼Œçªƒå–ï¼Œä¿®æ”¹ï¼›åè®®ä¿®æ”¹</li></ul><h2 id="appåŠ å›ºçš„ç›®çš„"><a href="#appåŠ å›ºçš„ç›®çš„" class="headerlink" title="appåŠ å›ºçš„ç›®çš„"></a>appåŠ å›ºçš„ç›®çš„</h2><ul><li>ä¿æŠ¤æ ¸å¿ƒä»£ç ï¼Œé˜²æ­¢è¢«é€†å‘ï¼Œæ³„å¯† é˜²æ­¢é€†å‘åˆ†æ-é˜²æ­¢æ ¸å¿ƒä»£ç è¢«åç¼–è¯‘</li><li>é˜²æ­¢è¥é”€ä½œå¼Š</li><li>é˜²æ­¢ä»£ç è¢«ä¿®æ”¹</li><li>æ§åˆ¶è¢«äºŒæ¬¡æ‰“åŒ…-æ ¡éªŒå®Œæ•´æ€§ï¼Œç­¾åï¼Œé˜²æ­¢ç›—ç‰ˆ</li><li>é˜²æ­¢è°ƒè¯•å’Œæ³¨å…¥-é˜²æ­¢åŠ¨æ€è°ƒè¯•ï¼Œæ³¨å…¥è·å–å…³é”®æ•°æ®</li><li>é˜²æ­¢åº”ç”¨æ•°æ®çªƒå–-åŠ å¯†æ•æ„Ÿæ•°æ®</li><li>é˜²æ­¢åè®®ç›´æ¥è¢«ç›—åˆ·-åŠ å¯†åè®®é€šä¿¡</li></ul><h2 id="åŠ å›ºæŠ€æœ¯çš„å‘å±•å†å²"><a href="#åŠ å›ºæŠ€æœ¯çš„å‘å±•å†å²" class="headerlink" title="åŠ å›ºæŠ€æœ¯çš„å‘å±•å†å²"></a>åŠ å›ºæŠ€æœ¯çš„å‘å±•å†å²</h2><ul><li>ç¬¬ä¸€ä»£ DEXåŠ å¯†ã€å­—ç¬¦ä¸²åŠ å¯†ã€èµ„æºåŠ å¯†ã€åè°ƒè¯•ã€è‡ªå®šä¹‰DexClassLoader </li><li>ç¬¬äºŒä»£ æ ¸å¿ƒå°è£…åˆ°Soåº“/æ–¹æ³•æŠ½å–/åè°ƒè¯•</li><li>ç¬¬ä¸‰ä»£ ELFå˜å½¢/Ollvmæ··æ·†/å¤šè¿›ç¨‹ä¿æŠ¤</li><li>ç¬¬å››ä»£ ä»£ç è™šæ‹ŸåŒ–ä¿æŠ¤ DEXè™šæ‹ŸåŒ–ä¿æŠ¤</li><li>ç¬¬äº”ä»£ ARMè™šæ‹ŸåŒ–ä¿æŠ¤</li></ul><h2 id="å¸¸è§åŠ å›ºå‚å•†"><a href="#å¸¸è§åŠ å›ºå‚å•†" class="headerlink" title="å¸¸è§åŠ å›ºå‚å•†"></a>å¸¸è§åŠ å›ºå‚å•†</h2><ul><li>åŠ å›ºä¿360</li></ul><p><a href="http://jiagu.360.cn/#/global/index" target="_blank" rel="noopener">360åŠ å›ºä¿</a></p><ul><li>å¨œè¿¦nagapt</li></ul><p><a href="http://www.nagain.com/" target="_blank" rel="noopener">å¨œè¿¦åŠ å›º</a>  </p><ul><li>æ¢†æ¢†bangcle</li></ul><p><a href="https://www.bangcle.com/" target="_blank" rel="noopener">æ¢†æ¢†åŠ å›º</a></p><ul><li>çˆ±åŠ å¯†ijm</li></ul><p><a href="http://www.ijiami.cn/appprotect_encrypt_way" target="_blank" rel="noopener">çˆ±åŠ å¯†åŠ å›º</a></p><ul><li>é˜¿é‡Œ</li><li>ç™¾åº¦ï¼Œç››å¤§ï¼Œè…¾è®¯ï¼Œç½‘ç§¦ï¼Œé€šä»˜ç›¾</li></ul><h2 id="å¸¸è§åŠ å›ºæ–¹å¼"><a href="#å¸¸è§åŠ å›ºæ–¹å¼" class="headerlink" title="å¸¸è§åŠ å›ºæ–¹å¼"></a>å¸¸è§åŠ å›ºæ–¹å¼</h2><p>ç±»åŠ è½½æŠ€æœ¯ï¼š<br>é’ˆå¯¹apkä¸­çš„classes.dexæ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œæ”¾å…¥å¾…å®šçš„æ–‡ä»¶ä¸­ï¼Œé€šè¿‡nativeä»£ç æ¥è¿›è¡Œå¯¹å…¶è¿è¡Œæ—¶è§£å¯†ã€‚  </p><p>ä½¿ç”¨å‚å•†ï¼šå¨œè¿¦ï¼Œçˆ±åŠ å¯†ï¼Œæ¢†æ¢†ç­‰ã€‚  </p><p>æ–¹æ³•æ›¿æ¢æŠ€æœ¯ï¼š<br>å°†classes.dexä¸­çš„æ–¹æ³•ä¸­ä»£ç è¿›è¡Œæå–ï¼ŒæŠ½å–æ–¹æ³•ï¼Œåœ¨è¿è¡Œæ—¶å¯¹å…¶åŠ¨æ€è¿›è¡Œè§£å¯†è¿˜åŸ  </p><p>æ¢†æ¢†ï¼Œå¨œè¿¦  </p><h2 id="å¸¸ç”¨åŠ å›ºå‚å•†ç‰¹å¾"><a href="#å¸¸ç”¨åŠ å›ºå‚å•†ç‰¹å¾" class="headerlink" title="å¸¸ç”¨åŠ å›ºå‚å•†ç‰¹å¾"></a>å¸¸ç”¨åŠ å›ºå‚å•†ç‰¹å¾</h2><ul><li>å¨œè¿¦ libchaosvmp.so,libddog.so libfdog.so</li><li>çˆ±åŠ å¯† libexec.so,libexecmain.so</li><li>æ¢†æ¢† libsecexe.so libsecmain.so libDexHelper.so</li><li>360 libprotectClass.so libjiagu.so</li><li>é€šä»˜ç›¾ libegis.so</li><li>ç½‘ç§¦ libnqshield.so</li><li>ç™¾åº¦ libbaiduprotect.so</li></ul><h2 id="è„±å£³çš„æ‰‹æ³•"><a href="#è„±å£³çš„æ‰‹æ³•" class="headerlink" title="è„±å£³çš„æ‰‹æ³•"></a>è„±å£³çš„æ‰‹æ³•</h2><ul><li>ä¿®æ”¹ç³»ç»Ÿæºç è‡ªåŠ¨è„±å£³</li><li>é€šè¿‡hookæ–¹å¼å¯¹å…³é”®å‡½æ•°è¿›è¡Œè„±å£³</li><li>å¼€æºå·¥å…·å…¥ZjDroidï¼ŒDexHunterè¿›è¡Œè„±å£³</li><li>åˆ©ç”¨IDAæˆ–è€…GDBåŠ¨æ€è°ƒè¯•è¿›è¡Œè„±å£³</li></ul><h2 id="åè°ƒè¯•"><a href="#åè°ƒè¯•" class="headerlink" title="åè°ƒè¯•"></a>åè°ƒè¯•</h2><p>åè°ƒè¯•ä»£ç ï¼Œéƒ½æ˜¯åœ¨å£³å­çš„soä¸­æ‰§è¡Œçš„ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬åªè¦åœ¨è¿›å…¥å£³å­ç¬¬ä¸€è¡Œä»£ç æ—¶ä¸‹äº†æ–­ç‚¹ï¼Œåœ¨è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œæ‰¾åˆ°äº†åè°ƒè¯•æ£€æµ‹ä»£ç çš„ä½ç½®ï¼Œç›´æ¥å¹²æ‰ï¼Œç›´æ¥ç»•è¿‡åè°ƒè¯•  </p><p>åœ¨libdvm.soä¸­æ–¹æ³•loadNativeCodeå¤„ä¸‹æ–­ç‚¹ï¼Œandroidç³»ç»ŸåŠ è½½åŠ è½½nativeä»£ç ä¹Ÿå°±æ˜¯soæ–‡ä»¶éƒ½è¦èµ°çš„å‡½æ•°ï¼Œæ‰€ä»¥ä¸‹åœ¨è¿™é‡Œçš„æ–­ç‚¹ï¼Œèƒ½å¤Ÿæœ‰æ•ˆçš„æ‰¾åˆ°åŠ è½½å£³å­çš„soä½ç½®ï¼Œèƒ½å¤Ÿåœ¨ä¸€è¿›å…¥å£³å­çš„soï¼Œç›´æ¥æ–­ä½ã€‚  </p><p>æœ€ç®€å•çš„æŠ€å·§ï¼Œå°±æ˜¯å•æ­¥è°ƒè¯•ï¼ŒF8ä¸€è·¯æŒ‰ä¸‹å»ï¼ŒæŒ‰çš„å¤šäº†ï¼Œå°±æœ‰äº†æ›´å¥½çš„ä½ç½®ä¸‹æ–­ç‚¹ã€‚  </p><p>è®°ä½ä¸€ç‚¹å°±å¥½ï¼Œå£³å­çš„soä¸­ï¼Œæ€»æœ‰ä¸€å¤„æ˜¯è§£å¯†è¿˜åŸå‡ºappåŸæœ¬çš„dexçš„ã€‚  </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;appåŠ å›ºå¨èƒ&quot;&gt;&lt;a href=&quot;#appåŠ å›ºå¨èƒ&quot; class=&quot;headerlink&quot; title=&quot;appåŠ å›ºå¨èƒ&quot;&gt;&lt;/a&gt;appåŠ å›ºå¨èƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;ä»£ç ä¿®æ”¹(å¹¿å‘Šæ¤å…¥ã€æ›¿æ¢å¹¿å‘Šid)&lt;/li&gt;
&lt;li&gt;èµ„æºä¿®æ”¹(ç•Œé¢æ›¿æ¢å¹¿å‘Šï¼Œé“¾æ¥æ›¿æ¢)
      
    
    </summary>
    
      <category term="androidå®‰å…¨" scheme="http://tea9.xyz/categories/android%E5%AE%89%E5%85%A8/"/>
    
    
      <category term="androidå®‰å…¨" scheme="http://tea9.xyz/tags/android%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>android busybox</title>
    <link href="http://tea9.xyz/post/1663513283.html"/>
    <id>http://tea9.xyz/post/1663513283.html</id>
    <published>2019-02-24T16:00:00.000Z</published>
    <updated>2019-03-20T12:27:36.841Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å®‰è£…busybox"><a href="#å®‰è£…busybox" class="headerlink" title="å®‰è£…busybox"></a>å®‰è£…busybox</h1><blockquote><p>æ‰‹æœºè¦root</p></blockquote><h2 id="æŸ¥çœ‹å¯¹åº”arm"><a href="#æŸ¥çœ‹å¯¹åº”arm" class="headerlink" title="æŸ¥çœ‹å¯¹åº”arm"></a>æŸ¥çœ‹å¯¹åº”arm</h2><pre><code>adb shell getprop ro.product.cpu.abi&gt; arm64-v8a</code></pre><h2 id="ä¸‹è½½busybox"><a href="#ä¸‹è½½busybox" class="headerlink" title="ä¸‹è½½busybox"></a>ä¸‹è½½busybox</h2><p>ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ä¸‹ï¼Œå¯¹åº”çš„arm<br><a href="http://www.busybox.net/downloads/binaries" target="_blank" rel="noopener">busybox download</a><br>ä¿®æ”¹åç§°ä¸ºbusybox</p><h2 id="push"><a href="#push" class="headerlink" title="push"></a>push</h2><pre><code>adb push busybox /sdcard</code></pre><h2 id="ä¿®æ”¹-system-ç›®å½•å¯è¯»å†™"><a href="#ä¿®æ”¹-system-ç›®å½•å¯è¯»å†™" class="headerlink" title="ä¿®æ”¹/system ç›®å½•å¯è¯»å†™"></a>ä¿®æ”¹/system ç›®å½•å¯è¯»å†™</h2><pre><code>adb shellsumount -o remount,rw -t yaffs2 /dev/block/mtdblock3 /system</code></pre><p><img src="https://coding.net/u/tea9/p/image/git/raw/master/blog_img/28/01.png" alt=""></p><pre><code>adb shell su&gt; sumount -o rw,remount -t yaffs2 /system&gt; mount -o rw,remount -t yaffs2 /systemmount -o rw,remount -t yaffs2 /system&gt; mount -o rw,remount -t yaffs2 /systemmount -o rw,remount -t yaffs2 /system&gt; mount -0 rw,remount -t yaffs2 /systemadb remount&gt;remount succeeded</code></pre><h2 id="copy"><a href="#copy" class="headerlink" title="copy"></a>copy</h2><pre><code>cp /sdcard/busybox /system/xbinchmod 755 busyboxcd /system/xbinbusybox --install .</code></pre><h2 id="LINKS"><a href="#LINKS" class="headerlink" title="LINKS"></a>LINKS</h2><p><a href="https://blog.csdn.net/hp910315/article/details/79510223" target="_blank" rel="noopener">åœ¨Androidä¸Šå®‰è£…BusyBox</a><br><a href="https://www.cnblogs.com/shamoguzhou/p/6233407.html" target="_blank" rel="noopener">androidå®‰è£…busybox</a>  </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å®‰è£…busybox&quot;&gt;&lt;a href=&quot;#å®‰è£…busybox&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…busybox&quot;&gt;&lt;/a&gt;å®‰è£…busybox&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;æ‰‹æœºè¦root&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2
      
    
    </summary>
    
      <category term="androidé€†å‘" scheme="http://tea9.xyz/categories/android%E9%80%86%E5%90%91/"/>
    
    
      <category term="androidé€†å‘" scheme="http://tea9.xyz/tags/android%E9%80%86%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šèˆ¹ã€‹</title>
    <link href="http://tea9.xyz/post/1801016912.html"/>
    <id>http://tea9.xyz/post/1801016912.html</id>
    <published>2019-01-27T16:00:00.000Z</published>
    <updated>2019-03-20T06:55:03.944Z</updated>
    
    <content type="html"><![CDATA[<pre><code>ã€Šèˆ¹ã€‹æˆ‘æœ‰è¿‡å¤šæ¬¡è¿™æ ·çš„å¥‡é‡ï¼Œä»å¤©å ‚åˆ°åœ°ç‹±åªåœ¨ç¬æ¯ä¹‹é—´ï¼šæ¯ä¸€æœµå¯çˆ±ã€æ¸©æŸ”çš„æµªèŠ±éƒ½æˆäº†çªç„¶å´›èµ·ã€éšå³å€¾å€’çš„é«˜å±±ã€‚æ¯ä¸€æ»´æµ·æ°´éƒ½å˜è„¸è‰²ï¼Œåˆšåˆšè¿˜æ˜¯é‚£æ ·çš„ç¾ä¸½ã€è”šè“ï¼›æ—‹æ¶¡çº ç¼ ç€æ—‹æ¶¡ï¼Œæˆ‘è¢«æŠ›å‘é«˜ç©ºåˆæŠ•è¿›æ·±æ¸Šâ€¦â€¦å½“æ—¶æˆ‘ç”šè‡³æƒ³åˆ°è¿‡è½»ç”Ÿï¼Œçœ¼å‰ä¸€ç‰‡è‹¦æµ·æ— è¾¹ï¼›æ”¾å¼ƒäº†å¸Œæœ›å°±åƒæ”¾å¼ƒäº†èˆµæŸ„ï¼Œåœ¨æš´åŠ›ä¹‹ä¸‹åªèƒ½æ²‰é»˜å’Œå“€å¹ã€‚ä»Šå¤©æˆ‘æ‰æœ‰èµ„æ ¼å˜²ç¬‘æ˜¨å¤©çš„è‡ªå·±ï¼Œä¸ºæ˜¨å¤©è½å¶ä¼¼çš„æƒ¶ææ„Ÿåˆ°ç¾æƒ­ï¼›è™šåº¦äº†å¤šå°‘å¹´åï¼Œèˆ¹èº«å¤šæ¬¡è¢«ç¤çŸ³æ’ç©¿â€¦â€¦åƒä¸‡æ¬¡åœ¨å¤§æ´‹é‡Œæ’’ç½‘ï¼Œæ‰æ•è·åˆ°ä¸€ç‚¹ç‚¹ç”Ÿæ´»çš„ç»éªŒï¼Œæ‰æç„¶å¤§æ‚Ÿï¼Œå•Šï¼é“ç†åŸæ˜¯å¦‚æ­¤æµ…æ˜¾ï¼›ä½ è¦èˆªè¡Œå—?å¿…ç„¶ä¼šæœ‰åƒå¦–ç™¾æ€ªå‡ºæ¥é˜»æ‹¦ï¼›æš´è™çš„æ¬ºå‡Œæ˜¯å®ƒä»¬çš„æ¸¸æˆï¼Œåˆ¶é€ ç­äº¡æ˜¯å®ƒä»¬å”¯ä¸€çš„æ‰å¹²ã€‚å‘½ä¸­æ³¨å®šæˆ‘è¦å¸¸å¸¸å’Œå®ƒä»¬ç›¸é€¢ï¼Œå› ä¸ºæˆ‘çš„åå­—å«åšèˆ¹ï¼›é¢å¯¹å¼ºå¤§äºè‡ªèº«åƒä¸‡å€çš„å¯¹æ‰‹ï¼Œèƒ½æ´æ•‘è‡ªå·±çš„åªæœ‰æ¸…é†’å’Œå‹‡æ•¢ã€‚ææƒ§åªèƒ½ä½¿è‡ªå·±ç›²ç›®ï¼Œç›²ç›®åªèƒ½å¤¸å¤§é­”é¬¼çš„ç‹°ç‹å˜´è„¸ï¼›ä¹Ÿè®¸æˆ‘çš„æ ·å­æ¯”å®ƒä»¬æ›´å¯æ€•ï¼Œå½“æˆ‘ä»¥å‘½ç›¸æ‹¼ï¼Œä¸€å¾€æ— å‰ï¼åªè¦æˆ‘è¿˜æœ‰ä¸€æ ¹å®Œæ•´çš„é¾™éª¨ï¼Œç»ä¸é©¶è¿›é¿é£çš„æ¸¯æ¹¾ï¼›æŠŠç”Ÿå‘½æ”¾åœ¨å¾é€”ä¸Šï¼Œè®©å‹‡æ•¢æ¥å†³å®šé“è·¯çš„å®½çª„ã€é•¿çŸ­ã€‚æˆ‘å®Œå®Œå…¨å…¨çš„è‡ªç”±äº†ï¼Œèˆ¹å¤´æˆä¸ºåŸ‹è‘¬å®ƒä»¬çš„é“é“²ï¼›æˆ‘åœ¨æ³¢æµªä¸­æœ‰èŠ‚å¥åœ°è·³è·ƒï¼Œå°±åƒè¡ç€ä¸€ä¸ªå·¨å¤§çš„ç§‹åƒã€‚å³ä½¿å®ƒä»¬ç»ˆäºæŠŠæˆ‘æ’•ç¢ï¼Œå˜æˆä¸€äº›æ®‹ç ´çš„æœ¨ç‰‡ï¼Œæˆ‘ä¸ä¼šæ²‰æ²¦ï¼Œå†³ä¸ï¼æˆ‘è¿˜ä¼šåœ¨æµªå°–ä¸Šé£æ—‹ã€‚åæ¥è€…è¿˜ä¼šåœ¨æ®‹ç‰‡ä¸Šè®¤å‡ºæˆ‘ï¼Œæœªæ¥çš„è¯—äººä¼šå”±ç„¶é•¿å¹ï¼šâ€œè¿™é‡Œæœ‰ä¸€ä¸ªå¹¸ç¦çš„çµé­‚ï¼Œå®ƒæ›¾ç»æ˜¯ä¸€è‰˜å‰è¿›ç€çš„èˆªèˆ¹â€¦â€¦â€</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;pre&gt;&lt;code&gt;ã€Šèˆ¹ã€‹
æˆ‘æœ‰è¿‡å¤šæ¬¡è¿™æ ·çš„å¥‡é‡ï¼Œ

ä»å¤©å ‚åˆ°åœ°ç‹±åªåœ¨ç¬æ¯ä¹‹é—´ï¼š

æ¯ä¸€æœµå¯çˆ±ã€æ¸©æŸ”çš„æµªèŠ±

éƒ½æˆäº†çªç„¶å´›èµ·ã€éšå³å€¾å€’çš„é«˜å±±ã€‚



æ¯ä¸€æ»´æµ·æ°´éƒ½å˜è„¸è‰²ï¼Œ

åˆšåˆšè¿˜æ˜¯é‚£æ ·çš„ç¾ä¸½ã€è”šè“ï¼›

æ—‹æ¶¡çº ç¼ ç€æ—‹æ¶¡ï¼Œ

æˆ‘è¢«æŠ›å‘é«˜ç©ºåˆæŠ•è¿›æ·±æ¸Šâ€¦â€¦



å½“æ—¶æˆ‘ç”šè‡³æƒ³åˆ°è¿‡è½»ç”Ÿ
      
    
    </summary>
    
      <category term="biu" scheme="http://tea9.xyz/categories/biu/"/>
    
    
      <category term="biu" scheme="http://tea9.xyz/tags/biu/"/>
    
  </entry>
  
  <entry>
    <title>smali hello</title>
    <link href="http://tea9.xyz/post/229799766.html"/>
    <id>http://tea9.xyz/post/229799766.html</id>
    <published>2019-01-20T16:00:00.000Z</published>
    <updated>2019-03-20T06:55:14.656Z</updated>
    
    <content type="html"><![CDATA[<h2 id="smaliè¯­æ³•"><a href="#smaliè¯­æ³•" class="headerlink" title="smaliè¯­æ³•"></a>smaliè¯­æ³•</h2><pre><code>invoke-static æ˜¯ç±»é™æ€æ–¹æ³•çš„è°ƒç”¨ï¼Œç¼–è¯‘æ—¶ï¼Œé™æ€ç¡®å®šçš„ï¼›invoke-virtual è™šæ–¹æ³•è°ƒç”¨ï¼Œè°ƒç”¨çš„æ–¹æ³•è¿è¡Œæ—¶ç¡®è®¤å®é™…è°ƒç”¨ï¼Œå’Œå®ä¾‹å¼•ç”¨çš„å®é™…å¯¹è±¡æœ‰å…³ï¼ŒåŠ¨æ€ç¡®è®¤çš„ï¼Œä¸€èˆ¬æ˜¯å¸¦æœ‰ä¿®é¥°ç¬¦protectedæˆ–publicçš„æ–¹æ³•ï¼›invoke-direct æ²¡æœ‰è¢«è¦†ç›–æ–¹æ³•çš„è°ƒç”¨ï¼Œå³ä¸ç”¨åŠ¨æ€æ ¹æ®å®ä¾‹æ‰€å¼•ç”¨çš„è°ƒç”¨ï¼Œç¼–è¯‘æ—¶ï¼Œé™æ€ç¡®è®¤çš„ï¼Œä¸€èˆ¬æ˜¯privateæˆ–&lt;init&gt;æ–¹æ³•ï¼›invoke-super ç›´æ¥è°ƒç”¨çˆ¶ç±»çš„è™šæ–¹æ³•ï¼Œç¼–è¯‘æ—¶ï¼Œé™æ€ç¡®è®¤çš„ã€‚invokeinterface è°ƒç”¨æ¥å£æ–¹æ³•ï¼Œè°ƒç”¨çš„æ–¹æ³•è¿è¡Œæ—¶ç¡®è®¤å®é™…è°ƒç”¨ï¼Œå³ä¼šåœ¨è¿è¡Œæ—¶æ‰ç¡®å®šä¸€ä¸ªå®ç°æ­¤æ¥å£çš„å¯¹è±¡ã€‚</code></pre><hr><pre><code>.class public LHelloWorld; #å®šä¹‰ç±»å.super Ljava/lang/Object; #å®šä¹‰çˆ¶ç±».method public static main(Ljava/lang/String;)V #å£°æ˜é™æ€main()æ–¹æ³•    .registers 4 #ç¨‹åºä¸­ä½¿ç”¨v0ã€v1ã€v2å¯„å­˜å™¨ä¸ä¸€ä¸ªèš•é£Ÿå¯„å­˜å™¨    .parameter    #ä¸€ä¸ªå‚æ•°    .prologue #ä»£ç èµ·å§‹æŒ‡ä»¤    #ç©ºæŒ‡ä»¤    nop    nop    nop    nop    #æ•°æ®å®šä¹‰æŒ‡ä»¤    const/16 v0, 0x8    const/4 v1, 0x5    const/4 v2, 0x3    #æ•°æ®æ“ä½œæŒ‡ä»¤    move v1, v2    #æ•°ç»„æ“ä½œæŒ‡ä»¤    new-array v0,v0,[I    array-length v1,v0    #å®ä¾‹æ“ä½œæŒ‡ä»¤    new-instance v1, Ljava/lang/StringBuilder;    #æ–¹æ³•è°ƒç”¨æŒ‡ä»¤    invoke-direct {v1},Ljava/lang/StringBuilder;-&gt;&lt;init&gt;()V    #è·³è½¬æŒ‡ä»¤    if-nez v0,:cond_0    goto :goto_0    :cond_0    #æ•°æ®è½¬æ¢æŒ‡ä»¤    int-to-float v2,v2    #æ•°æ®è¿ç®—æŒ‡ä»¤    add-float v2,v2,v2    #æ¯”è¾ƒæŒ‡ä»¤    cmpl-float v0,v2,v2    #å­—æ®µæ“ä½œæŒ‡ä»¤    sget-object v0, Ljava/lang/System;-&gt;out:Ljava/io/PrintStream;    const-string v1,&quot;Hello World&quot;    #æ–¹æ³•è°ƒç”¨æŒ‡ä»¤    invoke-virtual {v0,v1},Ljava/io/PrintStream;-&gt;println(Ljava/lang/String;)V    #è¿”å›æŒ‡ä»¤    :goto_0    return-void #è¿”å›ç©º.end method</code></pre><h2 id="smaliåŠ¨æ€è°ƒè¯•-android-studio"><a href="#smaliåŠ¨æ€è°ƒè¯•-android-studio" class="headerlink" title="smaliåŠ¨æ€è°ƒè¯•-android studio"></a>smaliåŠ¨æ€è°ƒè¯•-android studio</h2><hr><p><a href="https://blog.csdn.net/hp910315/article/details/52790740" target="_blank" rel="noopener">Android StudioåŠ¨æ€è°ƒè¯•smaliæºç </a><br><a href="https://blog.csdn.net/shengerjianku/article/details/76511898" target="_blank" rel="noopener">androidstudioåŠ¨æ€è°ƒè¯•smali</a>  </p><p><a href="https://blog.csdn.net/hujiuding/article/details/79057705" target="_blank" rel="noopener">ASåŠ¨æ€è°ƒè¯•smali</a>  </p><p><a href="https://bitbucket.org/JesusFreke/smali/downloads/" target="_blank" rel="noopener">smali.jar download</a>  </p><ol><li><p>android studiao  Plugins Install plugin from disk  smalidea<br><a href="https://bitbucket.org/JesusFreke/smali/downloads/smalidea-0.05.zip" target="_blank" rel="noopener">smalidea</a>  </p></li><li><p>åç¼–è¯‘apkï¼Œä¿®æ”¹AndroidManifest.xmlä¸­çš„debugå±æ€§ æˆ–è€… ä½¿ç”¨mpropå·¥å…· æˆ–è€… xposed xinstaller æ¨¡å—ï¼ˆæ²¡è¯•è¿‡ï¼‰<br><a href="https://tea9.xyz/2019/01/07/android_reverse_app.html" target="_blank" rel="noopener">androidåç¼–è¯‘ä¸€ä¸ªapp/ç­¾å</a><br><a href="https://www.jianshu.com/p/e540f34cec07" target="_blank" rel="noopener">åˆ©ç”¨mpropå·¥å…·ä¿®æ”¹å½“å‰æ‰‹æœºåº”ç”¨éƒ½å¯ä»¥è°ƒè¯•</a>  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å®‰è£…xposedæ¡†æ¶ï¼ˆéœ€è¦rootï¼Œåˆ·ç¬¬ä¸‰æ–¹recoveryï¼‰ï¼Œä¹‹åå®‰è£…xinstalleræ¨¡å—ï¼Œè®¾ç½®xinstallerå¯åŠ¨ä¸“å®¶æ¨¡å¼ï¼Œåœ¨å…¶ä»–è®¾ç½®ä¸­å¼€å¯â€œè°ƒè¯•åº”ç”¨â€</span><br></pre></td></tr></table></figure></li></ol><p>ä½¿ç”¨mpropã€‚<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">cd</span> mprop/libs</span><br><span class="line"><span class="title">adb</span> push armeabi-v7a/mprop /<span class="class"><span class="keyword">data</span>/local/tmp</span></span><br><span class="line"></span><br><span class="line"><span class="title">adb</span> shell</span><br><span class="line">su</span><br><span class="line">chmod <span class="number">755</span> /<span class="class"><span class="keyword">data</span>/local/tmp/mprop  </span></span><br><span class="line"><span class="class"><span class="keyword">data</span>/local/tmp/mprop</span></span><br><span class="line">setprop ro.debuggable <span class="number">1</span></span><br><span class="line"><span class="class"><span class="keyword">data</span>/local/tmp/mprop -r</span></span><br></pre></td></tr></table></figure></p><pre><code>cat default.propro.secure=1security.perf_harden=1ro.allow.mock.location=0ro.debuggable=1persist.sys.usb.config=adb</code></pre><ol start="3"><li>åŠ¨æ€è°ƒè¯•</li></ol><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">java -jar baksmali-<span class="number">2.0</span>.<span class="number">8</span>.jar test_signed.apk -o ~/Downloads/SmaliDebug/src</span><br><span class="line"></span><br><span class="line">adb install xx.apk //å®‰è£…é‡æ–°æ‰“åŒ…çš„apk</span><br><span class="line"></span><br><span class="line">adb <span class="keyword">shell</span><span class="bash"> dumpsys window w |grep \/ |grep name= // æŸ¥çœ‹é¡¶å±‚activity</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">adb shell am start -D -n com.example.simpleencryption/.MainActivity // ä»¥è°ƒè¯•æ¨¡å¼æ‰“å¼€</span></span><br><span class="line"><span class="bash">adb shell am start -D -n com.hypay.pay.pkg/com.sytpay.paytimework.LoginActivity</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">adb shell ps|grep &lt;package-name&gt; //æŸ¥çœ‹ç«¯å£å·</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">adb forward tcp:8700 jdwp:1924 //è½¬å‘</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">ä¸‹æ–­ç‚¹</span></span><br><span class="line"><span class="bash">Run-Debug</span></span><br></pre></td></tr></table></figure><h2 id="ERROR"><a href="#ERROR" class="headerlink" title="ERROR"></a>ERROR</h2><p>Error running â€˜DebugSmaliâ€™: Unable to open debugger port (localhost:8700): java.net.ConnectException â€œConnection refused (Connection refused)â€  </p><pre><code>adb kill-server //kill adbæœåŠ¡adb start-serversudo lsof -i tcp:8700 //æŸ¥çœ‹8700ç«¯å£å ç”¨netstat -nao | findstr &lt;port&gt;kill -9 8348 //killæ‰è¿›ç¨‹æŠŠDDMSå…³æ‰ DDMSä¼šå ç”¨8700ç«¯å£é‡èµ·AndroidStudio</code></pre><h2 id="Smali-2-Java"><a href="#Smali-2-Java" class="headerlink" title="Smali 2 Java"></a>Smali 2 Java</h2><p><a href="https://pan.baidu.com/s/1kh8qJOypIo_1Lse-AazmRg" target="_blank" rel="noopener">downloadé“¾æ¥: </a><br>æå–ç : ix9u </p><h2 id="Java-2-Smali"><a href="#Java-2-Smali" class="headerlink" title="Java 2 Smali"></a>Java 2 Smali</h2><p><a href="https://github.com/ollide/intellij-java2smali" target="_blank" rel="noopener">intellij-java2smali</a>  </p><p>Preferences-&gt;Plugins-&gt;smali</p><p>Use:</p><p>Build-&gt;Compile to smali</p><hr><p><a href="https://www.cnblogs.com/gordon0918/p/5466514.html" target="_blank" rel="noopener">å¦‚ä½•æŠŠjavaä»£ç è½¬æ¢æˆsmaliä»£ç </a>  </p><pre><code>javac smaliTest.javajava -jar dx.jar --dex --output=smaliTest.dex smaliTest.class //android-sdk\build-tools\23.0.1\libjava -jar baksmali.jar smaliTest.dex //android-sdk\platform-tools\outç›®å½•ï¼Œé‡Œé¢æœ‰æˆ‘ä»¬çš„smaliæ–‡ä»¶</code></pre><h2 id="å†™ä¸€ä¸ªdemo-ä¿®æ”¹smali"><a href="#å†™ä¸€ä¸ªdemo-ä¿®æ”¹smali" class="headerlink" title="å†™ä¸€ä¸ªdemo ä¿®æ”¹smali **"></a>å†™ä¸€ä¸ªdemo ä¿®æ”¹smali **</h2><h2 id="startActivity"><a href="#startActivity" class="headerlink" title="startActivity"></a>startActivity</h2><pre><code>.method protected onCreate(Landroid/os/Bundle;)V    .registers 4    .param p1, &quot;savedInstanceState&quot;    # Landroid/os/Bundle;    .prologue    .line 11    invoke-super {p0, p1}, Landroid/support/v7/app/AppCompatActivity;-&gt;onCreate(Landroid/os/Bundle;)V    .line 13    new-instance v0, Landroid/content/Intent;    const-class v1, Lcom/demo/myapplication/MainActivity;    invoke-direct {v0, p0, v1}, Landroid/content/Intent;-&gt;&lt;init&gt;(Landroid/content/Context;Ljava/lang/Class;)V    .line 14    .local v0, &quot;intent&quot;:Landroid/content/Intent;    invoke-virtual {p0, v0}, Lcom/demo/myapplication/MainActivity;-&gt;startActivity(Landroid/content/Intent;)V    .line 15    return-void.end method</code></pre><hr><h2 id="å¯åŠ¨ä¸€ä¸ªæ´»åŠ¨"><a href="#å¯åŠ¨ä¸€ä¸ªæ´»åŠ¨" class="headerlink" title="å¯åŠ¨ä¸€ä¸ªæ´»åŠ¨"></a>å¯åŠ¨ä¸€ä¸ªæ´»åŠ¨</h2><pre><code>new-instance v0, Landroid/content/Intent;invoke-virtual {p0}, Lcom/demo/myapplication/App;-&gt;getApplicationContext()Landroid/content/Context;move-result-object v1const-class v2, Lcom/demo/myapplication/LoginActivity;invoke-direct {v0, v1, v2}, Landroid/content/Intent;-&gt;&lt;init&gt;(Landroid/content/Context;Ljava/lang/Class;)Vinvoke-virtual {p0, v0}, Lcom/demo/myapplication/App;-&gt;startActivity(Landroid/content/Intent;)V</code></pre><hr><h2 id="ç¼–è¯‘smaliæ–‡ä»¶"><a href="#ç¼–è¯‘smaliæ–‡ä»¶" class="headerlink" title="ç¼–è¯‘smaliæ–‡ä»¶"></a>ç¼–è¯‘smaliæ–‡ä»¶</h2><p>HelloWorld.smali  </p><pre><code>.class public LHelloWorld;#å®šä¹‰ç±»å.super Ljava/lang/Object;#å®šä¹‰çˆ¶ç±».method public static main([Ljava/lang/String;)V#å£°æ˜é™æ€main()æ–¹æ³•    .registers 4#ç¨‹åºä½¿ç”¨v0ã€v1ã€v2å¯„å­˜å™¨å’Œä¸€ä¸ªå‚æ•°å¯„å­˜å™¨    .prologue#ä»£ç èµ·å§‹æŒ‡ä»¤    #ç©ºæŒ‡ä»¤    nop    nop    nop    nop    #æ•°æ®å®šä¹‰æŒ‡ä»¤    const/16 v0, 0x8    const/4 v1, 0x5    const/4 v2, 0x3    #æ•°æ®æ“ä½œæŒ‡ä»¤    move v1, v2    #æ•°ç»„æ“ä½œæŒ‡ä»¤    new-array v0, v0, [I    array-length v1, v0    #å®ä¾‹æ“ä½œæŒ‡ä»¤    new-instance v1, Ljava/lang/StringBuilder;    #æ–¹æ³•è°ƒç”¨æŒ‡ä»¤    invoke-direct {v1}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;()V    #è·³è½¬æŒ‡ä»¤    if-nez v0, :cond_0    goto :goto_0    :cond_0    #æ•°æ®è½¬æ¢æŒ‡ä»¤    int-to-float v2, v2    #æ•°æ®è¿ç®—æŒ‡ä»¤    add-float v2, v2, v2    #æ¯”è¾ƒæŒ‡ä»¤    cmpl-float v0, v2, v2    #å­—æ®µæ“ä½œæŒ‡ä»¤    sget-object v0, Ljava/lang/System;-&gt;out:Ljava/io/PrintStream;    const-string v1, &quot;Hello World&quot; #æ„é€ å­—ç¬¦ä¸²    #æ–¹æ³•è°ƒç”¨æŒ‡ä»¤    invoke-virtual {v0, v1},Ljava/io/PrintStream;-&gt;println(Ljava/lang/String;)V    #è¿”å›æŒ‡ä»¤    :goto_0    return-void#è¿”å›ç©ºå€¼.end methodjava -jar smali-2.2.6.jar a -o HelloWorld.dex HelloWorld.smaliadb push HelloWorld.dex /sdcard/&gt;adb shell dalvikvm -cp /sdcard/HelloWorld.dex HelloWorldHello World</code></pre><h2 id="LINKS"><a href="#LINKS" class="headerlink" title="LINKS"></a>LINKS</h2><p><a href="https://www.cnblogs.com/plokmju/p/7742759.html" target="_blank" rel="noopener">ç”¨ Smali æ‰‹å†™ä¸€ä¸ªå¯è¿è¡Œçš„ HelloWorldï¼ï¼ï¼</a>  </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;smaliè¯­æ³•&quot;&gt;&lt;a href=&quot;#smaliè¯­æ³•&quot; class=&quot;headerlink&quot; title=&quot;smaliè¯­æ³•&quot;&gt;&lt;/a&gt;smaliè¯­æ³•&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;invoke-static æ˜¯ç±»é™æ€æ–¹æ³•çš„è°ƒç”¨ï¼Œç¼–è¯‘æ—¶ï¼Œé™æ€ç¡®å®šçš„ï¼›
invoke-
      
    
    </summary>
    
      <category term="androidé€†å‘" scheme="http://tea9.xyz/categories/android%E9%80%86%E5%90%91/"/>
    
    
      <category term="androidé€†å‘" scheme="http://tea9.xyz/tags/android%E9%80%86%E5%90%91/"/>
    
      <category term="smali" scheme="http://tea9.xyz/tags/smali/"/>
    
  </entry>
  
  <entry>
    <title>android VitualXposed æ¨¡å—ç¼–å†™</title>
    <link href="http://tea9.xyz/post/4010998048.html"/>
    <id>http://tea9.xyz/post/4010998048.html</id>
    <published>2019-01-20T16:00:00.000Z</published>
    <updated>2019-03-20T12:27:46.604Z</updated>
    
    <content type="html"><![CDATA[<h2 id="virtual-Xposed"><a href="#virtual-Xposed" class="headerlink" title="virtual Xposed"></a>virtual Xposed</h2><p><a href="https://pan.baidu.com/s/1GHoOGm7DuBtkL9AgsaJvNA" target="_blank" rel="noopener">virtual Xposedä¸‹è½½é“¾æ¥: </a><br>æå–ç : kyrd    </p><p><a href="https://github.com/android-hacker/VirtualXposed/wiki/Utilities-For-Xposed-Module-Developer" target="_blank" rel="noopener">virtual xposed wiki</a>  </p><h2 id="vxçš„ä¸€äº›å‘½ä»¤"><a href="#vxçš„ä¸€äº›å‘½ä»¤" class="headerlink" title="vxçš„ä¸€äº›å‘½ä»¤"></a>vxçš„ä¸€äº›å‘½ä»¤</h2><pre><code>adb shell am start io.va.exposed/io.virtualapp.splash.SplashActivity å¯åŠ¨adb shell am broadcast -a io.va.exposed.CMD -e cmd reboot é‡å¯adb shell am broadcast -a io.va.exposed.CMD -e cmd update -e pkg &lt;package-name&gt; å®‰è£…æ›´æ–°appadb shell am broadcast -a io.va.exposed.CMD -e cmd launch -e pkg &lt;package-name&gt; å¯åŠ¨å†…éƒ¨app</code></pre><h2 id="ç¼–å†™Xposedæ¨¡å—"><a href="#ç¼–å†™Xposedæ¨¡å—" class="headerlink" title="ç¼–å†™Xposedæ¨¡å—"></a>ç¼–å†™Xposedæ¨¡å—</h2><p>1.xposedä¾èµ–<br><a href="https://jcenter.bintray.com/de/robv/android/xposed/api/" target="_blank" rel="noopener">xposed</a>  </p><p>build.gradleä¸­æ·»åŠ   </p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">compileOnly</span> <span class="string">'de.robv.android.xposed:api:82'</span></span><br><span class="line">compileOnly <span class="string">'de.robv.android.xposed:api:82:sources'</span></span><br></pre></td></tr></table></figure><p>2.AndroidManifest.xmlæ·»åŠ Xposedæ¨¡å—  </p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;application&gt;</span><br><span class="line">&lt;meta-<span class="class"><span class="keyword">data</span></span></span><br><span class="line">        android:name=<span class="string">"xposedmodule"</span></span><br><span class="line">        android:value=<span class="string">"true"</span> /&gt;</span><br><span class="line">    &lt;meta-<span class="class"><span class="keyword">data</span></span></span><br><span class="line">        android:name=<span class="string">"xposeddescription"</span></span><br><span class="line">        android:value=<span class="string">"this is a xposed demo"</span> /&gt;</span><br><span class="line">    &lt;meta-<span class="class"><span class="keyword">data</span></span></span><br><span class="line">        android:name=<span class="string">"xposedminversion"</span></span><br><span class="line">        android:value=<span class="string">"30"</span> /&gt;</span><br><span class="line">&lt;/application&gt;</span><br></pre></td></tr></table></figure><p>3.æ–°å»ºä¸ªé¡¹ç›®ä¸ºè¢«hook  </p><p>MainActivity.java<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Button</span> btn;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> void onCreate(<span class="type">Bundle</span> savedInstanceState) &#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(<span class="type">R</span>.layout.activity_main);</span><br><span class="line">        btn = findViewById(<span class="type">R</span>.id.btn);</span><br><span class="line">        btn.setOnClickListener(<span class="keyword">new</span> <span class="type">View</span>.<span class="type">OnClickListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            public void onClick(<span class="type">View</span> view) &#123;</span><br><span class="line">                <span class="type">Toast</span>.makeText(<span class="type">MainActivity</span>.<span class="keyword">this</span>, toastMessage(), <span class="type">Toast</span>.<span class="type">LENGTH_SHORT</span>).show();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    public <span class="type">String</span> toastMessage() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"æˆ‘æ²¡æœ‰è¢«åŠ«æŒ"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>activity_main.xml  </p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;android<span class="selector-class">.support</span><span class="selector-class">.constraint</span><span class="selector-class">.ConstraintLayout</span> xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">    tools:context=<span class="string">".MainActivity"</span>&gt;</span><br><span class="line">    &lt;Button</span><br><span class="line">        android:id=<span class="string">"@+id/btn"</span></span><br><span class="line">        app:layout_constraintLeft_toLeftOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintTop_toTopOf=<span class="string">"parent"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:text=<span class="string">"btn"</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/android<span class="selector-class">.support</span><span class="selector-class">.constraint</span><span class="selector-class">.ConstraintLayout</span>&gt;</span><br></pre></td></tr></table></figure><p>æ‰“åŒ…å®‰è£…åˆ°VirtualXposed  </p><p>4.ç¼–å†™hookç±»<br><a href="https://api.xposed.info/reference/de/robv/android/xposed/XposedHelpers.html" target="_blank" rel="noopener">XposedHelpers api</a>  </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HookToast</span> <span class="keyword">implements</span> <span class="title">IXposedHookLoadPackage</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleLoadPackage</span><span class="params">(XC_LoadPackage.LoadPackageParam lpparam)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (lpparam.packageName.equals(<span class="string">"com.demo.myapplication"</span>))&#123;</span><br><span class="line">            Class clazz = lpparam.classLoader.loadClass(<span class="string">"com.demo.myapplication.MainActivity"</span>);</span><br><span class="line">            XposedHelpers.findAndHookMethod(clazz, <span class="string">"toastMessage"</span>, <span class="keyword">new</span> XC_MethodHook() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">beforeHookedMethod</span><span class="params">(MethodHookParam param)</span> <span class="keyword">throws</span> Throwable </span>&#123; <span class="comment">//hookä¹‹å‰</span></span><br><span class="line"><span class="comment">//                    super.beforeHookedMethod(param);</span></span><br><span class="line">                    XposedBridge.log(<span class="string">"you are been hooked"</span>); </span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">afterHookedMethod</span><span class="params">(MethodHookParam param)</span> <span class="keyword">throws</span> Throwable </span>&#123; <span class="comment">// hookä¹‹å</span></span><br><span class="line"><span class="comment">//                    super.afterHookedMethod(param);</span></span><br><span class="line">                    param.setResult(<span class="string">"hacked by tea"</span>); <span class="comment">//æ”¹å˜è¿”å›ç»“æœ </span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><pre><code>æ–°å»ºapp/assetsæ–‡ä»¶å¤¹æ–°å»ºxposed_initæ–‡ä»¶æ·»åŠ com.demo.android_hook.HookToast //ä¿®æ”¹æˆä½ çš„hookç±»ç„¶åæ‰“åŒ…æµ‹è¯•</code></pre><p>app/assets/xposed_init  </p><pre><code>com.demo.android_hook.HookToast</code></pre><p><img src="https://coding.net/u/tea9/p/image/git/raw/master/blog_img/27/01.jpg" alt="æœ€åæ•ˆæœ">  </p><h2 id="LINKS"><a href="#LINKS" class="headerlink" title="LINKS"></a>LINKS</h2><p><a href="https://blog.csdn.net/ZhangChengHai/article/details/82950334" target="_blank" rel="noopener">Magiskæ¡†æ¶ï¼ŒVirtualXposedæ¡†æ¶ï¼ŒXposedæ¡†æ¶æ¯”è¾ƒ</a><br><a href="https://github.com/wayu002/AlipayQRHook" target="_blank" rel="noopener">AlipayQRHook</a><br><a href="https://www.jianshu.com/p/938e8c4c00df" target="_blank" rel="noopener">Xposed æ¨¡å—å…é‡å¯å¼€å‘(å€ŸåŠ©VirtualXposed)</a><br><a href="https://www.52pojie.cn/thread-688466-1-1.html" target="_blank" rel="noopener">ã€Xposedæ¨¡å—å¼€å‘å…¥é—¨ã€‘çœŸÂ·ç¬¬ä¸€è¯¾</a><br><a href="https://www.52pojie.cn/thread-821871-1-1.html" target="_blank" rel="noopener">XPosedæ’ä»¶è‡ªåŠ¨ç”Ÿæˆæ”¯ä»˜å®æ”¶æ¬¾äºŒç»´ç </a><br><a href="https://www.52pojie.cn/forum.php?mod=viewthread&amp;tid=794312&amp;extra=page%3D1%26filter%3Ddigest%26digest%3D1" target="_blank" rel="noopener">Androidæ”¯ä»˜å®èš‚èšæ£®æ—èƒ½é‡è‡ªåŠ¨æ”¶å–æ’ä»¶å¼€å‘åŸç†è§£æ</a><br><a href="https://blog.csdn.net/ryan168/article/details/82462821" target="_blank" rel="noopener">å…³äºå¦‚ä½•ä½¿ç”¨xposedæ¥hookæŸæ”¯ä»˜è½¯ä»¶</a><br><a href="https://blog.csdn.net/jiangwei0910410003/article/details/80037971" target="_blank" rel="noopener">Androidé€†å‘ä¹‹æ—…â€”ç ´è§£æŸæ”¯ä»˜è½¯ä»¶é˜²Xposedçš„hookåŠŸèƒ½æ£€æµ‹æœºåˆ¶è¿‡ç¨‹åˆ†æ</a><br><a href="https://blog.csdn.net/ly_xiamu/article/details/81940896" target="_blank" rel="noopener">xposedæ£€æµ‹åŸç†åˆ†æ -æ¡ˆä¾‹æŸä»˜å®ã€æŸéŸ³</a><br><a href="https://www.jianshu.com/p/938e8c4c00df" target="_blank" rel="noopener">Xposed æ¨¡å—å…é‡å¯å¼€å‘(å€ŸåŠ©VirtualXposed)</a><br><a href="https://blog.csdn.net/zhangmiaoping23/article/details/53365780" target="_blank" rel="noopener">Android Hookæ¡†æ¶Xposedè¯¦è§£ï¼šä»æºä»£ç åˆ†æåˆ°å¼€å‘æŒ‡å—</a><br><a href="https://blog.csdn.net/zhangmiaoping23/article/details/80432276" target="_blank" rel="noopener">VirtualXposed</a>  </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;virtual-Xposed&quot;&gt;&lt;a href=&quot;#virtual-Xposed&quot; class=&quot;headerlink&quot; title=&quot;virtual Xposed&quot;&gt;&lt;/a&gt;virtual Xposed&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://pan.b
      
    
    </summary>
    
      <category term="androidé€†å‘" scheme="http://tea9.xyz/categories/android%E9%80%86%E5%90%91/"/>
    
    
      <category term="androidé€†å‘" scheme="http://tea9.xyz/tags/android%E9%80%86%E5%90%91/"/>
    
      <category term="xposed" scheme="http://tea9.xyz/tags/xposed/"/>
    
  </entry>
  
  <entry>
    <title>androidæ¸—é€æµ‹è¯•å­¦ä¹ ç¬”è®°</title>
    <link href="http://tea9.xyz/post/4027879150.html"/>
    <id>http://tea9.xyz/post/4027879150.html</id>
    <published>2019-01-16T16:00:00.000Z</published>
    <updated>2019-03-20T06:55:20.337Z</updated>
    
    <content type="html"><![CDATA[<p>ã€ŠAndroidæ¸—é€æµ‹è¯•å­¦ä¹ æ‰‹å†Œã€‹å†™çš„å­¦ä¹ ç¬”è®°  </p><h2 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h2><ul><li>ProGuard å‹ç¼©ã€ä¼˜åŒ–å’Œæ··æ·†Javaå­—èŠ‚ç çš„å·¥å…·</li><li>DashO javaæ··æ·†å™¨ä»£ç ä¿æŠ¤</li></ul><h2 id="links"><a href="#links" class="headerlink" title="links"></a>links</h2><p><a href="https://www.attify.com/" target="_blank" rel="noopener">attify/lot exploitation/penetration testing</a><br><a href="https://labs.mwrinfosecurity.com/tools/drozer/" target="_blank" rel="noopener">Drozer</a><br><a href="http://labs.securitycompass.com/exploit-me/" target="_blank" rel="noopener">Exploit-Meæ¼æ´</a>   </p><h2 id="Android-Debug-Bridge-adb"><a href="#Android-Debug-Bridge-adb" class="headerlink" title="Android Debug Bridge adb"></a>Android Debug Bridge adb</h2><pre><code>$ adb devices //è¿æ¥è®¾å¤‡$ adb shell //ä¸è®¾å¤‡shelläº¤äº’    ps //æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹        system ç³»ç»Ÿæ‹¥æœ‰        root æ ¹è¿›ç¨‹        radio ç”µè¯å’Œæ— çº¿ç”µç›¸å…³çš„è¿›ç¨‹        app_ ç”¨æˆ·å·²ä¸‹è½½çš„æ‰€æœ‰åº”ç”¨ç¨‹åº æ­£åœ¨è¿è¡Œ$ adb kill-server //æ€æ­»æœåŠ¡å™¨$ adb start-server //å¯åŠ¨æœåŠ¡å™¨$ adb shell pm list packages //pmåŒ…ç®¡ç†å™¨ å·¥å…·è·å–æ‰€æœ‰å·²å®‰è£…çš„è½¯ä»¶åŒ…åˆ—è¡¨$ adb shell dumpsys meminfo //è·å–æ‰€æœ‰åº”ç”¨ç¨‹åºåŠå…¶å½“å‰å†…å­˜åˆ—è¡¨$ adb logcat -d -f /data/local/logcats.log$ adb logcat -d -f /sdcard/xx.log // ä¿å­˜logcatæ—¥å¿—    -dæ ‡å¿—æŒ‡å®šè½¬å‚¨å®Œæ•´æ—¥å¿—æ–‡ä»¶å¹¶é€€å‡º    -fæ ‡å¿—æŒ‡å®šå†™å…¥æ–‡ä»¶è€Œä¸æ˜¯åœ¨ç»ˆç«¯æ‰“å°</code></pre><h3 id="è·¯å¾„"><a href="#è·¯å¾„" class="headerlink" title="è·¯å¾„"></a>è·¯å¾„</h3><pre><code>äºŒè¿›åˆ¶æ–‡ä»¶/system/bin/system/xbinåº”ç”¨æ•°æ®/data/data    åº”ç”¨ç¨‹åº æ–‡ä»¶ æ•°æ®åº“ ç¼“å­˜    /data/data/xx.xx.xx # ls    cache    databases    files    libå®‰è£…æ–‡ä»¶/data/apkPlayå•†åº—åº”ç”¨/data/app-privateå¯†ç é”å®šè·¯å¾„password.key  gesture.key/data/systemcd /data/systemrm gesture.keyç»„å’Œæƒé™platform.xml/system/etc/permissions/cat platform.xmlsdå¡/mnt/sdcard/versioncat /proc/version</code></pre><h2 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h2><pre><code>androidè™šæ‹Ÿè®¾å¤‡çš„åˆ—è¡¨android list avd</code></pre><h2 id="MonkeyRunner"><a href="#MonkeyRunner" class="headerlink" title="MonkeyRunner"></a>MonkeyRunner</h2><pre><code>adb shell# monkey 10 //10ä¸ªè‡ªåŠ¨åŒ–è§¦æ‘¸ï¼Œæ•²å‡»å’Œäº‹ä»¶æ¥æµ‹è¯•åº”ç”¨ç¨‹åº</code></pre><h2 id="Burp-Suite"><a href="#Burp-Suite" class="headerlink" title="Burp Suite"></a>Burp Suite</h2><p><a href="http://portswigger.net/burp/download.html" target="_blank" rel="noopener">download</a>  </p><pre><code>java -jar burp-suite.jarå¯åŠ¨æ¨¡æ‹Ÿå™¨ä¸bpä»£ç†emulator -avd [name of the avd] -http-proxy 127.0.0.1:8080emulator.exe -avd AttifyAVD -http-proxy 127.0.0.1:8080</code></pre><h2 id="APKtool"><a href="#APKtool" class="headerlink" title="APKtool"></a>APKtool</h2><p><a href="https://code.google.com/p/android-apktool/downloads/list" target="_blank" rel="noopener">download</a>  </p><p>apktoolå®‰è£…åœ¨/usr/binä¸­  </p><p>.dexæ–‡ä»¶è½¬æ¢ä¸ºsmaliæ–‡ä»¶  </p><p><a href="https://github.com/JesusFreke/smali/wiki" target="_blank" rel="noopener">smali-wiki</a>  </p><pre><code>åç¼–è¯‘apktool d [app-name].apk // d æ ‡ç¤ºåç¼–è¯‘æ„å»ºapktool b [decompiled folder name] [target-app-name].apk</code></pre><h2 id="Virtuous-Ten-Studio-VTS-åªèƒ½åœ¨Windowsç¯å¢ƒä¸­è¿è¡Œ"><a href="#Virtuous-Ten-Studio-VTS-åªèƒ½åœ¨Windowsç¯å¢ƒä¸­è¿è¡Œ" class="headerlink" title="Virtuous Ten Studio (VTS) åªèƒ½åœ¨Windowsç¯å¢ƒä¸­è¿è¡Œ"></a>Virtuous Ten Studio (VTS) åªèƒ½åœ¨Windowsç¯å¢ƒä¸­è¿è¡Œ</h2><p><a href="http://www.virtuous-ten-studio.com" target="_blank" rel="noopener">download</a>  </p><p>ä¸Apktoolç±»ä¼¼åŠŸèƒ½ï¼ŒVTSæä¾›ä¸€ä¸ªæ¼‚äº®çš„å›¾å½¢ç•Œé¢</p><h2 id="dex2jar"><a href="#dex2jar" class="headerlink" title="dex2jar**"></a>dex2jar<strong>**</strong></h2><p><a href="https://code.google.com/p/dex2jar" target="_blank" rel="noopener">download</a>  </p><p>dex2jar</p><p>win:</p><pre><code>d2j-dex2jar.bat &quot;xx.apk&quot; dex2jar xx.apk -&gt; xx.jar</code></pre><p>mac:</p><pre><code>sh d2j-dex2jar.sh</code></pre><h2 id="JD-GUI"><a href="#JD-GUI" class="headerlink" title="JD-GUI"></a>JD-GUI</h2><p>æ‰“å¼€jaræ–‡ä»¶<br><a href="http://jd.benow.ca" target="_blank" rel="noopener">download</a>  </p><h2 id="ç­¾å"><a href="#ç­¾å" class="headerlink" title="ç­¾å"></a>ç­¾å</h2><pre><code>æ£€æŸ¥åº”ç”¨ç¨‹åºç­¾å$ jarsigner -verify -certs -verbose testing.apkè§£å‹ç¼©.apkæ–‡ä»¶ è§£æMETA-INFæ–‡ä»¶å¤¹ä¸­å‡ºç°çš„CERT.RSAæ–‡ä»¶çš„ASCIIå†…å®¹ ä»¥è·å–ç­¾å$unzip testing.apk$cd META-INF$openssl pkcs7 -in CERT.RSA -print_certs -inform DER -out out.cer$cat out.cer</code></pre><h2 id="Androidå¯åŠ¨æµç¨‹"><a href="#Androidå¯åŠ¨æµç¨‹" class="headerlink" title="Androidå¯åŠ¨æµç¨‹"></a>Androidå¯åŠ¨æµç¨‹</h2><pre><code>è§£é”å¼•å¯¼åŠ è½½ç¨‹åºNexus 7$fastboot oem unlock</code></pre><h3 id="åˆ›å»ºè‡ªå·±çš„Bootloader"><a href="#åˆ›å»ºè‡ªå·±çš„Bootloader" class="headerlink" title="åˆ›å»ºè‡ªå·±çš„Bootloader"></a>åˆ›å»ºè‡ªå·±çš„Bootloader</h3><p>åœ¨å¼•å¯¼åŠ è½½ç¨‹åºå¯åŠ¨å†…æ ¸å¹¶å¯åŠ¨initä¹‹åï¼Œå®ƒæŒ‚è½½Androidç³»ç»Ÿè¿è¡Œçš„ä¸€äº›é‡è¦ç›®å½•  </p><pre><code>/dev /sys /procinitä»é…ç½®æ–‡ä»¶init.rcå’Œinit.[device-name].rcä¸­è·å–è‡ªå·±çš„é…ç½®ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ä»ä½äºç›¸åŒä½ç½®çš„.shæ–‡ä»¶è·å–è‡ªå·±çš„é…ç½®$ls -l | grep &apos;init&apos;# cat init.rcåŠ è½½æ—¶ä½¿ç”¨çš„å±æ€§location/system/build.propsystem/build.propä¸€ä½†æ‰€æœ‰ä¸œè¥¿è¢«åŠ è½½ï¼Œinitæœ€åä¼šåŠ è½½ä¸€ä¸ªç§°ä¸ºZygoteçš„è¿›ç¨‹ï¼Œè´Ÿè´£ä»¥æœ€å°ç©ºé—´åŠ è½½Dalvikè™šæ‹Ÿæœºå’Œå…±äº«åº“ï¼Œæ¥åŠ å¿«æ•´ä¸ªè¿›ç¨‹çš„åŠ è½½é€Ÿåº¦ã€‚ä¸€æ—¦å®Œæˆæ•´ä¸ªå¼•å¯¼è¿‡ç¨‹ï¼Œç³»ç»Ÿå‘é€BOOT_COMPLETEDçš„å¹¿æ’­ï¼Œè®¸å¤šåº”ç”¨ç¨‹åºå¯èƒ½ä½¿ç”¨ç§°ä¸ºå¹¿æ’­æ¥æ”¶å™¨çš„Androidåº”ç”¨ç¨‹åºä¸­çš„ç»„ä»¶æ¥ç›‘å¬ã€‚</code></pre><h2 id="Androidåº”ç”¨ç¨‹åºæ‹†è§£"><a href="#Androidåº”ç”¨ç¨‹åºæ‹†è§£" class="headerlink" title="Androidåº”ç”¨ç¨‹åºæ‹†è§£"></a>Androidåº”ç”¨ç¨‹åºæ‹†è§£</h2><ul><li>Classes.dex æ–‡ä»¶</li><li>AndroidManifest.xml æ–‡ä»¶</li><li>META-INF æ–‡ä»¶å¤¹</li><li>resources.arsc æ–‡ä»¶</li><li>res æ–‡ä»¶å¤¹</li><li>assets æ–‡ä»¶å¤¹</li><li>lib æ–‡ä»¶å¤¹</li></ul><hr><pre><code>unzip -l simple_game.apk // -l å±•ç¤ºå‹ç¼©åŒ…å†…å®¹file simple_game.apk //æŸ¥çœ‹æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å‹ç¼©åŒ…</code></pre><h2 id="å®¡è®¡Androidåº”ç”¨"><a href="#å®¡è®¡Androidåº”ç”¨" class="headerlink" title="å®¡è®¡Androidåº”ç”¨**"></a>å®¡è®¡Androidåº”ç”¨<strong>**</strong></h2><p>ContentProvider(å†…å®¹æä¾›å™¨)æ³„éœ²</p><p>æ‰€æœ‰ContentProviderå…·æœ‰å”¯ä¸€çš„ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦(URI)ä»¥ä¾¿è¢«è¯†åˆ«å’ŒæŸ¥è¯¢ã€‚<br>å‘½åæ ‡å‡†æƒ¯ä¾‹ä»¥content://å¼€å§‹<br>AndroidAPIç‰ˆæœ¬ä½äº17 ContentProvideré»˜è®¤å±æ€§æ—¶å§‹ç»ˆå¯¼å‡ºã€‚<br>éœ€è¦åœ¨AndroidManifest.xmlæ–‡ä»¶æ£€æŸ¥ContentProvider  </p><pre><code>&lt;provider    android:name=&quot;com.test.example.DataProvider&quot;    android:authorities=&quot;com.test.example.DataProvider&quot;&gt;&lt;/provider&gt;</code></pre><p>example:  </p><ol><li>åç¼–è¯‘apk  </li><li>æŸ¥çœ‹AnroidManifest.xmlæ–‡ä»¶ä¸­çš„ContentProvider  </li><li><code>grep -R &#39;content://&#39;</code>  </li><li><code>adb install vulnerable-app.apk</code>  </li><li>åˆ›å»ºå¦ä¸€ä¸ªæ²¡æœ‰ä»»ä½•æƒé™çš„appæ¥æŸ¥è¯¢ContentProviderï¼Œç„¶åæŸ¥è¯¢æ¼æ´appçš„ContentProviderã€‚<br> <code>adb shell content query --uri [URI of the content provider]</code><br> <code>adb shell content query --uri content://com.xx.xx.provider.NotePad/notes</code><br> æˆ–è€…ä½¿ç”¨<a href="https://labs.mwrinfosecurity.com/tools/drozer" target="_blank" rel="noopener">Drozer</a>åœ¨appä¸­æ‰¾åˆ°æ³„æ¼çš„ContentProvider  </li><li>å°†agent.apkå®‰è£…åˆ°æ¨¡æ‹Ÿå™¨ï¼Œ.zipæ–‡ä»¶å†…<br> å¯åŠ¨æ¨¡æ‹Ÿå™¨è½¬å‘ç«¯å£(31415)<br> <code>adb install agent.apk</code><br> <code>adb forward tcp:31415 tcp:31415</code>  </li><li>å¯åŠ¨app å•å‡» â€œEmbedded Server(åµŒå…¥å¼æœåŠ¡å™¨)â€ æ²¡çœ‹æ‡‚  </li><li>ç»ˆç«¯å¯åŠ¨Drozer<br> <code>drozer console connect</code>  </li><li>è¿è¡Œ<code>app.provider.finduri</code>æ¨¡å—æ¥æŸ¥æ‰¾ContentProvider<br> <code>run app.provider.finduri com.threebanana.notes</code>  </li><li>è¿è¡Œ<code>app.provider.query</code>    æ¨¡å—æŒ‡å®šContentProviderURI<br><code>run app.provider.query conntent://com.threebanana.notes.provider.NotePad/notes --vertical</code><br>å¦‚æœDrozerèƒ½æŸ¥è¯¢å’Œæ˜¾ç¤ºæ¥è‡ªContentProviderçš„æ•°æ®ï¼Œæ„å‘³ç€ContentProvideræ³„æ¼æ•°æ®å¹¶å­˜åœ¨æ¼æ´  </li><li>ä¿®å¤æ¼æ´åœ¨åˆ›å»ºContentProvideræ—¶æŒ‡å®šå‚æ•°<code>android:exported=false</code>,æˆ–è€…åˆ›å»ºä¸€äº›æ–°çš„æƒé™ï¼Œå¦ä¸€ä¸ªåº”ç”¨ç¨‹åºåœ¨è®¿é—®ä¾›åº”å™¨ä¹‹å‰å¿…é¡»è¯·æ±‚å®ƒã€‚  </li></ol><h2 id="ä¸å®‰å…¨çš„æ–‡ä»¶å­˜å‚¨"><a href="#ä¸å®‰å…¨çš„æ–‡ä»¶å­˜å‚¨" class="headerlink" title="ä¸å®‰å…¨çš„æ–‡ä»¶å­˜å‚¨**"></a>ä¸å®‰å…¨çš„æ–‡ä»¶å­˜å‚¨<em>**</em></h2><p>ç›®å½•éå†æˆ–æœ¬åœ°æ–‡ä»¶åŒ…å«æ¼æ´ï¼šè¯»å–ç³»ç»Ÿæ–‡ä»¶  </p><p>å®¢æˆ·ç«¯æ³¨å…¥æ”»å‡»ï¼šsqliteæ³¨å…¥  </p><h2 id="pdf"><a href="#pdf" class="headerlink" title="pdf"></a>pdf</h2><p><a href="https://pan.baidu.com/s/1g7cNFyClXOeakjLQqkb49A" target="_blank" rel="noopener">é“¾æ¥</a><br>æå–ç : 6jp4 </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ã€ŠAndroidæ¸—é€æµ‹è¯•å­¦ä¹ æ‰‹å†Œã€‹å†™çš„å­¦ä¹ ç¬”è®°  &lt;/p&gt;
&lt;h2 id=&quot;å·¥å…·&quot;&gt;&lt;a href=&quot;#å·¥å…·&quot; class=&quot;headerlink&quot; title=&quot;å·¥å…·&quot;&gt;&lt;/a&gt;å·¥å…·&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;ProGuard å‹ç¼©ã€ä¼˜åŒ–å’Œæ··æ·†Javaå­—èŠ‚ç çš„å·¥å…·&lt;/li
      
    
    </summary>
    
      <category term="androidé€†å‘" scheme="http://tea9.xyz/categories/android%E9%80%86%E5%90%91/"/>
    
    
      <category term="androidé€†å‘" scheme="http://tea9.xyz/tags/android%E9%80%86%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>androidç›‘å¬listå˜åŒ–</title>
    <link href="http://tea9.xyz/post/431642663.html"/>
    <id>http://tea9.xyz/post/431642663.html</id>
    <published>2019-01-15T16:00:00.000Z</published>
    <updated>2019-03-20T06:55:25.153Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><pre><code>ä¸»è¦çš„æ€è·¯å°±æ˜¯ï¼Œæ–°å»ºä¸ªæ¥å£å®šä¹‰ä¸€ä¸ªonChange()æ–¹æ³•ï¼Œç„¶ååœ¨æ“ä½œlistçš„ç±»ä¸­ï¼Œæ·»åŠ è¿™ä¸ªç›‘å¬ã€‚</code></pre><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>TeaChangeListListener.java</p><pre><code>public interface TeaChangeListListener {    public void onChange();}</code></pre><p>TeaList.java</p><pre><code>public class TeaList&lt;T&gt; {    private TeaChangeListListener listener;    private ArrayList&lt;T&gt; list;    public TeaList() {        list = new ArrayList&lt;&gt;();    }    public T get(int position) {        return list.get(position);    }    public int size() {        return list.size();    }    public void add(T t) {        list.add(t);        addListener();    }    public void remove(T t) {        list.remove(t);        addListener();    }    public void addAll(List&lt;T&gt; list1) {        list.addAll(list1);        addListener();    }    private void addListener() {        if (listener!=null) {            listener.onChange();        }    }    public void setChangeListener(TeaChangeListListener listener1) {        this.listener = listener1;    }}</code></pre><h2 id="æµ‹è¯•ç±»"><a href="#æµ‹è¯•ç±»" class="headerlink" title="æµ‹è¯•ç±»"></a>æµ‹è¯•ç±»</h2><pre><code>public static void main(String[] args) {    TeaList&lt;String&gt; testList = new TeaList&lt;&gt;();    testList.setChangeListener(new TeaChangeListListener() {        @Override        public void onChange() {            System.out.println(&quot;ç›‘å¬åˆ°å˜åŒ–äº†&quot;);        }    });    testList.add(&quot;tea9&quot;);//        List&lt;String&gt; testList2 = new ArrayList&lt;&gt;();//        testList2.add(&quot;tea9&quot;);//        testList2.add(&quot;tea10&quot;);//        testList.addAll(testList2);//        testList.remove(&quot;tea9&quot;);    for (int i = 0; i &lt; testList.size(); i++) {        System.out.println(testList.get(i));    }}</code></pre><p><a href="https://github.com/tea9/android_base/blob/master/app/src/main/java/com/demo/android_base/test/TeaList.java" target="_blank" rel="noopener">TeaList.java</a>  </p><h2 id="LINKS"><a href="#LINKS" class="headerlink" title="LINKS"></a>LINKS</h2><p><a href="http://www.it1352.com/231623.html" target="_blank" rel="noopener">å¦‚ä½•åœ¨Javaä¸­æ·»åŠ ä¸Šçš„ArrayListç›‘å¬(How to add listener on ArrayList in java)</a><br><a href="https://www.jb51.net/article/140578.htm" target="_blank" rel="noopener">Androidä¸­è§£å†³RecyclerViewå„ç§ç‚¹å‡»äº‹ä»¶çš„æ–¹æ³•</a>  </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ€è·¯&quot;&gt;&lt;a href=&quot;#æ€è·¯&quot; class=&quot;headerlink&quot; title=&quot;æ€è·¯&quot;&gt;&lt;/a&gt;æ€è·¯&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;ä¸»è¦çš„æ€è·¯å°±æ˜¯ï¼Œæ–°å»ºä¸ªæ¥å£å®šä¹‰ä¸€ä¸ªonChange()æ–¹æ³•ï¼Œç„¶ååœ¨æ“ä½œlistçš„ç±»ä¸­ï¼Œæ·»åŠ è¿™ä¸ªç›‘å¬ã€‚
&lt;/code&gt;&lt;/pr
      
    
    </summary>
    
      <category term="android" scheme="http://tea9.xyz/categories/android/"/>
    
    
      <category term="android" scheme="http://tea9.xyz/tags/android/"/>
    
  </entry>
  
  <entry>
    <title>androidåç¼–è¯‘ä¸€ä¸ªapp/ç­¾å</title>
    <link href="http://tea9.xyz/post/550908605.html"/>
    <id>http://tea9.xyz/post/550908605.html</id>
    <published>2019-01-06T16:00:00.000Z</published>
    <updated>2019-03-20T06:55:30.950Z</updated>
    
    <content type="html"><![CDATA[<h2 id="apkåç¼–è¯‘"><a href="#apkåç¼–è¯‘" class="headerlink" title="apkåç¼–è¯‘"></a>apkåç¼–è¯‘</h2><pre><code>æ­£å¸¸æƒ…å†µdåç¼–è¯‘ bé‡æ–°ç¼–è¯‘ xxæ˜¯ç”Ÿæˆçš„æ–‡ä»¶å¤¹java -jar apktool.jar d xx.apk -o xxjava -jar apktool.jar b xxè¿™ä¸ªåŒ…æ˜¯å› ä¸ºé‡æ–°æ‰“åŒ…èµ„æºæ–‡ä»¶æœ‰é—®é¢˜ æ‰€ä»¥ç”¨-rä¸åç¼–è¯‘èµ„æºæ–‡ä»¶ -få¼ºåˆ¶åˆ é™¤ç°æœ‰æ–‡ä»¶å¤¹java -jar apktool.jar -r -f d xx.apk -o xx java -jar apktool.jar b xx apktool å‚æ•°-f å¦‚æœç›®æ ‡æ–‡ä»¶å¤¹å·²å­˜åœ¨ï¼Œåˆ™å¼ºåˆ¶åˆ é™¤ç°æœ‰æ–‡ä»¶å¤¹ï¼ˆé»˜è®¤å¦‚æœç›®æ ‡æ–‡ä»¶å¤¹å·²å­˜åœ¨ï¼Œåˆ™è§£ç å¤±è´¥ï¼‰ã€‚-o æŒ‡å®šè§£ç ç›®æ ‡æ–‡ä»¶å¤¹çš„åç§°ï¼ˆé»˜è®¤ä½¿ç”¨APKæ–‡ä»¶çš„åå­—æ¥å‘½åç›®æ ‡æ–‡ä»¶å¤¹ï¼‰ã€‚-s ä¸åç¼–è¯‘dexæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´classes.dexæ–‡ä»¶ä¼šè¢«ä¿ç•™ï¼ˆé»˜è®¤ä¼šå°†dexæ–‡ä»¶è§£ç æˆsmaliæ–‡ä»¶ï¼‰ã€‚-r ä¸åç¼–è¯‘èµ„æºæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´resources.arscæ–‡ä»¶ä¼šè¢«ä¿ç•™ï¼ˆé»˜è®¤ä¼šå°†resources.arscè§£ç æˆå…·ä½“çš„èµ„æºæ–‡ä»¶ï¼‰ã€‚å¤§ä½“çš„æ€è·¯å°±æ˜¯ï¼Œå…ˆçœ‹javaä»£ç ï¼Œçœ‹é€»è¾‘ï¼Œç„¶åæ”¹smaliä»£ç ï¼Œé‡æ–°æ‰“åŒ…</code></pre><p><a href="https://tea9.xyz/2019/01/21/android_smali_text.html" target="_blank" rel="noopener">smali text</a>  </p><pre><code>ä¿®æ”¹AndroidManifest.xmlä¸­çš„android:debuggable=â€trueâ€&lt;application android:debuggable=â€trueâ€/&gt;</code></pre><p><a href="https://github.com/as0ler/Android-Tools/tree/master/Autosign/Auto-Sign" target="_blank" rel="noopener">signapkä¸‹è½½é“¾æ¥</a>  </p><pre><code>xxæ–‡ä»¶å¤¹distæœ‰ç”Ÿæˆæ²¡ç­¾åçš„apké‡æ–°ç­¾åjava -jar signapk.jar testkey.x509.pem testkey.pk8 xx.apk test_signed.apk</code></pre><!-- ## åŠ¨æ€è°ƒè¯•apk    è°ƒè¯• apktoolä½ç‰ˆæœ¬æ‰æœ‰-då‚æ•°    è°ƒè¯•æ–¹æ³•æºç¨‹åºä¿®æ”¹ä¸€ç§æ¯”è¾ƒæ—§çš„è°ƒè¯•æ–¹æ³•ï¼Œä½¿ç”¨apktoolçš„-dé€‰é¡¹    â‘ java -jar apktool.jar d -dç›®æ ‡.apk -oç»“æœå­˜æ”¾ç›®å½•    â‘¡ä¿®æ”¹Android.mainfestæ–‡ä»¶ï¼Œåœ¨åœ¨applicationèŠ‚ç‚¹ä¸­æ·»åŠ android:debuggable="true"    â‘¢åœ¨å…¥å£ç‚¹çš„ç±»çš„onCreateæ–¹æ³•ä¸­æ·»åŠ invoke-static{}, Landroid/os/Debug;->waitForDebugger()V    â‘£åç¼–è¯‘ä¿®æ”¹è¿‡çš„ apkæ–‡ä»¶java -jar apktool.jar b -dä»£ç ç›®å½•-oç›®æ ‡apkåå­—    â‘¤æ‰‹åŠ¨å¯¹apkæ–‡ä»¶è¿›è¡Œç­¾åjava -jar signapk.jar testkey.x509.pem testkey.pk8æœªç­¾åAPKåç­¾åapkåå¯¼å…¥apkä»£ç     â‘ Idea/AndroidStudio File -> openï¼Œé€‰æ‹©ç¼–è¯‘åçš„æ–‡ä»¶ç›®å½•ï¼Œå¯¼å…¥ä»£ç åœ¨ç›¸åº”çš„ä½ç½®ä¸‹å¥½æ–­ç‚¹ã€‚    â‘¡è®¾ç½®è¿œç¨‹è°ƒè¯•é€‰é¡¹Run -> Debug Configurations -> Remote Java Application,Hostå¡«å†™ä¸ºlocalhost,ç«¯å£ä¸ºDebug    å¼€æ”¾çš„ç«¯å£8700æ‰“å¼€ç›®æ ‡apkæ–‡ä»¶    â‘ æ‰“å¼€apkæ–‡ä»¶ï¼Œç›´åˆ°çœ‹åˆ°wati for debuggerçš„æç¤º    â‘¡æ‰“å¼€ monitorï¼Œé€‰ä¸­éœ€è¦è°ƒè¯•çš„ç¨‹åºï¼Œå¼€å¯ 8700ç«¯å£Debugï¼ï¼ --><h2 id="ä¸€äº›å­¦ä¹ ç½‘ç«™"><a href="#ä¸€äº›å­¦ä¹ ç½‘ç«™" class="headerlink" title="ä¸€äº›å­¦ä¹ ç½‘ç«™"></a>ä¸€äº›å­¦ä¹ ç½‘ç«™</h2><p><a href="https://www.52pojie.cn/forum-65-1.html" target="_blank" rel="noopener">å¾çˆ±ç ´è§£ç§»åŠ¨å®‰å…¨</a><br><a href="https://bbs.pediy.com/forum-161.htm" target="_blank" rel="noopener">çœ‹é›ªè®ºå›Androidå®‰å…¨</a>  </p><h2 id="ä¸€äº›å·¥å…·"><a href="#ä¸€äº›å·¥å…·" class="headerlink" title="ä¸€äº›å·¥å…·"></a>ä¸€äº›å·¥å…·</h2><p><a href="https://down.52pojie.cn/Tools/Android_Tools/" target="_blank" rel="noopener">android tools</a>  </p><p><a href="http://tool.chinaz.com/tools/unicode.aspx" target="_blank" rel="noopener">Unicodeå·¥å…·</a>  </p><p><a href="https://github.com/wpvsyou/mprop" target="_blank" rel="noopener">mprop</a><br><a href="https://pan.baidu.com/s/1ZfYCq-zHdAq-KUa1BkJ6bg" target="_blank" rel="noopener">mprop ä¸´æ—¶ä¿®æ”¹è®¾å¤‡çš„ç³»ç»Ÿè°ƒè¯•çŠ¶æ€å€¼</a><br><a href="https://bbs.pediy.com/thread-215311.htm" target="_blank" rel="noopener">[åŸåˆ›]ä¿®æ”¹roå±æ€§çš„å°å·¥å…·æ–°ç‰ˆæœ¬-170119</a><br><a href="https://www.jianshu.com/p/e540f34cec07" target="_blank" rel="noopener">åˆ©ç”¨mpropå·¥å…·ä¿®æ”¹å½“å‰æ‰‹æœºåº”ç”¨éƒ½å¯ä»¥è°ƒè¯•</a><br><a href="https://bbs.pediy.com/thread-246081.htm" target="_blank" rel="noopener">[åŸåˆ›]android ro.debuggableå±æ€§è°ƒè¯•ä¿®æ”¹(mpropé€†å‘)</a><br><a href="https://security.tencent.com/index.php/opensource/detail/17" target="_blank" rel="noopener">BDOpenerâ€”â€”å¼€å¯APKè°ƒè¯•ä¸å¤‡ä»½é€‰é¡¹çš„Xposedæ¨¡å—</a>  </p><p><a href="https://blog.csdn.net/jiangwei0910410003/article/details/70483088" target="_blank" rel="noopener">Androidä¸­å¸¦ä½ å¼€å‘ä¸€æ¬¾è‡ªåŠ¨çˆ†ç ´ç­¾åæ ¡éªŒå·¥å…·kstools</a><br><a href="https://blog.csdn.net/jiangwei0910410003/article/details/53386071" target="_blank" rel="noopener">å¸¦ä½ å¼€å‘ä¸€æ¬¾ç»™Apkä¸­è‡ªåŠ¨æ³¨å…¥ä»£ç å·¥å…·icodetools(å¼€å‡¿ç¯‡)</a>  </p><ul><li>AXMLEditor xmläºŒè¿›åˆ¶ æ›´æ”¹å·¥å…·</li><li><p>Brida<br>  Bridaæ˜¯ä¸€æ¬¾ Burp Suite æ‰©å±•ï¼Œä½œä¸ºä¸€åº§æ¡¥æ¢è¿æ¥ç€Burp Suiteä»¥åŠFridaï¼Œä»¥å¸®åŠ©ç”¨æˆ·ä¿®æ”¹åº”ç”¨ç¨‹åºä¸åç«¯æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡æ•°æ®ä¸ºå·±ä»»ã€‚åœ¨åˆ†æç§»åŠ¨ç«¯åº”ç”¨æ—¶é‡åˆ°åº”ç”¨ä½¿ç”¨éšæœºå¯†é’¥å¼å¯¹ç§°åŠ å¯†ï¼Œå¦‚æœä¸çŸ¥é“å…¶ä½¿ç”¨çš„å¯†é’¥å°±æ— æ³•ç¯¡æ”¹å…¶é€šä¿¡æ•°æ®ï¼Œé€šè¿‡Burpä¹Ÿå°±æ— æ³•å¯¹æ‰€æœ‰çš„äº¤æ¢æ•°æ®è¿›è¡Œæ›´æ”¹äº†ï¼Œäºæ˜¯Bridaå°±è¿™æ ·å‡ºç°åœ¨æˆ‘ä»¬è§†é‡ä¸­ã€‚</p><p>  å‚è€ƒï¼š<a href="https://www.anquanke.com/post/id/86567" target="_blank" rel="noopener">https://www.anquanke.com/post/id/86567</a></p></li></ul><h2 id="LINKS"><a href="#LINKS" class="headerlink" title="LINKS"></a>LINKS</h2><p><a href="https://pockr.org/activity/detail?activity_no=act_0e6b60b83ec0357bce" target="_blank" rel="noopener">ä½ çŸ¥é“å“ªäº›Androidé€†å‘åˆ†ææ–¹æ³•ï¼Ÿ</a><br><a href="https://blog.csdn.net/sxk874890728/article/details/80486223" target="_blank" rel="noopener">ä¸€æ­¥ä¸€æ­¥å¸¦ä½ åç¼–è¯‘apkï¼Œå¹¶æ•™ä½ ä¿®æ”¹smaliå’Œé‡æ–°æ‰“åŒ…</a><br><a href="https://blog.csdn.net/guolin_blog/article/details/49738023" target="_blank" rel="noopener">Androidå®‰å…¨æ”»é˜²æˆ˜ï¼Œåç¼–è¯‘ä¸æ··æ·†æŠ€æœ¯å®Œå…¨è§£æï¼ˆä¸Šï¼‰</a><br><a href="https://blog.csdn.net/jiangwei0910410003/article/details/50568487" target="_blank" rel="noopener">Androidé€†å‘ä¹‹æ—…â€”è§£æç¼–è¯‘ä¹‹åçš„AndroidManifestæ–‡ä»¶æ ¼å¼</a>  </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;apkåç¼–è¯‘&quot;&gt;&lt;a href=&quot;#apkåç¼–è¯‘&quot; class=&quot;headerlink&quot; title=&quot;apkåç¼–è¯‘&quot;&gt;&lt;/a&gt;apkåç¼–è¯‘&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;æ­£å¸¸æƒ…å†µdåç¼–è¯‘ bé‡æ–°ç¼–è¯‘ xxæ˜¯ç”Ÿæˆçš„æ–‡ä»¶å¤¹
java -jar apktool.jar
      
    
    </summary>
    
      <category term="androidé€†å‘" scheme="http://tea9.xyz/categories/android%E9%80%86%E5%90%91/"/>
    
    
      <category term="androidé€†å‘" scheme="http://tea9.xyz/tags/android%E9%80%86%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>androidå¯åŠ¨ä¸€ä¸ªappçš„å‘½ä»¤</title>
    <link href="http://tea9.xyz/post/2019466879.html"/>
    <id>http://tea9.xyz/post/2019466879.html</id>
    <published>2019-01-03T16:00:00.000Z</published>
    <updated>2019-03-20T06:55:35.208Z</updated>
    
    <content type="html"><![CDATA[<pre><code>01/04 14:52:52: Launching app$ adb push /Users/shaomiao/Documents/product/adb_check_qr/app/build/outputs/apk/debug/app-debug.apk /data/local/tmp/com.demo.adbcheckqr$ adb shell pm install -t -r &quot;/data/local/tmp/com.demo.adbcheckqr&quot;SuccessAPK installed in 11 s 648 ms$ adb shell am start -n &quot;com.demo.adbcheckqr/com.demo.adbcheckqr.activity.TestActivity&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHERClient not ready yet..Waiting for process to come onlineWaiting for process to come onlineConnected to process 24996 on device huawei-col_al10-VBJ0218814008992Capturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.D/CrashReport: [Util] Try to lock file:local_crash_lock (pid=24996 | tid=25024)D/CrashReport: [Util] Successfully locked file: local_crash_lock (pid=24996 | tid=25024)D/CrashReport: Size of crash list loaded from DB: 0D/CrashReport: [Util] Try to unlock file: local_crash_lock (pid=24996 | tid=25024)D/CrashReport: [Util] Successfully unlocked file: local_crash_lock (pid=24996 | tid=25024)W/InputMethodManager: startInputReason = 8D/CrashReport: &gt;&gt;&gt; com.demo.adbcheckqr.activity.TestActivity onPaused &lt;&lt;&lt;V/ActivityThread: Finishing stop of ActivityRecord{43160d4 token=android.os.BinderProxy@6f9f93f {com.demo.adbcheckqr/com.demo.adbcheckqr.activity.TestActivity}}W/libEGL: EGLNativeWindowType 0x705d3b7010 disconnect failedV/ActivityThread: Handle window ActivityRecord{43160d4 token=android.os.BinderProxy@6f9f93f {com.demo.adbcheckqr/com.demo.adbcheckqr.activity.TestActivity}} visibility: falseadb push /Users/shaomiao/Documents/product/adb_check_qr/app/build/outputs/apk/debug/app-debug.apk /data/local/tmp/com.demo.adbcheckqradb shell pm install -t -r &quot;/data/local/tmp/com.demo.adbcheckqr&quot;adb shell am start -n &quot;com.demo.adbcheckqr/com.demo.adbcheckqr.activity.TestActivity&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHERadb push ä¸Šä¼ adb shell pm install å®‰è£…adb shell am start å¯åŠ¨</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;pre&gt;&lt;code&gt;01/04 14:52:52: Launching app
$ adb push /Users/shaomiao/Documents/product/adb_check_qr/app/build/outputs/apk/debug/app-debug.apk
      
    
    </summary>
    
      <category term="android" scheme="http://tea9.xyz/categories/android/"/>
    
    
      <category term="android" scheme="http://tea9.xyz/tags/android/"/>
    
  </entry>
  
  <entry>
    <title>android gradle command not foundåœ¨Macä¸­</title>
    <link href="http://tea9.xyz/post/919398938.html"/>
    <id>http://tea9.xyz/post/919398938.html</id>
    <published>2019-01-01T16:00:00.000Z</published>
    <updated>2019-03-20T06:55:40.361Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/blue_zy/article/details/79862373" target="_blank" rel="noopener">[Mac] gradle command not found è§£å†³æ–¹æ³•</a>  </p><p>è¿™ä¸ªé—®é¢˜æ˜¯åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨gradleå‘½ä»¤ä¸å­˜åœ¨<br>åªéœ€è¦æ‰¾åˆ°æœ¬åœ°çš„gradleç„¶ååŠ åˆ°.zshrcæ–‡ä»¶ä¸­</p><h2 id="OTHER"><a href="#OTHER" class="headerlink" title="OTHER"></a>OTHER</h2><p>å®é™…æ“ä½œä¸­å‘ç°binç›®å½•æ²¡æœ‰æƒé™  </p><pre><code>ç„¶åæ”¹äº†ä¸€ä¸ªæ–‡ä»¶å¤¹æƒé™ binæ˜¯ gradleçš„ç›®å½•sudo chmod -R bin</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/blue_zy/article/details/79862373&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;[Mac] gradle command not found è§£å†³æ–¹æ³•&lt;/a&gt;  
      
    
    </summary>
    
      <category term="android" scheme="http://tea9.xyz/categories/android/"/>
    
    
      <category term="android" scheme="http://tea9.xyz/tags/android/"/>
    
  </entry>
  
  <entry>
    <title>android yd</title>
    <link href="http://tea9.xyz/post/871619508.html"/>
    <id>http://tea9.xyz/post/871619508.html</id>
    <published>2018-12-27T16:00:00.000Z</published>
    <updated>2019-03-20T06:55:44.886Z</updated>
    
    <content type="html"><![CDATA[<pre><code> /sdcard/Android/data/com.youdao.course/.Courses/ å…ˆæå‰æŠŠå…è´¹è§†é¢‘ä¸‹è½½  ç„¶åæŠŠæ–‡ä»¶åæ›¿æ¢ adb pull /sdcard/Android/data/com.youdao.course/.Courses/.c89b26d3a5dd2b9244a284a15169d2601545980518788.yd adb push xx.yd /sdcard/Android/data/com.youdao.course/.Courses/c89b26d3a5dd2b9244a284a15169d2601545980518788039d67a4c9aee89d7ac7c1410faa69781529575319769ä¿®æ”¹ç›®çš„ï¼š æŠŠå·²ç»ä¸‹è½½çš„ä»˜è´¹è§†é¢‘ï¼Œæå–å‡ºæ¥æ­¥éª¤ï¼šé¦–å…ˆä¸‹è½½å…è´¹çš„è§†é¢‘ï¼Œç„¶åæŠŠä»˜è´¹ä¸‹è½½è¿‡çš„è§†é¢‘ æ›¿æ¢æˆå…è´¹çš„ç­¾å å°±å¯ä»¥åœ¨æ’­æ”¾å™¨ä¸Šç»§ç»­è§‚çœ‹ä»˜è´¹è§†é¢‘ï¼Œå¹¶ä¸”å¯ä»¥æå–å‡ºæ¥ï¼Œåœ¨å…¶ä»–æ‰‹æœºä¸Šè§‚çœ‹æ ¼å¼å¤§å¸ˆESæ–‡ä»¶æµè§ˆå™¨å­˜å‚¨ç©ºé—´æ¸…ç†é¦–å…ˆä¸‹è½½ä¸ªè§†é¢‘æ ¼å¼å¤§å¸ˆ æŸ¥çœ‹æœ€æ–°æ–‡ä»¶ESæ–‡ä»¶æµè§ˆå™¨ æŸ¥çœ‹adb shell æ“ä½œadb shellæ˜¾ç¤ºéšè—æ–‡ä»¶ls -a</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;pre&gt;&lt;code&gt; /sdcard/Android/data/com.youdao.course/.Courses/

 å…ˆæå‰æŠŠå…è´¹è§†é¢‘ä¸‹è½½ 
 ç„¶åæŠŠæ–‡ä»¶åæ›¿æ¢


 adb pull /sdcard/Android/data/com.youdao.course/.Cou
      
    
    </summary>
    
      <category term="android" scheme="http://tea9.xyz/categories/android/"/>
    
    
      <category term="android" scheme="http://tea9.xyz/tags/android/"/>
    
  </entry>
  
  <entry>
    <title>androidæ€æ­»è¿›ç¨‹</title>
    <link href="http://tea9.xyz/post/2168217961.html"/>
    <id>http://tea9.xyz/post/2168217961.html</id>
    <published>2018-12-25T16:00:00.000Z</published>
    <updated>2019-03-20T06:55:49.553Z</updated>
    
    <content type="html"><![CDATA[<p>æµ‹è¯•æ‰‹æœºï¼š<br>åä¸ºè£è€€6 å‹å· H60-L01  Androidç‰ˆæœ¬ 4.4.2   </p><pre><code>android.os.Process.killProcess(pid); ç»“æŸpidçš„è¿›ç¨‹ å¹¶é‡Šæ”¾èµ„æºactivityManager.killBackgroundProcesses(pkgName); kill -9 pidsystem.exit(int) å…³é—­è™šæ‹Ÿæœº ç»“æŸæ•´ä¸ªapp 0è¡¨ç¤ºæ­£å¸¸ç»“æŸ 1è¡¨ç¤ºå¼‚å¸¸ç»“æŸrestartPackage(getpackageName()); 2.2ä¹‹å‰    ActivityManager manager = (ActivityManager)getSystemService(Context.ACTIVITY_SERVICE);    manager.restartPackage(getPackageName());    &lt;user-permission android:name=&quot;android.permission.RESTART_PACKAGES&quot;/&gt;ActivityManager killBackgroundProcess(packagename) æ¥ç»“æŸapp</code></pre><h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><pre><code>psUSER è¿›ç¨‹å½“å‰ç”¨æˆ·     PID Process ID è¿›ç¨‹ID    PPID Process Parent ID çˆ¶è¿›ç¨‹ID   VSIZE Virtual Size è¿›ç¨‹çš„è™šæ‹Ÿå†…å­˜å¤§å°      RSS Resident Set Size å®é™…é©»ç•™â€œåœ¨å†…å­˜ä¸­â€çš„å†…å­˜å¤§å°WCHAN ä¼‘çœ è¿›ç¨‹åœ¨å†…æ ¸ä¸­çš„åœ°å€     PC Program Counter     NAME è¿›ç¨‹åps|grep &lt;package-name&gt;ps|grep com.xx.xxu0_a150   10189 19086 913548 58872 ffffffff 00000000 S com.xx.xx:process1u0_a150   10258 19086 957020 75504 ffffffff 00000000 S com.xx.xxu0_a150   10350 19086 923572 70564 ffffffff 00000000 S com.xx.xx:pushserviceu0_a150   10532 10350 1912   180   ffffffff 00000000 S /data/data/com.xx.xx/files/gdaemon_20161017sukill -9 10189 10258 10350 10532ä»¥ä¸Šæ€æ­»ä¹‹ååº”ç”¨è¿˜ä¼šè‡ªå¯ çœŸçš„æ˜¯ ç›´æ¥ kill -9 19086 æ‰‹æœºä¼šé‡æ–°å¯åŠ¨</code></pre><h2 id="2"><a href="#2" class="headerlink" title="2"></a>2</h2><pre><code>am force-stop &lt;package-name&gt;suam force-stop com.xx.xxps|grep com.xx.xx u0_a150   28289 1     1912   180   ffffffff 40093b20 S /data/data/com.xx.xx/files/gdaemon_20161017u0_a150   30093 12460 913496 58692 ffffffff 40111954 S com.xx.xx:process1u0_a150   30140 12460 967536 74860 ffffffff 40111954 S com.xx.xxu0_a150   30175 12460 923952 68276 ffffffff 40111954 S com.xx.xx:pushserviceam start -n &lt;package-name/class-name&gt;</code></pre><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><pre><code>è¯•ç€æŸ¥æ‰¾äº†ä¸€ä¸‹ çˆ¶è¿›ç¨‹ å‘ç°äº†ä¸€ä¸ªzygoteroot      12460 1     879800 71564 ffffffff 4007c8f0 S zygote</code></pre><h2 id="Besides"><a href="#Besides" class="headerlink" title="Besides"></a>Besides</h2><p><a href="https://pan.baidu.com/s/1vNqyTPEPyiWyZG306A76bw" target="_blank" rel="noopener">LBS&amp;VirtualXposed&amp;XposedInstaller&amp;360æå®¢ç‰ˆ</a>  </p><p>å°è¯•è£…äº†LBEåŠ é€Ÿå¤§å¸ˆ æ€æ­»è¿›ç¨‹ ä¸åˆ°1ç§’å°±ä¼šåˆå­˜åœ¨<br>å°è¯•è£…äº†Xposed æ˜¾ç¤ºXposedæ¡†æ¶æœªå®‰è£… <a href="https://blog.csdn.net/coder_pig/article/details/80586601" target="_blank" rel="noopener">æŠ±æ­‰ï¼ŒXposedçœŸçš„å¯ä»¥ä¸ºæ‰€æ¬²ä¸ºâ€”â€”5.æˆ‘è‡ªå·±åˆ·çš„Xposedå‡­ä»€ä¹ˆä¸ç»™æˆ‘ç”¨</a>  <a href="https://sspai.com/post/40121" target="_blank" rel="noopener">å…³äº Android 7.1 çš„ Xposedï¼Œä½ æƒ³çŸ¥é“çš„éƒ½åœ¨è¿™</a><br>å°è¯•è£…äº†VirtualXposed Failure INSTALL_FAILED_OLDER_SDK <a href="https://www.tricksfolks.com/vx-apk-dl/" target="_blank" rel="noopener">VirtualXposed APK Download Page</a><br>å°è¯•è£…ç»¿è‰²å®ˆæŠ¤ <a href="https://www.coolapk.com/apk/com.oasisfeng.greenify" target="_blank" rel="noopener">Greenifyç»¿è‰²å®ˆæŠ¤é…·å®‰</a> <a href="http://www.zhihu.com/question/21007772" target="_blank" rel="noopener">googlepaly</a> <a href="https://www.efanyh.com/archives/8250.html" target="_blank" rel="noopener">Greenify</a> Failure [INSTALL_FAILED_OLDER_SDK] å¯èƒ½è¦è¯•ä¸‹è€ç‰ˆæœ¬<br>(å¯ä»¥å‡çº§ç»§ç»­å°è¯•ä¸‹)å°è¯•è£…360æå®¢ç‰ˆ  æ¸…ç†ä¹‹å ç›®æ ‡åº”ç”¨è¿˜ä¼šé‡å¯ ç„¶åå¼€æœºä¸ä¼šè‡ªå¯ æ‰“å¼€ç›®æ ‡åº”ç”¨ ç„¶åæ¸…ç† ç›®æ ‡åº”ç”¨è¿˜ä¼šè‡ªå¯<br>å°è¯•è£…äº†LBEå®‰å…¨å¤§å¸ˆ ä¸å¥½ä½¿<br><a href="https://www.coolapk.com/apk/com.catchingnow.icebox" target="_blank" rel="noopener">å†°ç®±</a> Failure [INSTALL_FAILED_OLDER_SDK]<br><a href="https://www.coolapk.com/apk/web1n.stopapp" target="_blank" rel="noopener">å°é»‘å±‹</a>  Failure [INSTALL_FAILED_OLDER_SDK]<br>é»‘åŸŸ è¿˜æ²¡ä¸‹è½½å°è¯•<a href="http://zuimeia.com/app/5206/?platform=2" target="_blank" rel="noopener">é»‘åŸŸ</a><br><a href="https://github.com/Jiangyiqun/android_background_ignore" target="_blank" rel="noopener">android_background_ignore</a>  åªæ”¯æŒandroid7.0 8.0  </p><hr><p>my Android tools <a href="https://www.zhihu.com/question/26934572" target="_blank" rel="noopener">å¦‚ä½•æ­£ç¡®ä½¿ç”¨ My Android Tools è°ƒæ•™å„å¤§æµæ°“è½¯ä»¶ï¼Ÿ</a> <a href="https://www.zhihu.com/question/30971054" target="_blank" rel="noopener">å¦‚ä½•éåˆ¶å®‰å“ç³»ç»Ÿä¸­BATç³»è½¯ä»¶çš„åå°è‡ªåŠ¨å”¤é†’ï¼Ÿ</a><br>3c toolbox pro<br>App Ops <a href="http://bbs.gfan.com/android-9160337-1-1.html" target="_blank" rel="noopener">ç»™æœ‰ä¸€å®šåŠ¨æ‰‹èƒ½åŠ›åˆä¸æ€•éº»çƒ¦çš„äºº~~ADBé™åˆ¶åå°å‘½ä»¤RUN_IN_B..</a> <a href="https://www.ithome.com/html/android/323417.htm" target="_blank" rel="noopener">ITä¹‹å®¶å­¦é™¢ï¼šå¦‚ä½•å…ROOTé˜»æ­¢Androidåº”ç”¨å”¤é†’</a><br>Shuzuku Manager  </p><hr><p><a href="http://bbs.nga.cn/read.php?tid=8928147&amp;rand=530" target="_blank" rel="noopener">[å¤§å‹åŸåˆ›æ•™ç¨‹]å¦‚ä½•å®Œç¾è§£å†³Androidç³»ç»Ÿåå°ã€å…³è”å”¤é†’ã€è‡ªå¯åŠ¨ã€å…¨å®¶æ¡¶é—®é¢˜</a>  </p><h2 id="Finally"><a href="#Finally" class="headerlink" title="Finally"></a>Finally</h2><p>æœ€åç»“è®ºæ˜¯è¿™ä¸ªè½¯ä»¶å¤ªæµæ°“äº† process1å’Œpushserviceæ˜¯å…³é”® ä¼°è®¡è¦æ€æ­»åº”ç”¨è¦ å…ˆæ€æ­»è¿™ä¸ª<br>é˜»æ­¢zygote <a href="https://www.cnblogs.com/herenzhiming/articles/4998045.html" target="_blank" rel="noopener">Androidç³»ç»Ÿå¯åŠ¨2â€”Zygoteå¯åŠ¨åŠå…¶ä½œç”¨</a>  </p><p>ä½ å¥½åˆ°æ‰‹æœºç®¡å®¶â€”æƒé™ç®¡ç†â€”è‡ªåŠ¨è‡ªå¯ç®¡ç†,ç¬¬ä¸€ä¸ªä½ è¿›å»è®¾ç½®ä¸€ä¸‹ï¼Œè¿™ä¸ªå°±æ˜¯å…³è”å¯åŠ¨çš„<br>åä¸ºè£è€€6ç¦æ­¢åº”ç”¨è‡ªå¯åŠ¨/å”¤é†’<br>å¼€å‘è€…é€‰é¡¹ä¸å…è®¸åå°è¿›ç¨‹<br>å–æ¶ˆappç³»ç»Ÿæƒé™  </p><h2 id="LINKS"><a href="#LINKS" class="headerlink" title="LINKS"></a>LINKS</h2><p><a href="https://blog.csdn.net/feigoliu/article/details/50505377" target="_blank" rel="noopener">é€šè¿‡adbæ“ä½œå®‰å“äº®å±è§£é”æ‰“å¼€app</a>  </p><p><a href="https://www.jianshu.com/p/0c75c3169abb" target="_blank" rel="noopener">Xposed å…¥å‘ç¯‡</a><br><a href="http://bbs.gfan.com/android-8418350-1-1.html" target="_blank" rel="noopener">[å®ç”¨æ•™ç¨‹] ã€çœç”µæ•™ç¨‹ã€‘æ— éœ€Rootï¼ŒNexus 6Pé™åˆ¶APPå”¤é†’çš„æ–¹æ³•</a><br><a href="https://tieba.baidu.com/p/5108711355?red_tag=2001865390" target="_blank" rel="noopener">ã€å¯¼èˆªè´´ã€‘ç»¿è‰²å®ˆæŠ¤æ•™ç¨‹/èµ„æº/é—®ç­” v1.0</a><br><a href="https://www.zhihu.com/question/31560390" target="_blank" rel="noopener">æœ‰æ²¡æœ‰æœ‰æ•ˆçš„åŠæ³•åˆ‡æ–­å®‰å“appçš„ç›¸äº’å”¤é†’è·¯å¾„ï¼Ÿ</a><br><a href="https://blog.csdn.net/duan140524/article/details/51766695" target="_blank" rel="noopener">Androidä¸­å¦‚ä½•æ€æ­»åå°åº”ç”¨è€Œä¸è‡ªå¯åŠ¨</a><br><a href="https://www.cnblogs.com/herenzhiming/articles/4998045.html" target="_blank" rel="noopener">Androidç³»ç»Ÿå¯åŠ¨2â€”Zygoteå¯åŠ¨åŠå…¶ä½œç”¨</a>  </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æµ‹è¯•æ‰‹æœºï¼š&lt;br&gt;åä¸ºè£è€€6 å‹å· H60-L01  Androidç‰ˆæœ¬ 4.4.2   &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;android.os.Process.killProcess(pid); ç»“æŸpidçš„è¿›ç¨‹ å¹¶é‡Šæ”¾èµ„æº

activityManager.killBac
      
    
    </summary>
    
      <category term="android" scheme="http://tea9.xyz/categories/android/"/>
    
    
      <category term="android" scheme="http://tea9.xyz/tags/android/"/>
    
  </entry>
  
</feed>
