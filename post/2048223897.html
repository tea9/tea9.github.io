<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="心中有光の孩子">
    <meta name="keyword"  content="tea9">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        android获取控件的几种方法 - tea9的博客 | tea9&#39;s Blog
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> 努力活着 </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/avatar.png" />
        </div>
        <div class="name">
            <i>tea9</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>HOME</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>TAGS</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>ARCHIVES</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>ABOUT</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>SEARCH</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#0x01-findViewById"><span class="toc-text">0x01 findViewById</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x02-getResources-getIdentifier"><span class="toc-text">0x02 getResources().getIdentifier()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x03-getField"><span class="toc-text">0x03 getField()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x04-通过反射"><span class="toc-text">0x04 通过反射</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#code"><span class="toc-text">code</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#others"><span class="toc-text">others</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LINKS"><span class="toc-text">LINKS</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">search</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i> 努力活着 </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        android获取控件的几种方法
    </div>

    <div class="post-meta">
        <span class="attr">Post：<span>2018-11-07 00:00:00</span></span>
        
        <span class="attr">Tags：/
        
        <a class="tag" href="/tags/#android" title="android">android</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">Visit：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <p>layout  </p>
<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;match_parent&quot;
    android:background=&quot;@color/colorPrimary&quot;
    android:layout_height=&quot;wrap_content&quot;&gt;
    &lt;TextView
        android:id=&quot;@+id/item_tv&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_centerInParent=&quot;true&quot;
        android:textSize=&quot;25sp&quot; /&gt;
&lt;/RelativeLayout&gt;
</code></pre><h2 id="0x01-findViewById"><a href="#0x01-findViewById" class="headerlink" title="0x01 findViewById"></a>0x01 findViewById</h2><pre><code>private TextView item_tv;

item_tv = findViewById(R.id.item_tv);
item_tv.setText(&quot;text1&quot;);
</code></pre><h2 id="0x02-getResources-getIdentifier"><a href="#0x02-getResources-getIdentifier" class="headerlink" title="0x02 getResources().getIdentifier()"></a>0x02 getResources().getIdentifier()</h2><pre><code>int viewId = getResources().getIdentifier(&quot;item_tv&quot;, &quot;id&quot;, getPackageName());
TextView textView =findViewById(viewId);
textView.setText(&quot;text2&quot;);
</code></pre><h2 id="0x03-getField"><a href="#0x03-getField" class="headerlink" title="0x03 getField()"></a>0x03 getField()</h2><pre><code>try {
    Field field = R.id.class.getField(&quot;item_tv&quot;);
    TextView textView = findViewById(field.getInt(null));
    textView.setText(&quot;text3&quot;);

} catch (NoSuchFieldException e) {
    e.printStackTrace();
} catch (IllegalAccessException e) {
    e.printStackTrace();
}
</code></pre><h2 id="0x04-通过反射"><a href="#0x04-通过反射" class="headerlink" title="0x04 通过反射"></a>0x04 通过反射</h2><pre><code>java反射机制
    获取类的方式:(1)class.forName(&quot;类名&quot;),(2)类名().getClass(),(3)类名.class;
    Constructor类:
        getConstuctor()返回class的构造函数;
        getConstructors()返回class类的所有构造方法;
        getDelaredConstructor()返回class类或接口指定的构造函数;
        getDelaredConstructors()返回所有class类或接口指定的构造函数;
        getEnclosingConstructor()返回class类的构造方法中的一个本地或匿名类;
        getModifiers()返回对象的java修饰符;
        getName()以字符串的形式返回构造方法的名称;
        newInstance()实例化对象;
    getDeclaredFields()获取本类的全部属性;
    getMethod()获取类中的方法对象;
    Field类:
        获取反射字段的方式:getDeclaredField(),getFields();
        getName()获取字段名;
        getType()获取字段类型;
        get()获取字段的值;
        set()设置字段的值;

try {
        Class stuClass = Class.forName(&quot;com.example.homepage.activity.HH&quot;);
        Field file = stuClass.getDeclaredField(&quot;item_tv&quot;); // 通过反射获取item_tv对象
        file.setAccessible(true);
        TextView textView = (TextView) file.get(this); // 获取textView实例
        textView.setText(&quot;text4&quot;);
        file.set(this,textView);
    } catch (Exception e) {
        e.printStackTrace();
    }
}
</code></pre><h2 id="code"><a href="#code" class="headerlink" title="code"></a>code</h2><p><a href="https://github.com/tea9/dear_kotlin_code/blob/master/homepage/src/main/java/com/example/homepage/activity/HH.java" target="_blank" rel="noopener">code</a>  </p>
<h2 id="others"><a href="#others" class="headerlink" title="others"></a>others</h2><p>一些测试代码  </p>
<pre><code>        try {
//            Field field = R.id.class.getField(&quot;header_tv&quot;);
            Class stuClass = Class.forName(&quot;com.jwenfeng.library.pulltorefresh.view.HeadRefreshView&quot;);
//            Class stuClass = Class.forName(&quot;com.jwenfeng.library.pulltorefresh.PullToRefreshLayout&quot;);
//            Field f = stuClass.getDeclaredField(&quot;header_tv&quot;);
//            f.setAccessible(true);
//
//            TextView textView = findViewById(f.getInt(null));
//            Log.e(&quot;tea&quot;,textView.getText().toString());
//            textView.setText(&quot;zezeze&quot;);
//            HeadRefreshView view = (HeadRefreshView) stuClass.newInstance();
//            Field[] fieldArray = stuClass.getFields(); // 不包括私有参数
//            Field[] fieldArray = stuClass.getDeclaredFields(); //私有参数
//            for(Field f : fieldArray){
//                Log.e(&quot;tea&quot;, String.valueOf(f));
//            }
            Field file = stuClass.getDeclaredField(&quot;tv&quot;);
            file.setAccessible(true);
//            Log.e(&quot;tea&quot;, String.valueOf(file));
            HeadRefreshView view = new HeadRefreshView(this);
            TextView nameStr = (TextView) file.get(view);
            Log.e(&quot;tea&quot;, nameStr.getText().toString());
            nameStr.setText(&quot;tea9&quot;);
//            nameStr.setVisibility(View.GONE);
//            TextView textView = new TextView(this);
//            textView.setVisibility(View.GONE);
//            textView.setText(&quot;tea0&quot;);
//            file.set(view, nameStr);
//            Constructor&lt;?&gt;[] constructor = stuClass.getConstructors(); //构造方法
//            for (int i = 0; i &lt; constructor.length; i++) {
////                Log.e(&quot;tea&quot;, constructor[i].toString());
//            }
//            Method[] methods = stuClass.getDeclaredMethods(); // 获取声明的方法
//            for (int i = 0; i &lt; methods.length; i++) {
////                Log.e(&quot;tea&quot;, methods[i].toString());
//            }
            Method m2 = stuClass.getDeclaredMethod(&quot;getView&quot;);
            View view1 = (View) m2.invoke(view);
            TextView textView1 = view1.findViewById(R.id.header_tv);
            textView1.setVisibility(View.GONE);
            textView1.setText(&quot;tea8&quot;);
            file.set(view1, textView1);
//            Log.e(&quot;tea1&quot;, textView1.getText().toString());
//            TextView nameStr1 = (TextView) file.get(view);
//            Log.e(&quot;tea&quot;, nameStr1.getText().toString());

        }  catch (Exception e) {
            e.printStackTrace();
            Log.e(&quot;tea&quot;, &quot;错误了&quot;);
        }

//        int viewId = getResources().getIdentifier(&quot;tv&quot;, &quot;id&quot;, &quot;com.jwenfeng.library.pulltorefresh&quot;);
//        TextView textView = (TextView)findViewById(viewId);
//        textView.setText(&quot;sss&quot;);
</code></pre><h2 id="LINKS"><a href="#LINKS" class="headerlink" title="LINKS"></a>LINKS</h2><p><a href="https://qiita.com/1plus4/items/9f273b26945a8659d441" target="_blank" rel="noopener">リフレクションを使って文字列からリソースIDを取得する</a><br><a href="https://www.jianshu.com/p/5c9bc53556b8" target="_blank" rel="noopener">JAVA反射</a><br><a href="https://www.jianshu.com/p/2315dda64ad2" target="_blank" rel="noopener">Java Reflection(反射机制)详解</a><br><a href="https://www.cnblogs.com/zhaoyanjun/p/6074887.html" target="_blank" rel="noopener">Java 反射 使用总结</a><br><a href="https://blog.csdn.net/stzy00/article/details/41079907" target="_blank" rel="noopener">关于Android中根据ID名动态获取资源的两个方法</a><br><a href="https://blog.csdn.net/lfdfhl/article/details/21017889" target="_blank" rel="noopener">Android利用资源名称获取其ID(一)—&gt;getIdentifier()</a>  </p>

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        <li>
            <a target="_blank" href="https://twitter.com/shaomiaosun">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-twitter"></i>
                            </span>
            </a>
        </li>
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/tea9">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span>/</span>
        
        <span><a href="https://tea9.github.io">tea9</a></span>
        <span>/</span>
        
        <span><a href="https://miracles666.github.io">Miracles</a></span>
        <span>/</span>
        
        <span><a href="https://www.zhangqirun.cn">童年是个风筝的博客</a></span>
        <span>/</span>
        
        <span><a href="https://townwang.com">文科中的技术宅</a></span>
        <span>/</span>
        
        <span><a href="https://sunbossrs.github.io">耀日庄主的博客</a></span>
        <span>/</span>
        
        <span><a href="https://www.pdcgame.com">pdcgame</a></span>
        <span>/</span>
        
        <span><a href="http://gloomyghost.com/">gloomyghost</a></span>
        <span>/</span>
        
        <span><a href="https://www.fghrsh.net">FGHRSH</a></span>
        <span>/</span>
        
        <span><a href="https://a632079.me">藤の青</a></span>
        <span>/</span>
        
        <span><a href="https://www.vseu.com/">幸运草</a></span>
        <span>/</span>
        
        <span><a href="https://shawnzeng.com/">诗与酒</a></span>
        <span>/</span>
        
        <span><a href="https://nekohome.moenya.cat">NekoHome 喵窝</a></span>
        <span>/</span>
        
        <span><a href="https://www.lkxin.cn">清酒踏月</a></span>
        <span>/</span>
        
        <span><a href="http://www.ad-s.cn/">冰峰博客</a></span>
        <span>/</span>
        
        <span><a href="https://linhai1990.com">以梦为马，奔向远方</a></span>
        <span>/</span>
        
        <span><a href="https://www.cnliuqi.com">终南小筑</a></span>
        <span>/</span>
        
        <span><a href="http://login546.xyz">Unique</a></span>
        <span>/</span>
        
        <span><a href="https://1000yun.cn/">雨落泪尽</a></span>
        <span>/</span>
        
        <span><a href="https://laugh12321.github.io/blog">Laugh&#39;s Blog</a></span>
        <span>/</span>
        
        <span><a href="https://shaozhi.site">ShaoZhi&#39;s Blog</a></span>
        <span>/</span>
        
        <span><a href="https://www.xiz.im">Xiang Xiz</a></span>
        <span>/</span>
        
        <span><a href="https://www.xx8.uk">lan酱的小窝</a></span>
        <span>/</span>
        
        <span><a href="https://www.ckbug.com">Casey</a></span>
        <span>/</span>
        
        <span><a href="http://poi.ac/">星夜的蓝天</a></span>
        <span>/</span>
        
        <span><a href="http://www.oneinf.com">俍注</a></span>
        <span>/</span>
        
    </p>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<!--create by tea9-->

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
    var gitalk = new Gitalk({
      clientID: 'dd67fb84ddbc6cf9c112',
      clientSecret: 'be4e88389be3e45fbafbd7592148fa47feacaacf',
      repo: 'tea9.github.io',
      owner: 'tea9',
      admin: 'tea9',
      id: location.pathname,      // Ensure uniqueness and length less than 50
      distractionFreeMode: false  // Facebook-like distraction free mode
    })
    gitalk.render('comment-container')
</script>

<!--end-->





</html>
